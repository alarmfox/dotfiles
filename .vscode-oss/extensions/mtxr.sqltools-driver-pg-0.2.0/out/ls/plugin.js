var ai=Object.defineProperty,wl=Object.prototype.hasOwnProperty,Sl=Object.getOwnPropertySymbols,FE=Object.prototype.propertyIsEnumerable,De=Math.pow,Ye=Object.assign,Ds=(e,t)=>{var r={};for(var n in e)wl.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Sl)for(var n of Sl(e))t.indexOf(n)<0&&FE.call(e,n)&&(r[n]=e[n]);return r},v=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Cl=e=>ai(e,"__esModule",{value:!0}),Nl=(e,t)=>{Cl(e);for(var r in t)ai(e,r,{get:t[r],enumerable:!0})},jE=(e,t)=>{if(Cl(e),typeof t=="object"||typeof t=="function")for(let r in t)!wl.call(e,r)&&r!=="default"&&ai(e,r,{get:()=>t[r],enumerable:!0});return e},Kt=e=>e&&e.__esModule?e:jE(ai({},"default",{value:e,enumerable:!0}),e),ft=(e,t,r)=>new Promise((n,i)=>{var s=c=>{try{a(r.next(c))}catch(u){i(u)}},o=c=>{try{a(r.throw(c))}catch(u){i(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);a((r=r.apply(e,t)).next())});var ks=v(Il=>{"use strict";Il.parse=function(e,t){return new Ol(e,t).parse()};class Ol{constructor(e,t){this.source=e,this.transform=t||UE,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e==="\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&(t=this.recorded.join(""),t==="NULL"&&!e&&(t=null),t!==null&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var e=this.nextCharacter();if(e.value==="=")break}}parse(e){var t,r,n;for(this.consumeDimensions();!this.isEof();)if(t=this.nextCharacter(),t.value==="{"&&!n)this.dimension++,this.dimension>1&&(r=new Ol(this.source.substr(this.position-1),this.transform),this.entries.push(r.parse(!0)),this.position+=r.position-2);else if(t.value==="}"&&!n){if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else t.value==='"'&&!t.escaped?(n&&this.newEntry(!0),n=!n):t.value===","&&!n?this.newEntry():this.record(t.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}}function UE(e){return e}});var Ms=v(($1,Al)=>{var BE=ks();Al.exports={create:function(e,t){return{parse:function(){return BE.parse(e,t)}}}}});var xl=v((V1,Ll)=>{"use strict";var WE=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,HE=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,GE=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,$E=/^-?infinity$/;Ll.exports=function(t){if($E.test(t))return Number(t.replace("i","I"));var r=WE.exec(t);if(!r)return VE(t)||null;var n=!!r[8],i=parseInt(r[1],10);n&&(i=Pl(i));var s=parseInt(r[2],10)-1,o=r[3],a=parseInt(r[4],10),c=parseInt(r[5],10),u=parseInt(r[6],10),h=r[7];h=h?Math.round(1e3*parseFloat(h)):0;var d,g=zE(t);return g!=null?(d=new Date(Date.UTC(i,s,o,a,c,u,h)),qs(i)&&d.setUTCFullYear(i),d.setTime(d.getTime()-g)):(d=new Date(i,s,o,a,c,u,h),qs(i)&&d.setFullYear(i)),d};function VE(e){var t=HE.exec(e);if(!t)return;var r=parseInt(t[1],10),n=!!t[4];n&&(r=Pl(r));var i=parseInt(t[2],10)-1,s=t[3],o=new Date(r,i,s);return qs(r)&&o.setFullYear(r),o}function zE(e){var t=GE.exec(e.split(" ")[1]);if(!t)return;var r=t[1];if(r==="Z")return 0;var n=r==="-"?-1:1,i=parseInt(t[2],10)*3600+parseInt(t[3]||0,10)*60+parseInt(t[4]||0,10);return i*n*1e3}function Pl(e){return-(e-1)}function qs(e){return e>=0&&e<100}});var kl=v((z1,Dl)=>{Dl.exports=XE;var YE=Object.prototype.hasOwnProperty;function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)YE.call(r,n)&&(e[n]=r[n])}return e}});var Fl=v((X1,Ml)=>{"use strict";var QE=kl();Ml.exports=Pr;function Pr(e){if(!(this instanceof Pr))return new Pr(e);QE(this,KE(e))}var JE=["seconds","minutes","hours","days","months","years"];Pr.prototype.toPostgres=function(){var e=JE.filter(this.hasOwnProperty,this);return this.milliseconds&&e.indexOf("seconds")<0&&e.push("seconds"),e.length===0?"0":e.map(function(t){var r=this[t]||0;return t==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),r+" "+t},this).join(" ")};var ZE={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},ev=["years","months","days"],tv=["hours","minutes","seconds"];Pr.prototype.toISOString=Pr.prototype.toISO=function(){var e=ev.map(r,this).join(""),t=tv.map(r,this).join("");return"P"+e+"T"+t;function r(n){var i=this[n]||0;return n==="seconds"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),i+ZE[n]}};var Fs="([+-]?\\d+)",rv=Fs+"\\s+years?",nv=Fs+"\\s+mons?",iv=Fs+"\\s+days?",sv="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",ov=new RegExp([rv,nv,iv,sv].map(function(e){return"("+e+")?"}).join("\\s*")),ql={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},av=["hours","minutes","seconds","milliseconds"];function cv(e){var t=e+"000000".slice(e.length);return parseInt(t,10)/1e3}function KE(e){if(!e)return{};var t=ov.exec(e),r=t[8]==="-";return Object.keys(ql).reduce(function(n,i){var s=ql[i],o=t[s];return o?(o=i==="milliseconds"?cv(o):parseInt(o,10),o&&(r&&~av.indexOf(i)&&(o*=-1),n[i]=o),n):n},{})}});var Ul=v((Y1,jl)=>{"use strict";jl.exports=function(t){if(/^\\x/.test(t))return new Buffer(t.substr(2),"hex");for(var r="",n=0;n<t.length;)if(t[n]!=="\\")r+=t[n],++n;else if(/[0-7]{3}/.test(t.substr(n+1,3)))r+=String.fromCharCode(parseInt(t.substr(n+1,3),8)),n+=4;else{for(var i=1;n+i<t.length&&t[n+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)r+="\\";n+=Math.floor(i/2)*2}return new Buffer(r,"binary")}});var zl=v((Q1,Bl)=>{var pn=ks(),mn=Ms(),ci=xl(),Wl=Fl(),Hl=Ul();function li(e){return function(r){return r===null?r:e(r)}}function Gl(e){return e===null?e:e==="TRUE"||e==="t"||e==="true"||e==="y"||e==="yes"||e==="on"||e==="1"}function lv(e){return e?pn.parse(e,Gl):null}function uv(e){return parseInt(e,10)}function js(e){return e?pn.parse(e,li(uv)):null}function hv(e){return e?pn.parse(e,li(function(t){return $l(t).trim()})):null}var fv=function(e){if(!e)return null;var t=mn.create(e,function(r){return r!==null&&(r=Us(r)),r});return t.parse()},Bs=function(e){if(!e)return null;var t=mn.create(e,function(r){return r!==null&&(r=parseFloat(r)),r});return t.parse()},dt=function(e){if(!e)return null;var t=mn.create(e);return t.parse()},Ws=function(e){if(!e)return null;var t=mn.create(e,function(r){return r!==null&&(r=ci(r)),r});return t.parse()},dv=function(e){if(!e)return null;var t=mn.create(e,function(r){return r!==null&&(r=Wl(r)),r});return t.parse()},pv=function(e){return e?pn.parse(e,li(Hl)):null},Hs=function(e){return parseInt(e,10)},$l=function(e){var t=String(e);return/^\d+$/.test(t)?t:e},Vl=function(e){return e?pn.parse(e,li(JSON.parse)):null},Us=function(e){return e[0]!=="("?null:(e=e.substring(1,e.length-1).split(","),{x:parseFloat(e[0]),y:parseFloat(e[1])})},mv=function(e){if(e[0]!=="<"&&e[1]!=="(")return null;for(var t="(",r="",n=!1,i=2;i<e.length-1;i++){if(n||(t+=e[i]),e[i]===")"){n=!0;continue}else if(!n)continue;if(e[i]===",")continue;r+=e[i]}var s=Us(t);return s.radius=parseFloat(r),s},gv=function(e){e(20,$l),e(21,Hs),e(23,Hs),e(26,Hs),e(700,parseFloat),e(701,parseFloat),e(16,Gl),e(1082,ci),e(1114,ci),e(1184,ci),e(600,Us),e(651,dt),e(718,mv),e(1e3,lv),e(1001,pv),e(1005,js),e(1007,js),e(1028,js),e(1016,hv),e(1017,fv),e(1021,Bs),e(1022,Bs),e(1231,Bs),e(1014,dt),e(1015,dt),e(1008,dt),e(1009,dt),e(1040,dt),e(1041,dt),e(1115,Ws),e(1182,Ws),e(1185,Ws),e(1186,Wl),e(1187,dv),e(17,Hl),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,Vl),e(3807,Vl),e(3907,dt),e(2951,dt),e(791,dt),e(1183,dt),e(1270,dt)};Bl.exports={init:gv}});var Yl=v((K1,Xl)=>{"use strict";var Ze=1e6;function Ev(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),n="";t<0&&(t=~t+(r===0),r=~r+1>>>0,n="-");var i="",s,o,a,c,u,h;{if(s=t%Ze,t=t/Ze>>>0,o=4294967296*s+r,r=o/Ze>>>0,a=""+(o-Ze*r),r===0&&t===0)return n+a+i;for(c="",u=6-a.length,h=0;h<u;h++)c+="0";i=c+a+i}{if(s=t%Ze,t=t/Ze>>>0,o=4294967296*s+r,r=o/Ze>>>0,a=""+(o-Ze*r),r===0&&t===0)return n+a+i;for(c="",u=6-a.length,h=0;h<u;h++)c+="0";i=c+a+i}{if(s=t%Ze,t=t/Ze>>>0,o=4294967296*s+r,r=o/Ze>>>0,a=""+(o-Ze*r),r===0&&t===0)return n+a+i;for(c="",u=6-a.length,h=0;h<u;h++)c+="0";i=c+a+i}return s=t%Ze,o=4294967296*s+r,a=""+o%Ze,n+a+i}Xl.exports=Ev});var eu=v((J1,Ql)=>{var vv=Yl(),be=function(e,t,r,n,i){r=r||0,n=n||!1,i=i||function(C,N,U){return C*Math.pow(2,U)+N};var s=r>>3,o=function(C){return n?~C&255:C},a=255,c=8-r%8;t<c&&(a=255<<8-t&255,c=t),r&&(a=a>>r%8);var u=0;r%8+t>=8&&(u=i(0,o(e[s])&a,c));for(var h=t+r>>3,d=s+1;d<h;d++)u=i(u,o(e[d]),8);var g=(t+r)%8;return g>0&&(u=i(u,o(e[h])>>8-g,g)),u},Kl=function(e,t,r){var n=Math.pow(2,r-1)-1,i=be(e,1),s=be(e,r,1);if(s===0)return 0;var o=1,a=function(u,h,d){u===0&&(u=1);for(var g=1;g<=d;g++)o/=2,(h&1<<d-g)>0&&(u+=o);return u},c=be(e,t,r+1,!1,a);return s==Math.pow(2,r+1)-1?c===0?i===0?Infinity:-Infinity:NaN:(i===0?1:-1)*Math.pow(2,s-n)*c},yv=function(e){return be(e,1)==1?-1*(be(e,15,1,!0)+1):be(e,15,1)},Jl=function(e){return be(e,1)==1?-1*(be(e,31,1,!0)+1):be(e,31,1)},Tv=function(e){return Kl(e,23,8)},Rv=function(e){return Kl(e,52,11)},bv=function(e){var t=be(e,16,32);if(t==49152)return NaN;for(var r=Math.pow(1e4,be(e,16,16)),n=0,i=[],s=be(e,16),o=0;o<s;o++)n+=be(e,16,64+16*o)*r,r/=1e4;var a=Math.pow(10,be(e,16,48));return(t===0?1:-1)*Math.round(n*a)/a},Zl=function(e,t){var r=be(t,1),n=be(t,63,1),i=new Date((r===0?1:-1)*n/1e3+9466848e5);return e||i.setTime(i.getTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(s){this.usec=s},i.getUTCMicroSeconds=function(){return this.usec},i},gn=function(e){for(var t=be(e,32),r=be(e,32,32),n=be(e,32,64),i=96,s=[],o=0;o<t;o++)s[o]=be(e,32,i),i+=32,i+=32;var a=function(u){var h=be(e,32,i);if(i+=32,h==4294967295)return null;var d;if(u==23||u==20)return d=be(e,h*8,i),i+=h*8,d;if(u==25)return d=e.toString(this.encoding,i>>3,(i+=h<<3)>>3),d;console.log("ERROR: ElementType not implemented: "+u)},c=function(u,h){var d=[],g;if(u.length>1){var C=u.shift();for(g=0;g<C;g++)d[g]=c(u,h);u.unshift(C)}else for(g=0;g<u[0];g++)d[g]=a(h);return d};return c(s,n)},_v=function(e){return e.toString("utf8")},wv=function(e){return e===null?null:be(e,8)>0},Sv=function(e){e(20,vv),e(21,yv),e(23,Jl),e(26,Jl),e(1700,bv),e(700,Tv),e(701,Rv),e(16,wv),e(1114,Zl.bind(null,!1)),e(1184,Zl.bind(null,!0)),e(1e3,gn),e(1007,gn),e(1016,gn),e(1008,gn),e(1009,gn),e(25,_v)};Ql.exports={init:Sv}});var ru=v((Z1,tu)=>{tu.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var yn=v(En=>{var Cv=zl(),Nv=eu(),Iv=Ms(),Ov=ru();En.getTypeParser=Av;En.setTypeParser=Lv;En.arrayParser=Iv;En.builtins=Ov;var vn={text:{},binary:{}};function nu(e){return String(e)}function Av(e,t){return t=t||"text",vn[t]&&vn[t][e]||nu}function Lv(e,t,r){typeof t=="function"&&(r=t,t="text"),vn[t][e]=r}Cv.init(function(e,t){vn.text[e]=t});Nv.init(function(e,t){vn.binary[e]=t})});var Tn=v((tL,Gs)=>{"use strict";Gs.exports={host:"localhost",user:process.platform==="win32"?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var xr=yn(),Pv=xr.getTypeParser(20,"text"),xv=xr.getTypeParser(1016,"text");Gs.exports.__defineSetter__("parseInt8",function(e){xr.setTypeParser(20,"text",e?xr.getTypeParser(23,"text"):Pv),xr.setTypeParser(1016,"text",e?xr.getTypeParser(1007,"text"):xv)})});var hi=v((rL,iu)=>{"use strict";const Dv=require("crypto"),kv=Tn();function Mv(e){var t=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+t+'"'}function su(e){for(var t="{",r=0;r<e.length;r++)r>0&&(t=t+","),e[r]===null||typeof e[r]=="undefined"?t=t+"NULL":Array.isArray(e[r])?t=t+su(e[r]):e[r]instanceof Buffer?t+="\\\\x"+e[r].toString("hex"):t+=Mv(ui(e[r]));return t=t+"}",t}var ui=function(e,t){if(e instanceof Buffer)return e;if(ArrayBuffer.isView(e)){var r=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?kv.parseInputDatesAsUTC?jv(e):Fv(e):Array.isArray(e)?su(e):e===null||typeof e=="undefined"?null:typeof e=="object"?qv(e,t):e.toString()};function qv(e,t){if(e&&typeof e.toPostgres=="function"){if(t=t||[],t.indexOf(e)!==-1)throw new Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),ui(e.toPostgres(ui),t)}return JSON.stringify(e)}function $e(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function Fv(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);var i=$e(r,4)+"-"+$e(e.getMonth()+1,2)+"-"+$e(e.getDate(),2)+"T"+$e(e.getHours(),2)+":"+$e(e.getMinutes(),2)+":"+$e(e.getSeconds(),2)+"."+$e(e.getMilliseconds(),3);return t<0?(i+="-",t*=-1):i+="+",i+=$e(Math.floor(t/60),2)+":"+$e(t%60,2),n&&(i+=" BC"),i}function jv(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var n=$e(t,4)+"-"+$e(e.getUTCMonth()+1,2)+"-"+$e(e.getUTCDate(),2)+"T"+$e(e.getUTCHours(),2)+":"+$e(e.getUTCMinutes(),2)+":"+$e(e.getUTCSeconds(),2)+"."+$e(e.getUTCMilliseconds(),3);return n+="+00:00",r&&(n+=" BC"),n}function Uv(e,t,r){return e=typeof e=="string"?{text:e}:e,t&&(typeof t=="function"?e.callback=t:e.values=t),r&&(e.callback=r),e}const $s=function(e){return Dv.createHash("md5").update(e,"utf-8").digest("hex")},Bv=function(e,t,r){var n=$s(t+e),i=$s(Buffer.concat([Buffer.from(n),r]));return"md5"+i};iu.exports={prepareValue:function(t){return ui(t)},normalizeQueryConfig:Uv,postgresMd5PasswordHash:Bv,md5:$s}});var cu=v((nL,ou)=>{"use strict";const Vs=require("crypto");function Wv(e){if(e.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");const t=Vs.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function $v(e,t,r){if(e.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");const n=Hv(r);if(!n.nonce.startsWith(e.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var i=Buffer.from(n.salt,"base64"),s=Gv(t,i,n.iteration),o=Dr(s,"Client Key"),a=Vs.createHash("sha256").update(o).digest(),c="n=*,r="+e.clientNonce,u="r="+n.nonce+",s="+n.salt+",i="+n.iteration,h="c=biws,r="+n.nonce,d=c+","+u+","+h,g=Dr(a,d),C=au(o,g),N=C.toString("base64"),U=Dr(s,"Server Key"),B=Dr(U,d);e.message="SASLResponse",e.serverSignature=B.toString("base64"),e.response=h+",p="+N}function Vv(e,t){if(e.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");var r;if(String(t).split(",").forEach(function(n){switch(n[0]){case"v":r=n.substr(2);break}}),r!==e.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function Hv(e){var t,r,n;if(String(e).split(",").forEach(function(i){switch(i[0]){case"r":t=i.substr(2);break;case"s":r=i.substr(2);break;case"i":n=parseInt(i.substr(2),10);break}}),!t)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!r)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!n)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:t,salt:r,iteration:n}}function au(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e)),Buffer.isBuffer(t)||(t=Buffer.from(t));var r=[];if(e.length>t.length)for(var n=0;n<t.length;n++)r.push(e[n]^t[n]);else for(var i=0;i<e.length;i++)r.push(e[i]^t[i]);return Buffer.from(r)}function Dr(e,t){return Vs.createHmac("sha256",e).update(t).digest()}function Gv(e,t,r){for(var n=Dr(e,Buffer.concat([t,Buffer.from([0,0,0,1])])),i=n,s=0;s<r-1;s++)n=Dr(e,n),i=au(i,n);return i}ou.exports={startSession:Wv,continueSession:$v,finalizeSession:Vv}});var hu=v((lu,uu)=>{var zv=require("stream");lu=uu.exports=zs;zs.through=zs;function zs(e,t,r){e=e||function(h){this.queue(h)},t=t||function(){this.queue(null)};var n=!1,i=!1,s=[],o=!1,a=new zv();a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(r&&r.autoDestroy===!1),a.write=function(h){return e.call(this,h),!a.paused};function c(){for(;s.length&&!a.paused;){var h=s.shift();if(h===null)return a.emit("end");a.emit("data",h)}}a.queue=a.push=function(h){return o||(h===null&&(o=!0),s.push(h),c()),a},a.on("end",function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick(function(){a.destroy()})});function u(){a.writable=!1,t.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.end=function(h){return n?void 0:(n=!0,arguments.length&&a.write(h),u(),a)},a.destroy=function(){return i?void 0:(i=!0,n=!0,s.length=0,a.writable=a.readable=!1,a.emit("close"),a)},a.pause=function(){return a.paused?void 0:(a.paused=!0,a)},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),c(),a.paused||a.emit("drain"),a},a}});var du=v((iL,fu)=>{var Xv=hu(),Yv=require("string_decoder").StringDecoder;fu.exports=Qv;function Qv(e,t,r){var n=new Yv(),i="",s=r&&r.maxLength,o=!(r&&r.trailing===!1);typeof e=="function"&&(t=e,e=null),e||(e=/\r?\n/);function a(u,h){if(t){try{h=t(h)}catch(d){return u.emit("error",d)}typeof h!="undefined"&&u.queue(h)}else u.queue(h)}function c(u,h){var d=((i!=null?i:"")+h).split(e);if(i=d.pop(),s&&i.length>s)return u.emit("error",new Error("maximum buffer reached"));for(var g=0;g<d.length;g++){var C=d[g];a(u,C)}}return Xv(function(u){c(this,n.write(u))},function(){n.end&&c(this,n.end()),o&&i!=null&&a(this,i),this.queue(null)})}});var gu=v((sL,Dt)=>{"use strict";var pu=require("path"),Kv=require("stream").Stream,Jv=du(),mu=require("util"),Zv=5432,fi=process.platform==="win32",Rn=process.stderr,ey=56,ty=7,ry=61440,ny=32768;function iy(e){return(e&ry)==ny}var kr=["host","port","database","user","password"],Xs=kr.length,sy=kr[Xs-1];function Ys(){var e=Rn instanceof Kv&&Rn.writable===!0;if(e){var t=Array.prototype.slice.call(arguments).concat(`
`);Rn.write(mu.format.apply(mu,t))}}Object.defineProperty(Dt.exports,"isWin",{get:function(){return fi},set:function(e){fi=e}});Dt.exports.warnTo=function(e){var t=Rn;return Rn=e,t};Dt.exports.getFileName=function(e){e=e||process.env;var t=e.PGPASSFILE||(fi?pu.join(e.APPDATA,"postgresql","pgpass.conf"):pu.join(e.HOME,".pgpass"));return t};Dt.exports.usePgPass=function(e,t){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:fi?!0:(t=t||"<unkn>",iy(e.mode)?e.mode&(ey|ty)?(Ys('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):!0:(Ys('WARNING: password file "%s" is not a plain file',t),!1))};var oy=Dt.exports.match=function(e,t){return kr.slice(0,-1).reduce(function(r,n,i){return i==1&&Number(e[n]||Zv)===Number(t[n])?r&&!0:r&&(t[n]==="*"||t[n]===e[n])},!0)};Dt.exports.getPassword=function(e,t,r){var n,i=t.pipe(new Jv());function s(c){var u=ay(c);u&&cy(u)&&oy(e,u)&&(n=u[sy],i.end())}var o=function(){t.destroy(),r(n)},a=function(c){t.destroy(),Ys("WARNING: error on reading file: %s",c),r(void 0)};t.on("error",a),i.on("data",s).on("end",o).on("error",a)};var ay=Dt.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",n=0,i=0,s=0,o={},a=!1,c=function(h,d,g){var C=e.substring(d,g);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(C=C.replace(/\\([:\\])/g,"$1")),o[kr[h]]=C},u=0;u<e.length-1;u+=1){if(t=e.charAt(u+1),r=e.charAt(u),a=n==Xs-1,a){c(n,i);break}u>=0&&t==":"&&r!=="\\"&&(c(n,i,u+1),i=u+2,n+=1)}return o=Object.keys(o).length===Xs?o:null,o},cy=Dt.exports.isValidEntry=function(e){for(var t={0:function(o){return o.length>0},1:function(o){return o==="*"?!0:(o=Number(o),isFinite(o)&&o>0&&o<9007199254740992&&Math.floor(o)===o)},2:function(o){return o.length>0},3:function(o){return o.length>0},4:function(o){return o.length>0}},r=0;r<kr.length;r+=1){var n=t[r],i=e[kr[r]]||"",s=n(i);if(!s)return!1}return!0}});var vu=v((aL,Qs)=>{"use strict";var oL=require("path"),Eu=require("fs"),di=gu();Qs.exports=function(e,t){var r=di.getFileName();Eu.stat(r,function(n,i){if(n||!di.usePgPass(i,r))return t(void 0);var s=Eu.createReadStream(r);di.getPassword(e,s,t)})};Qs.exports.warnTo=di.warnTo});var Ks=v((cL,yu)=>{"use strict";var ly=yn();function pi(e){this._types=e||ly,this.text={},this.binary={}}pi.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}};pi.prototype.setTypeParser=function(e,t,r){typeof t=="function"&&(r=t,t="text"),this.getOverrides(t)[e]=r};pi.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)};yu.exports=pi});var Ru=v((lL,Tu)=>{"use strict";var uy=require("url"),Js=require("fs");function Zs(e){if(e.charAt(0)==="/"){var t=e.split(" ");return{host:t[0],database:t[1]}}var r=uy.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),t=r.query;for(var n in t)Array.isArray(t[n])&&(t[n]=t[n][t[n].length-1]);var i=(r.auth||":").split(":");if(t.user=i[0],t.password=i.splice(1).join(":"),t.port=r.port,r.protocol=="socket:")return t.host=decodeURI(r.pathname),t.database=r.query.db,t.client_encoding=r.query.encoding,t;t.host||(t.host=r.hostname);var s=r.pathname;if(!t.host&&s&&/^%2f/i.test(s)){var o=s.split("/");t.host=decodeURIComponent(o[0]),s=o.splice(1).join("/")}return s&&s.charAt(0)==="/"&&(s=s.slice(1)||null),t.database=s&&decodeURI(s),(t.ssl==="true"||t.ssl==="1")&&(t.ssl=!0),t.ssl==="0"&&(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert)&&(t.ssl={}),t.sslcert&&(t.ssl.cert=Js.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=Js.readFileSync(t.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=Js.readFileSync(t.sslrootcert).toString()),t}Tu.exports=Zs;Zs.parse=Zs});var eo=v((uL,bu)=>{"use strict";var hy=require("dns"),_u=Tn(),wu=Ru().parse,et=function(e,t,r){return r===void 0?r=process.env["PG"+e.toUpperCase()]:r===!1||(r=process.env[r]),t[e]||r||_u[e]},fy=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return _u.ssl},Su=function(e){e=typeof e=="string"?wu(e):e||{},e.connectionString&&(e=Object.assign({},e,wu(e.connectionString))),this.user=et("user",e),this.database=et("database",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(et("port",e),10),this.host=et("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:et("password",e)}),this.binary=et("binary",e),this.options=et("options",e),this.ssl=typeof e.ssl=="undefined"?fy():e.ssl,this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.client_encoding=et("client_encoding",e),this.replication=et("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=et("application_name",e,"PGAPPNAME"),this.fallback_application_name=et("fallback_application_name",e,!1),this.statement_timeout=et("statement_timeout",e,!1),this.idle_in_transaction_session_timeout=et("idle_in_transaction_session_timeout",e,!1),this.query_timeout=et("query_timeout",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))},Mr=function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},pt=function(e,t,r){var n=t[r];n!=null&&e.push(r+"="+Mr(n))};Su.prototype.getLibpqConnectionString=function(e){var t=[];pt(t,this,"user"),pt(t,this,"password"),pt(t,this,"port"),pt(t,this,"application_name"),pt(t,this,"fallback_application_name"),pt(t,this,"connect_timeout"),pt(t,this,"options");var r=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(pt(t,r,"sslmode"),pt(t,r,"sslca"),pt(t,r,"sslkey"),pt(t,r,"sslcert"),pt(t,r,"sslrootcert"),this.database&&t.push("dbname="+Mr(this.database)),this.replication&&t.push("replication="+Mr(this.replication)),this.host&&t.push("host="+Mr(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+Mr(this.client_encoding)),hy.lookup(this.host,function(n,i){return n?e(n,null):(t.push("hostaddr="+Mr(i)),e(null,t.join(" ")))})};bu.exports=Su});var Iu=v((hL,Cu)=>{"use strict";var dy=yn(),qr=function(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray=e==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)},Nu=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;qr.prototype.addCommandComplete=function(e){var t;e.text?t=Nu.exec(e.text):t=Nu.exec(e.command),t&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))};qr.prototype._parseRowAsArray=function(e){for(var t=new Array(e.length),r=0,n=e.length;r<n;r++){var i=e[r];i!==null?t[r]=this._parsers[r](i):t[r]=null}return t};qr.prototype.parseRow=function(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r],s=this.fields[r].name;i!==null?t[s]=this._parsers[r](i):t[s]=null}return t};qr.prototype.addRow=function(e){this.rows.push(e)};qr.prototype.addFields=function(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));for(var t=0;t<e.length;t++){var r=e[t];this._types?this._parsers[t]=this._types.getTypeParser(r.dataTypeID,r.format||"text"):this._parsers[t]=dy.getTypeParser(r.dataTypeID,r.format||"text")}};Cu.exports=qr});var Pu=v((fL,Ou)=>{"use strict";const{EventEmitter:py}=require("events"),Au=Iu(),Lu=hi();class my extends py{constructor(e,t,r){super();e=Lu.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new Au(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:this.text&&this.values?this.values.length>0:!1}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new Au(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let t;if(this._canceledDueToError)return;try{t=this._result.parseRow(e.fields)}catch(r){this._canceledDueToError=r;return}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.isPreparedStatement&&t.sync()}handleEmptyQuery(e){this.isPreparedStatement&&e.sync()}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);this.callback&&this.callback(null,this._results),this.emit("end",this._results)}handleError(e,t){if(this.isPreparedStatement&&t.sync(),this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}submit(e){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");const t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute({portal:this.portal,rows:t},!0),e.flush()}prepare(e){if(this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types},!0),this.values)try{this.values=this.values.map(Lu.prepareValue)}catch(t){this.handleError(t,e);return}e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary},!0),e.describe({type:"P",name:this.portal||""},!0),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,t){}}Ou.exports=my});var xu=v(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});class gy{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.alloc(e)}ensure(e){var t=this.buffer.length-this.offset;if(t<e){var r=this.buffer,n=r.length+(r.length>>1)+e;this.buffer=Buffer.alloc(n),r.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(!e)this.ensure(1);else{var t=Buffer.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=t}return this.buffer[this.offset++]=0,this}addString(e=""){var t=Buffer.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;const t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){var t=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),t}}to.Writer=gy});var Mu=v(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});const Du=xu(),Ve=new Du.Writer(),Ey=e=>{Ve.addInt16(3).addInt16(0);for(const n of Object.keys(e))Ve.addCString(n).addCString(e[n]);Ve.addCString("client_encoding").addCString("UTF8");var t=Ve.addCString("").flush(),r=t.length+4;return new Du.Writer().addInt32(r).add(t).flush()},vy=()=>{const e=Buffer.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(80877103,4),e},yy=e=>Ve.addCString(e).flush(112),Ty=function(e,t){return Ve.addCString(e).addInt32(Buffer.byteLength(t)).addString(t),Ve.flush(112)},Ry=function(e){return Ve.addString(e).flush(112)},by=e=>Ve.addCString(e).flush(81),ku=[],_y=e=>{const t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));const r=e.types||ku;for(var n=r.length,i=Ve.addCString(t).addCString(e.text).addInt16(n),s=0;s<n;s++)i.addInt32(r[s]);return Ve.flush(80)},wy=(e={})=>{const t=e.portal||"",r=e.statement||"",n=e.binary||!1;for(var i=e.values||ku,s=i.length,o=!1,a=0;a<s;a++)o=o||i[a]instanceof Buffer;var c=Ve.addCString(t).addCString(r);if(!o)c.addInt16(0);else for(c.addInt16(s),a=0;a<s;a++)c.addInt16(i[a]instanceof Buffer?1:0);c.addInt16(s);for(var u=0;u<s;u++){var h=i[u];h===null||typeof h=="undefined"?c.addInt32(-1):h instanceof Buffer?(c.addInt32(h.length),c.add(h)):(c.addInt32(Buffer.byteLength(h)),c.addString(h))}return n?(c.addInt16(1),c.addInt16(1)):c.addInt16(0),Ve.flush(66)},Sy=Buffer.from([69,0,0,0,9,0,0,0,0,0]),Cy=e=>{if(!e||!e.portal&&!e.rows)return Sy;const t=e.portal||"",r=e.rows||0,n=Buffer.byteLength(t),i=4+n+1+4,s=Buffer.allocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(t,5,"utf-8"),s[n+5]=0,s.writeUInt32BE(r,s.length-4),s},Ny=(e,t)=>{const r=Buffer.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r},no=(e,t)=>{const r=Buffer.byteLength(t),n=4+r+1,i=Buffer.allocUnsafe(1+n);return i[0]=e,i.writeInt32BE(n,1),i.write(t,5,"utf-8"),i[n]=0,i},Iy=Ve.addCString("P").flush(68),Oy=Ve.addCString("S").flush(68),Ay=e=>e.name?no(68,`${e.type}${e.name||""}`):e.type==="P"?Iy:Oy,Ly=e=>{const t=`${e.type}${e.name||""}`;return no(67,t)},Py=e=>Ve.add(e).flush(100),xy=e=>no(102,e),mi=e=>Buffer.from([e,0,0,0,4]),Dy=mi(72),ky=mi(83),My=mi(88),qy=mi(99),Fy={startup:Ey,password:yy,requestSsl:vy,sendSASLInitialResponseMessage:Ty,sendSCRAMClientFinalMessage:Ry,query:by,parse:_y,bind:wy,execute:Cy,describe:Ay,close:Ly,flush:()=>Dy,sync:()=>ky,end:()=>My,copyData:Py,copyDone:()=>qy,copyFail:xy,cancel:Ny};ro.serialize=Fy});var qu=v(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.parseComplete={name:"parseComplete",length:5};_e.bindComplete={name:"bindComplete",length:5};_e.closeComplete={name:"closeComplete",length:5};_e.noData={name:"noData",length:5};_e.portalSuspended={name:"portalSuspended",length:5};_e.replicationStart={name:"replicationStart",length:4};_e.emptyQuery={name:"emptyQuery",length:4};_e.copyDone={name:"copyDone",length:4};class jy extends Error{constructor(e,t,r){super(e);this.length=t,this.name=r}}_e.DatabaseError=jy;class Uy{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}}_e.CopyDataMessage=Uy;class By{constructor(e,t,r,n){this.length=e,this.name=t,this.binary=r,this.columnTypes=new Array(n)}}_e.CopyResponse=By;class Wy{constructor(e,t,r,n,i,s,o){this.name=e,this.tableID=t,this.columnID=r,this.dataTypeID=n,this.dataTypeSize=i,this.dataTypeModifier=s,this.format=o}}_e.Field=Wy;class Hy{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=new Array(this.fieldCount)}}_e.RowDescriptionMessage=Hy;class Gy{constructor(e,t,r){this.length=e,this.parameterName=t,this.parameterValue=r,this.name="parameterStatus"}}_e.ParameterStatusMessage=Gy;class $y{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}}_e.AuthenticationMD5Password=$y;class Vy{constructor(e,t,r){this.length=e,this.processID=t,this.secretKey=r,this.name="backendKeyData"}}_e.BackendKeyDataMessage=Vy;class zy{constructor(e,t,r,n){this.length=e,this.processId=t,this.channel=r,this.payload=n,this.name="notification"}}_e.NotificationResponseMessage=zy;class Xy{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}}_e.ReadyForQueryMessage=Xy;class Yy{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}}_e.CommandCompleteMessage=Yy;class Qy{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}}_e.DataRowMessage=Qy;class Ky{constructor(e,t){this.length=e,this.message=t,this.name="notice"}}_e.NoticeMessage=Ky});var Fu=v(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});const Jy=Buffer.allocUnsafe(0);class Zy{constructor(e=0){this.offset=e,this.buffer=Jy,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){const e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){const e=this.buffer[this.offset];return this.offset++,e}int32(){const e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){const t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){const e=this.offset;let t=e;for(;this.buffer[t++]!==0;);return this.offset=t,this.buffer.toString(this.encoding,e,t-1)}bytes(e){const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}}io.BufferReader=Zy});var Bu=v(bn=>{"use strict";var eT=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});const Le=qu(),tT=Fu(),rT=eT(require("assert")),so=1,nT=4,ju=so+nT,Uu=Buffer.allocUnsafe(0);class iT{constructor(e){var t,r;if(this.buffer=Uu,this.bufferLength=0,this.bufferOffset=0,this.reader=new tT.BufferReader(),((t=e)===null||t===void 0?void 0:t.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=((r=e)===null||r===void 0?void 0:r.mode)||"text"}parse(e,t){this.mergeBuffer(e);const r=this.bufferOffset+this.bufferLength;let n=this.bufferOffset;for(;n+ju<=r;){const i=this.buffer[n],s=this.buffer.readUInt32BE(n+so),o=so+s;if(o+n<=r){const a=this.handlePacket(n+ju,i,s,this.buffer);t(a),n+=o}else break}n===r?(this.buffer=Uu,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=r-n,this.bufferOffset=n)}mergeBuffer(e){if(this.bufferLength>0){const t=this.bufferLength+e.byteLength,r=t+this.bufferOffset;if(r>this.buffer.byteLength){let n;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)n=this.buffer;else{let i=this.buffer.byteLength*2;for(;t>=i;)i*=2;n=Buffer.allocUnsafe(i)}this.buffer.copy(n,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=n,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,t,r,n){switch(t){case 50:return Le.bindComplete;case 49:return Le.parseComplete;case 51:return Le.closeComplete;case 110:return Le.noData;case 115:return Le.portalSuspended;case 99:return Le.copyDone;case 87:return Le.replicationStart;case 73:return Le.emptyQuery;case 68:return this.parseDataRowMessage(e,r,n);case 67:return this.parseCommandCompleteMessage(e,r,n);case 90:return this.parseReadyForQueryMessage(e,r,n);case 65:return this.parseNotificationMessage(e,r,n);case 82:return this.parseAuthenticationResponse(e,r,n);case 83:return this.parseParameterStatusMessage(e,r,n);case 75:return this.parseBackendKeyData(e,r,n);case 69:return this.parseErrorMessage(e,r,n,"error");case 78:return this.parseErrorMessage(e,r,n,"notice");case 84:return this.parseRowDescriptionMessage(e,r,n);case 71:return this.parseCopyInMessage(e,r,n);case 72:return this.parseCopyOutMessage(e,r,n);case 100:return this.parseCopyData(e,r,n);default:rT.default.fail(`unknown message code: ${t.toString(16)}`)}}parseReadyForQueryMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.string(1);return new Le.ReadyForQueryMessage(t,n)}parseCommandCompleteMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.cstring();return new Le.CommandCompleteMessage(t,n)}parseCopyData(e,t,r){const n=r.slice(e,e+(t-4));return new Le.CopyDataMessage(t,n)}parseCopyInMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyInResponse")}parseCopyOutMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyOutResponse")}parseCopyMessage(e,t,r,n){this.reader.setBuffer(e,r);const i=this.reader.byte()!==0,s=this.reader.int16(),o=new Le.CopyResponse(t,n,i,s);for(let a=0;a<s;a++)o.columnTypes[a]=this.reader.int16();return o}parseNotificationMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),i=this.reader.cstring(),s=this.reader.cstring();return new Le.NotificationResponseMessage(t,n,i,s)}parseRowDescriptionMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int16(),i=new Le.RowDescriptionMessage(t,n);for(let s=0;s<n;s++)i.fields[s]=this.parseField();return i}parseField(){const e=this.reader.cstring(),t=this.reader.int32(),r=this.reader.int16(),n=this.reader.int32(),i=this.reader.int16(),s=this.reader.int32(),o=this.reader.int16()===0?"text":"binary";return new Le.Field(e,t,r,n,i,s,o)}parseDataRowMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int16(),i=new Array(n);for(let s=0;s<n;s++){const o=this.reader.int32();i[s]=o===-1?null:this.reader.string(o)}return new Le.DataRowMessage(t,i)}parseParameterStatusMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.cstring(),i=this.reader.cstring();return new Le.ParameterStatusMessage(t,n,i)}parseBackendKeyData(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),i=this.reader.int32();return new Le.BackendKeyDataMessage(t,n,i)}parseAuthenticationResponse(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),i={name:"authenticationOk",length:t};switch(n){case 0:break;case 3:i.length===8&&(i.name="authenticationCleartextPassword");break;case 5:if(i.length===12){i.name="authenticationMD5Password";const o=this.reader.bytes(4);return new Le.AuthenticationMD5Password(t,o)}break;case 10:i.name="authenticationSASL",i.mechanisms=[];let s;do s=this.reader.cstring(),s&&i.mechanisms.push(s);while(s);break;case 11:i.name="authenticationSASLContinue",i.data=this.reader.string(t-8);break;case 12:i.name="authenticationSASLFinal",i.data=this.reader.string(t-8);break;default:throw new Error("Unknown authenticationOk message type "+n)}return i}parseErrorMessage(e,t,r,n){this.reader.setBuffer(e,r);const i={};let s=this.reader.string(1);for(;s!=="\0";)i[s]=this.reader.cstring(),s=this.reader.string(1);const o=i.M,a=n==="notice"?new Le.NoticeMessage(t,o):new Le.DatabaseError(o,t,n);return a.severity=i.S,a.code=i.C,a.detail=i.D,a.hint=i.H,a.position=i.P,a.internalPosition=i.p,a.internalQuery=i.q,a.where=i.W,a.schema=i.s,a.table=i.t,a.column=i.c,a.dataType=i.d,a.constraint=i.n,a.file=i.F,a.line=i.L,a.routine=i.R,a}}bn.Parser=iT});var Wu=v(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});const sT=Mu();gi.serialize=sT.serialize;const oT=Bu();function aT(e,t){const r=new oT.Parser();return e.on("data",n=>r.parse(n,t)),new Promise(n=>e.on("end",()=>n()))}gi.parse=aT});var oo=v((yL,Hu)=>{"use strict";var Gu=require("net"),$u=require("events").EventEmitter,cT=require("util");const{parse:lT,serialize:Me}=Wu();var we=function(e){$u.call(this),e=e||{},this.stream=e.stream||new Gu.Socket(),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var t=this;this.on("newListener",function(r){r==="message"&&(t._emitMessage=!0)})};cT.inherits(we,$u);we.prototype.connect=function(e,t){var r=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once("connect",function(){r._keepAlive&&r.stream.setKeepAlive(!0,r._keepAliveInitialDelayMillis),r.emit("connect")});const n=function(i){if(r._ending&&(i.code==="ECONNRESET"||i.code==="EPIPE"))return;r.emit("error",i)};if(this.stream.on("error",n),this.stream.on("close",function(){r.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(i){var s=i.toString("utf8");switch(s){case"S":break;case"N":return r.stream.end(),r.emit("error",new Error("The server does not support SSL connections"));default:return r.stream.end(),r.emit("error",new Error("There was an error establishing an SSL connection"))}var o=require("tls");const a=Object.assign({socket:r.stream},r.ssl);Gu.isIP(t)===0&&(a.servername=t),r.stream=o.connect(a),r.attachListeners(r.stream),r.stream.on("error",n),r.emit("sslconnect")})};we.prototype.attachListeners=function(e){e.on("end",()=>{this.emit("end")}),lT(e,t=>{var r=t.name==="error"?"errorMessage":t.name;this._emitMessage&&this.emit("message",t),this.emit(r,t)})};we.prototype.requestSsl=function(){this.stream.write(Me.requestSsl())};we.prototype.startup=function(e){this.stream.write(Me.startup(e))};we.prototype.cancel=function(e,t){this._send(Me.cancel(e,t))};we.prototype.password=function(e){this._send(Me.password(e))};we.prototype.sendSASLInitialResponseMessage=function(e,t){this._send(Me.sendSASLInitialResponseMessage(e,t))};we.prototype.sendSCRAMClientFinalMessage=function(e){this._send(Me.sendSCRAMClientFinalMessage(e))};we.prototype._send=function(e){return this.stream.writable?this.stream.write(e):!1};we.prototype.query=function(e){this._send(Me.query(e))};we.prototype.parse=function(e){this._send(Me.parse(e))};we.prototype.bind=function(e){this._send(Me.bind(e))};we.prototype.execute=function(e){this._send(Me.execute(e))};const Vu=Me.flush();we.prototype.flush=function(){this.stream.writable&&this.stream.write(Vu)};const uT=Me.sync();we.prototype.sync=function(){this._ending=!0,this._send(Vu),this._send(uT)};const hT=Me.end();we.prototype.end=function(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(hT,()=>{this.stream.end()})};we.prototype.close=function(e){this._send(Me.close(e))};we.prototype.describe=function(e){this._send(Me.describe(e))};we.prototype.sendCopyFromChunk=function(e){this._send(Me.copyData(e))};we.prototype.endCopyFrom=function(){this._send(Me.copyDone())};we.prototype.sendCopyFail=function(e){this._send(Me.copyFail(e))};Hu.exports=we});var Qu=v((TL,zu)=>{"use strict";var Xu=require("events").EventEmitter,fT=require("util"),dT=hi(),ao=cu(),pT=vu(),mT=Ks(),gT=eo(),Yu=Pu(),ET=Tn(),vT=oo(),ze=function(e){Xu.call(this),this.connectionParameters=new gT(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||global.Promise,this._types=new mT(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new vT({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||ET.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=t.connectionTimeoutMillis||0};fT.inherits(ze,Xu);ze.prototype._errorAllQueries=function(e){const t=r=>{process.nextTick(()=>{r.handleError(e,this.connection)})};this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0};ze.prototype._connect=function(e){var t=this,r=this.connection;if(this._connecting||this._connected){const u=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(u)});return}this._connecting=!0;var n;this._connectionTimeoutMillis>0&&(n=setTimeout(()=>{r._ending=!0,r.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){t.ssl?r.requestSsl():r.startup(t.getStartupConf())}),r.on("sslconnect",function(){r.startup(t.getStartupConf())});function i(u){return function(h){typeof t.password=="function"?t._Promise.resolve().then(()=>t.password()).then(d=>{if(d!==void 0){if(typeof d!="string"){r.emit("error",new TypeError("Password must be a string"));return}t.connectionParameters.password=t.password=d}else t.connectionParameters.password=t.password=null;u(h)}).catch(d=>{r.emit("error",d)}):t.password!==null?u(h):pT(t.connectionParameters,function(d){d!==void 0&&(t.connectionParameters.password=t.password=d),u(h)})}}r.on("authenticationCleartextPassword",i(function(){r.password(t.password)})),r.on("authenticationMD5Password",i(function(u){r.password(dT.postgresMd5PasswordHash(t.user,t.password,u.salt))}));var s;r.on("authenticationSASL",i(function(u){s=ao.startSession(u.mechanisms),r.sendSASLInitialResponseMessage(s.mechanism,s.response)})),r.on("authenticationSASLContinue",function(u){ao.continueSession(s,t.password,u.data),r.sendSCRAMClientFinalMessage(s.response)}),r.on("authenticationSASLFinal",function(u){ao.finalizeSession(s,u.data),s=null}),r.once("backendKeyData",function(u){t.processID=u.processID,t.secretKey=u.secretKey});const o=u=>{if(this._connectionError)return;if(this._connectionError=!0,clearTimeout(n),e)return e(u);this.emit("error",u)},a=u=>{this._queryable=!1,this._errorAllQueries(u),this.emit("error",u)},c=u=>{const h=this.activeQuery;if(!h){a(u);return}this.activeQuery=null,h.handleError(u,r)};r.on("error",o),r.on("errorMessage",o),r.once("readyForQuery",function(){t._connecting=!1,t._connected=!0,t._attachListeners(r),r.removeListener("error",o),r.removeListener("errorMessage",o),r.on("error",a),r.on("errorMessage",c),clearTimeout(n),e&&(e(null,t),e=null),t.emit("connect")}),r.on("readyForQuery",function(){var u=t.activeQuery;t.activeQuery=null,t.readyForQuery=!0,u&&u.handleReadyForQuery(r),t._pulseQueryQueue()}),r.once("end",()=>{const u=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(n),this._errorAllQueries(u),this._ending||(this._connecting&&!this._connectionError?e?e(u):a(u):this._connectionError||a(u)),process.nextTick(()=>{this.emit("end")})}),r.on("notice",function(u){t.emit("notice",u)})};ze.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((t,r)=>{this._connect(n=>{n?r(n):t()})})};ze.prototype._attachListeners=function(e){const t=this;e.on("rowDescription",function(r){t.activeQuery.handleRowDescription(r)}),e.on("dataRow",function(r){t.activeQuery.handleDataRow(r)}),e.on("portalSuspended",function(r){t.activeQuery.handlePortalSuspended(e)}),e.on("emptyQuery",function(r){t.activeQuery.handleEmptyQuery(e)}),e.on("commandComplete",function(r){t.activeQuery.handleCommandComplete(r,e)}),e.on("parseComplete",function(r){t.activeQuery.name&&(e.parsedStatements[t.activeQuery.name]=t.activeQuery.text)}),e.on("copyInResponse",function(r){t.activeQuery.handleCopyInResponse(t.connection)}),e.on("copyData",function(r){t.activeQuery.handleCopyData(r,t.connection)}),e.on("notification",function(r){t.emit("notification",r)})};ze.prototype.getStartupConf=function(){var e=this.connectionParameters,t={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(t.application_name=r),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t};ze.prototype.cancel=function(e,t){if(e.activeQuery===t){var r=this.connection;this.host&&this.host.indexOf("/")===0?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){r.cancel(e.processID,e.secretKey)})}else e.queryQueue.indexOf(t)!==-1&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)};ze.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)};ze.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)};ze.prototype.escapeIdentifier=function(e){return'"'+e.replace(/"/g,'""')+'"'};ze.prototype.escapeLiteral=function(e){for(var t=!1,r="'",n=0;n<e.length;n++){var i=e[n];i==="'"?r+=i+i:i==="\\"?(r+=i+i,t=!0):r+=i}return r+="'",t===!0&&(r=" E"+r),r};ze.prototype._pulseQueryQueue=function(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const e=this.activeQuery.submit(this.connection);e&&process.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))};ze.prototype.query=function(e,t,r){var n,i,s,o,a;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,typeof t=="function"&&(n.callback=n.callback||t)):(s=this.connectionParameters.query_timeout,n=new Yu(e,t,r),n.callback||(i=new this._Promise((c,u)=>{n.callback=(h,d)=>h?u(h):c(d)}))),s&&(a=n.callback,o=setTimeout(()=>{var c=new Error("Query read timeout");process.nextTick(()=>{n.handleError(c,this.connection)}),a(c),n.callback=()=>{};var u=this.queryQueue.indexOf(n);u>-1&&this.queryQueue.splice(u,1),this._pulseQueryQueue()},s),n.callback=(c,u)=>{clearTimeout(o),a(c,u)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"),this.connection)}),i):(this.queryQueue.push(n),this._pulseQueryQueue(),i):(process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),i)};ze.prototype.end=function(e){if(this._ending=!0,!this.connection._connecting)if(e)e();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(t=>{this.connection.once("end",t)})};ze.Query=Yu;zu.exports=ze});var eh=v((RL,Ku)=>{"use strict";const yT=require("events").EventEmitter,Ju=function(){},Zu=(e,t)=>{const r=e.findIndex(t);return r===-1?void 0:e.splice(r,1)[0]};class TT{constructor(e,t,r){this.client=e,this.idleListener=t,this.timeoutId=r}}class co{constructor(e){this.callback=e}}function RT(){throw new Error("Release called on client which has already been released to the pool.")}function Ei(e,t){if(t)return{callback:t,result:void 0};let r,n;const i=function(o,a){o?r(o):n(a)},s=new e(function(o,a){n=o,r=a});return{callback:i,result:s}}function bT(e,t){return function r(n){n.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",n)}),e._remove(t),e.emit("error",n,t)}}class _T extends yT{constructor(e,t){super();this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||Infinity,this.log=this.options.log||function(){},this.Client=this.options.Client||t||lo().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis=="undefined"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(t=>{this._remove(t.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;const e=this._pendingQueue.shift();if(this._idle.length){const t=this._idle.pop();clearTimeout(t.timeoutId);const r=t.client,n=t.idleListener;return this._acquireClient(r,e,n,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e){const t=Zu(this._idle,r=>r.client===e);t!==void 0&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(r=>r!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){const n=new Error("Cannot use a pool after calling end on the pool");return e?e(n):this.Promise.reject(n)}const t=Ei(this.Promise,e),r=t.result;if(this._clients.length>=this.options.max||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new co(t.callback)),r;const n=(o,a,c)=>{clearTimeout(s),t.callback(o,a,c)},i=new co(n),s=setTimeout(()=>{Zu(this._pendingQueue,o=>o.callback===n),i.timedOut=!0,t.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(i),r}return this.newClient(new co(t.callback)),r}newClient(e){const t=new this.Client(this.options);this._clients.push(t);const r=bT(this,t);this.log("checking client timeout");let n,i=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),i=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(s=>{if(n&&clearTimeout(n),t.on("error",r),s)this.log("client failed to connect",s),this._clients=this._clients.filter(o=>o!==t),i&&(s.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(s,void 0,Ju);else return this.log("new client connected"),this._acquireClient(t,e,r,!0)})}_acquireClient(e,t,r,n){n&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),t.timedOut?n&&this.options.verify?this.options.verify(e,e.release):e.release():n&&this.options.verify?this.options.verify(e,i=>{if(i)return e.release(i),t.callback(i,void 0,Ju);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){let r=!1;return n=>{r&&RT(),r=!0,this._release(e,t,n)}}_release(e,t,r){if(e.on("error",t),e._poolUseCount=(e._poolUseCount||0)+1,r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),this._pulseQueue();return}let n;this.options.idleTimeoutMillis&&(n=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis)),this._idle.push(new TT(e,t,n)),this._pulseQueue()}query(e,t,r){if(typeof e=="function"){const i=Ei(this.Promise,e);return setImmediate(function(){return i.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),i.result}typeof t=="function"&&(r=t,t=void 0);const n=Ei(this.Promise,r);return r=n.callback,this.connect((i,s)=>{if(i)return r(i);let o=!1;const a=c=>{if(o)return;o=!0,s.release(c),r(c)};s.once("error",a),this.log("dispatching query"),s.query(e,t,(c,u)=>(this.log("query dispatched"),s.removeListener("error",a),o?void 0:(o=!0,s.release(c),c?r(c):r(void 0,u))))}),n.result}end(e){if(this.log("ending"),this.ending){const r=new Error("Called end on pool more than once");return e?e(r):this.Promise.reject(r)}this.ending=!0;const t=Ei(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get totalCount(){return this._clients.length}}Ku.exports=_T});var Eh=v((te,vi)=>{typeof vi=="object"&&vi.exports===te&&(te=vi.exports=ge);var he;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?he=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:he=function(){};te.SEMVER_SPEC_VERSION="2.0.0";var uo=256,ho=Number.MAX_SAFE_INTEGER||9007199254740991,ve=te.re=[],L=te.src=[],ae=0,Fr=ae++;L[Fr]="0|[1-9]\\d*";var jr=ae++;L[jr]="[0-9]+";var fo=ae++;L[fo]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var th=ae++;L[th]="("+L[Fr]+")\\.("+L[Fr]+")\\.("+L[Fr]+")";var rh=ae++;L[rh]="("+L[jr]+")\\.("+L[jr]+")\\.("+L[jr]+")";var po=ae++;L[po]="(?:"+L[Fr]+"|"+L[fo]+")";var mo=ae++;L[mo]="(?:"+L[jr]+"|"+L[fo]+")";var go=ae++;L[go]="(?:-("+L[po]+"(?:\\."+L[po]+")*))";var Eo=ae++;L[Eo]="(?:-?("+L[mo]+"(?:\\."+L[mo]+")*))";var vo=ae++;L[vo]="[0-9A-Za-z-]+";var _n=ae++;L[_n]="(?:\\+("+L[vo]+"(?:\\."+L[vo]+")*))";var yo=ae++,nh="v?"+L[th]+L[go]+"?"+L[_n]+"?";L[yo]="^"+nh+"$";var To="[v=\\s]*"+L[rh]+L[Eo]+"?"+L[_n]+"?",Ro=ae++;L[Ro]="^"+To+"$";var Ur=ae++;L[Ur]="((?:<|>)?=?)";var yi=ae++;L[yi]=L[jr]+"|x|X|\\*";var Ti=ae++;L[Ti]=L[Fr]+"|x|X|\\*";var pr=ae++;L[pr]="[v=\\s]*("+L[Ti]+")(?:\\.("+L[Ti]+")(?:\\.("+L[Ti]+")(?:"+L[go]+")?"+L[_n]+"?)?)?";var Br=ae++;L[Br]="[v=\\s]*("+L[yi]+")(?:\\.("+L[yi]+")(?:\\.("+L[yi]+")(?:"+L[Eo]+")?"+L[_n]+"?)?)?";var ih=ae++;L[ih]="^"+L[Ur]+"\\s*"+L[pr]+"$";var sh=ae++;L[sh]="^"+L[Ur]+"\\s*"+L[Br]+"$";var Ri=ae++;L[Ri]="(?:~>?)";var bi=ae++;L[bi]="(\\s*)"+L[Ri]+"\\s+";ve[bi]=new RegExp(L[bi],"g");var wT="$1~",oh=ae++;L[oh]="^"+L[Ri]+L[pr]+"$";var ah=ae++;L[ah]="^"+L[Ri]+L[Br]+"$";var _i=ae++;L[_i]="(?:\\^)";var wi=ae++;L[wi]="(\\s*)"+L[_i]+"\\s+";ve[wi]=new RegExp(L[wi],"g");var ST="$1^",ch=ae++;L[ch]="^"+L[_i]+L[pr]+"$";var lh=ae++;L[lh]="^"+L[_i]+L[Br]+"$";var bo=ae++;L[bo]="^"+L[Ur]+"\\s*("+To+")$|^$";var _o=ae++;L[_o]="^"+L[Ur]+"\\s*("+nh+")$|^$";var wn=ae++;L[wn]="(\\s*)"+L[Ur]+"\\s*("+To+"|"+L[pr]+")";ve[wn]=new RegExp(L[wn],"g");var CT="$1$2$3",uh=ae++;L[uh]="^\\s*("+L[pr]+")\\s+-\\s+("+L[pr]+")\\s*$";var hh=ae++;L[hh]="^\\s*("+L[Br]+")\\s+-\\s+("+L[Br]+")\\s*$";var fh=ae++;L[fh]="(<|>)?=?\\s*\\*";for(var mr=0;mr<ae;mr++)he(mr,L[mr]),ve[mr]||(ve[mr]=new RegExp(L[mr]));te.parse=Sn;function Sn(e,t){if(e.length>uo)return null;var r=t?ve[Ro]:ve[yo];if(!r.test(e))return null;try{return new ge(e,t)}catch(n){return null}}te.valid=NT;function NT(e,t){var r=Sn(e,t);return r?r.version:null}te.clean=IT;function IT(e,t){var r=Sn(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}te.SemVer=ge;function ge(e,t){if(e instanceof ge){if(e.loose===t)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>uo)throw new TypeError("version is longer than "+uo+" characters");if(!(this instanceof ge))return new ge(e,t);he("SemVer",e,t),this.loose=t;var r=e.trim().match(t?ve[Ro]:ve[yo]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ho||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ho||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ho||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){return/^[0-9]+$/.test(n)?+n:n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}ge.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ge.prototype.inspect=function(){return'<SemVer "'+this+'">'};ge.prototype.toString=function(){return this.version};ge.prototype.compare=function(e){return he("SemVer.compare",this.version,this.loose,e),e instanceof ge||(e=new ge(e,this.loose)),this.compareMain(e)||this.comparePre(e)};ge.prototype.compareMain=function(e){return e instanceof ge||(e=new ge(e,this.loose)),Wr(this.major,e.major)||Wr(this.minor,e.minor)||Wr(this.patch,e.patch)};ge.prototype.comparePre=function(e){if(e instanceof ge||(e=new ge(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(he("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Wr(r,n)}while(++t)};ge.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this};te.inc=OT;function OT(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new ge(e,r).inc(t,n).version}catch(i){return null}}te.diff=AT;function AT(e,t){if(wo(e,t))return null;var r=Sn(e),n=Sn(t);if(r.prerelease.length||n.prerelease.length){for(var i in r)if((i==="major"||i==="minor"||i==="patch")&&r[i]!==n[i])return"pre"+i;return"prerelease"}for(var i in r)if((i==="major"||i==="minor"||i==="patch")&&r[i]!==n[i])return i}te.compareIdentifiers=Wr;var dh=/^[0-9]+$/;function Wr(e,t){var r=dh.test(e),n=dh.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}te.rcompareIdentifiers=LT;function LT(e,t){return Wr(t,e)}te.major=PT;function PT(e,t){return new ge(e,t).major}te.minor=xT;function xT(e,t){return new ge(e,t).minor}te.patch=DT;function DT(e,t){return new ge(e,t).patch}te.compare=kt;function kt(e,t,r){return new ge(e,r).compare(t)}te.compareLoose=kT;function kT(e,t){return kt(e,t,!0)}te.rcompare=ph;function ph(e,t,r){return kt(t,e,r)}te.sort=MT;function MT(e,t){return e.sort(function(r,n){return te.compare(r,n,t)})}te.rsort=qT;function qT(e,t){return e.sort(function(r,n){return te.rcompare(r,n,t)})}te.gt=Si;function Si(e,t,r){return kt(e,t,r)>0}te.lt=Ci;function Ci(e,t,r){return kt(e,t,r)<0}te.eq=wo;function wo(e,t,r){return kt(e,t,r)===0}te.neq=mh;function mh(e,t,r){return kt(e,t,r)!==0}te.gte=So;function So(e,t,r){return kt(e,t,r)>=0}te.lte=Co;function Co(e,t,r){return kt(e,t,r)<=0}te.cmp=gh;function gh(e,t,r,n){var i;switch(t){case"===":typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),i=e===r;break;case"!==":typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),i=e!==r;break;case"":case"=":case"==":i=wo(e,r,n);break;case"!=":i=mh(e,r,n);break;case">":i=Si(e,r,n);break;case">=":i=So(e,r,n);break;case"<":i=Ci(e,r,n);break;case"<=":i=Co(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return i}te.Comparator=Mt;function Mt(e,t){if(e instanceof Mt){if(e.loose===t)return e;e=e.value}if(!(this instanceof Mt))return new Mt(e,t);he("comparator",e,t),this.loose=t,this.parse(e),this.semver===Ni?this.value="":this.value=this.operator+this.semver.version,he("comp",this)}var Ni={};Mt.prototype.parse=function(e){var t=this.loose?ve[bo]:ve[_o],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new ge(r[2],this.loose):this.semver=Ni};Mt.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'};Mt.prototype.toString=function(){return this.value};Mt.prototype.test=function(e){return he("Comparator.test",e,this.loose),this.semver===Ni?!0:(typeof e=="string"&&(e=new ge(e,this.loose)),gh(e,this.operator,this.semver,this.loose))};te.Range=ot;function ot(e,t){if(e instanceof ot&&e.loose===t)return e;if(!(this instanceof ot))return new ot(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}ot.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'};ot.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};ot.prototype.toString=function(){return this.range};ot.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),he("range",e,t);var r=t?ve[hh]:ve[uh];e=e.replace(r,jT),he("hyphen replace",e),e=e.replace(ve[wn],CT),he("comparator trim",e,ve[wn]),e=e.replace(ve[bi],wT),e=e.replace(ve[wi],ST),e=e.split(/\s+/).join(" ");var n=t?ve[bo]:ve[_o],i=e.split(" ").map(function(s){return FT(s,t)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new Mt(s,t)}),i};te.toComparators=UT;function UT(e,t){return new ot(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function FT(e,t){return he("comp",e),e=WT(e,t),he("caret",e),e=BT(e,t),he("tildes",e),e=HT(e,t),he("xrange",e),e=GT(e,t),he("stars",e),e}function Qe(e){return!e||e.toLowerCase()==="x"||e==="*"}function BT(e,t){return e.trim().split(/\s+/).map(function(r){return $T(r,t)}).join(" ")}function $T(e,t){var r=t?ve[ah]:ve[oh];return e.replace(r,function(n,i,s,o,a){he("tilde",e,n,i,s,o,a);var c;return Qe(i)?c="":Qe(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Qe(o)?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(he("replaceTilde pr",a),a.charAt(0)!=="-"&&(a="-"+a),c=">="+i+"."+s+"."+o+a+" <"+i+"."+(+s+1)+".0"):c=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",he("tilde return",c),c})}function WT(e,t){return e.trim().split(/\s+/).map(function(r){return VT(r,t)}).join(" ")}function VT(e,t){he("caret",e,t);var r=t?ve[lh]:ve[ch];return e.replace(r,function(n,i,s,o,a){he("caret",e,n,i,s,o,a);var c;return Qe(i)?c="":Qe(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Qe(o)?i==="0"?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(he("replaceCaret pr",a),a.charAt(0)!=="-"&&(a="-"+a),i==="0"?s==="0"?c=">="+i+"."+s+"."+o+a+" <"+i+"."+s+"."+(+o+1):c=">="+i+"."+s+"."+o+a+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+o+a+" <"+(+i+1)+".0.0"):(he("no pr"),i==="0"?s==="0"?c=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):c=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),he("caret return",c),c})}function HT(e,t){return he("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return zT(r,t)}).join(" ")}function zT(e,t){e=e.trim();var r=t?ve[sh]:ve[ih];return e.replace(r,function(n,i,s,o,a,c){he("xRange",e,n,i,s,o,a,c);var u=Qe(s),h=u||Qe(o),d=h||Qe(a),g=d;return i==="="&&g&&(i=""),u?i===">"||i==="<"?n="<0.0.0":n="*":i&&g?(h&&(o=0),d&&(a=0),i===">"?(i=">=",h?(s=+s+1,o=0,a=0):d&&(o=+o+1,a=0)):i==="<="&&(i="<",h?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a):h?n=">="+s+".0.0 <"+(+s+1)+".0.0":d&&(n=">="+s+"."+o+".0 <"+s+"."+(+o+1)+".0"),he("xRange return",n),n})}function GT(e,t){return he("replaceStars",e,t),e.trim().replace(ve[fh],"")}function jT(e,t,r,n,i,s,o,a,c,u,h,d,g){return Qe(r)?t="":Qe(n)?t=">="+r+".0.0":Qe(i)?t=">="+r+"."+n+".0":t=">="+t,Qe(c)?a="":Qe(u)?a="<"+(+c+1)+".0.0":Qe(h)?a="<"+c+"."+(+u+1)+".0":d?a="<="+c+"."+u+"."+h+"-"+d:a="<="+a,(t+" "+a).trim()}ot.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new ge(e,this.loose));for(var t=0;t<this.set.length;t++)if(XT(this.set[t],e))return!0;return!1};function XT(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(var r=0;r<e.length;r++){if(he(e[r].semver),e[r].semver===Ni)return!0;if(e[r].semver.prerelease.length>0){var n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}}return!1}return!0}te.satisfies=No;function No(e,t,r){try{t=new ot(t,r)}catch(n){return!1}return t.test(e)}te.maxSatisfying=YT;function YT(e,t,r){return e.filter(function(n){return No(n,t,r)}).sort(function(n,i){return ph(n,i,r)})[0]||null}te.validRange=QT;function QT(e,t){try{return new ot(e,t).range||"*"}catch(r){return null}}te.ltr=KT;function KT(e,t,r){return Io(e,t,"<",r)}te.gtr=JT;function JT(e,t,r){return Io(e,t,">",r)}te.outside=Io;function Io(e,t,r,n){e=new ge(e,n),t=new ot(t,n);var i,s,o,a,c;switch(r){case">":i=Si,s=Co,o=Ci,a=">",c=">=";break;case"<":i=Ci,s=So,o=Si,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(No(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var h=t.set[u],d=null,g=null;if(h.forEach(function(C){d=d||C,g=g||C,i(C.semver,d.semver,n)?d=C:o(C.semver,g.semver,n)&&(g=C)}),d.operator===a||d.operator===c)return!1;if((!g.operator||g.operator===a)&&s(e,g.semver))return!1;if(g.operator===c&&o(e,g.semver))return!1}return!0}typeof define=="function"&&define.amd&&define(te)});var yh=v((bL,vh)=>{vh.exports={name:"pg",version:"8.3.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.3.0","pg-pool":"^3.2.1","pg-protocol":"^1.2.5","pg-types":"^2.1.0",pgpass:"1.x",semver:"4.3.2"},devDependencies:{async:"0.9.0",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},minNativeVersion:"2.0.0",scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"}}});var bh=v((_L,Th)=>{"use strict";var Rh=require("events").EventEmitter,ZT=require("util"),Oo=hi(),Hr=Th.exports=function(e,t,r){Rh.call(this),e=Oo.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode=e.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(n){n==="row"&&(this._emitRowEvents=!0)}.bind(this))};ZT.inherits(Hr,Rh);var eR={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};Hr.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t){var n=eR[r]||r;e[n]=t[r]}this.callback?this.callback(e):this.emit("error",e),this.state="error"};Hr.prototype.then=function(e,t){return this._getPromise().then(e,t)};Hr.prototype.catch=function(e){return this._getPromise().catch(e)};Hr.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this)),this._promise)};Hr.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=function(s,o,a){if(e.native.arrayMode=!1,setImmediate(function(){t.emit("_done")}),s)return t.handleError(s);t._emitRowEvents&&(a.length>1?o.forEach((c,u)=>{c.forEach(h=>{t.emit("row",h,a[u])})}):o.forEach(function(c){t.emit("row",c,a)})),t.state="end",t.emit("end",a),t.callback&&t.callback(null,a)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var n=(this.values||[]).map(Oo.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){const s=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(s)}return e.native.execute(this.name,n,r)}return e.native.prepare(this.name,this.text,n.length,function(s){return s?r(s):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,n,r))})}else if(this.values){if(!Array.isArray(this.values)){const s=new Error("Query values must be an array");return r(s)}var i=this.values.map(Oo.prepareValue);e.native.query(this.text,i,r)}else e.native.query(this.text,r)}});var Ih=v((wL,_h)=>{"use strict";var wh=Ii(),tR=Ks(),rR=Eh(),Sh=yh(),nR=require("assert"),Ch=require("events").EventEmitter,iR=require("util"),sR=eo(),oR="Version >= "+Sh.minNativeVersion+" of pg-native required.";nR(rR.gte(wh.version,Sh.minNativeVersion),oR);var Nh=bh(),mt=_h.exports=function(e){Ch.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new tR(e.types),this.native=new wh({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new sR(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};mt.Query=Nh;iR.inherits(mt,Ch);mt.prototype._errorAllQueries=function(e){const t=r=>{process.nextTick(()=>{r.native=this.native,r.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0};mt.prototype._connect=function(e){var t=this;if(this._connecting){process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(r)return e(r);t.native.connect(n,function(i){if(i)return t.native.end(),e(i);t._connected=!0,t.native.on("error",function(s){t._queryable=!1,t._errorAllQueries(s),t.emit("error",s)}),t.native.on("notification",function(s){t.emit("notification",{channel:s.relname,payload:s.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})};mt.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((t,r)=>{this._connect(n=>{n?r(n):t()})})};mt.prototype.query=function(e,t,r){var n,i,s,o,a;if(e==null)throw new TypeError("Client was passed a null or undefined query");if(typeof e.submit=="function")s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,typeof t=="function"&&(e.callback=t);else if(s=this.connectionParameters.query_timeout,n=new Nh(e,t,r),!n.callback){let c,u;i=new this._Promise((h,d)=>{c=h,u=d}),n.callback=(h,d)=>h?u(h):c(d)}return s&&(a=n.callback,o=setTimeout(()=>{var c=new Error("Query read timeout");process.nextTick(()=>{n.handleError(c,this.connection)}),a(c),n.callback=()=>{};var u=this._queryQueue.indexOf(n);u>-1&&this._queryQueue.splice(u,1),this._pulseQueryQueue()},s),n.callback=(c,u)=>{clearTimeout(o),a(c,u)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),i):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)};mt.prototype.end=function(e){var t=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e));var r;return e||(r=new this._Promise(function(n,i){e=s=>s?i(s):n()})),this.native.end(function(){t._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{t.emit("end"),e&&e()})}),r};mt.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};mt.prototype._pulseQueryQueue=function(e){if(!this._connected)return;if(this._hasActiveQuery())return;var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var r=this;t.once("_done",function(){r._pulseQueryQueue()})};mt.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):this._queryQueue.indexOf(e)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)};mt.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)};mt.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}});var Ii=v((SL,Oh)=>{"use strict";Oh.exports=Ih()});var lo=v((CL,Cn)=>{"use strict";var aR=Qu(),cR=Tn(),lR=oo(),uR=eh();const hR=e=>class extends uR{constructor(r){super(r,e)}};var Ao=function(e){this.defaults=cR,this.Client=e,this.Query=this.Client.Query,this.Pool=hR(this.Client),this._pools=[],this.Connection=lR,this.types=yn()};typeof process.env.NODE_PG_FORCE_NATIVE!="undefined"?Cn.exports=new Ao(Ii()):(Cn.exports=new Ao(aR),Object.defineProperty(Cn.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new Ao(Ii())}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t;console.error(t.message)}return Object.defineProperty(Cn.exports,"native",{value:e}),e}}))});var Ah=v(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});const fR=(e,...t)=>{function r(n={}){return e.reduce((i,s,o)=>{const a=t[o];return i+=s.replace(/\r?\n\s+/g," "),typeof a!="undefined"&&(i+=typeof a!="function"?a:a(n)),i},"").trim()}return r.raw=e.reduce((n,i,s)=>{const o=t[s];return n+=i.replace(/\r?\n\s+/g," "),typeof o!="undefined"&&(n+="${"+o.toString()+"}"),n},"").trim(),r};Lo.default=fR});var Po=v((IL,Lh)=>{const Ph={CONNECTION:"connection",CONNECTED_CONNECTION:"connectedConnection",COLUMN:"connection.column",FUNCTION:"connection.function",SCHEMA:"connection.schema",RESOURCE_GROUP:"connection.resource_group",DATABASE:"connection.database",TABLE:"connection.table",VIEW:"connection.view",MATERIALIZED_VIEW:"connection.materializedView",NO_CHILD:"NO_CHILD",KEYWORDS:"KEYWORDS"};Object.freeze(Ph);Lh.exports={ContextValue:Ph}});var Gr=v(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});function dR(e){return e===!0||e===!1}qt.boolean=dR;function xh(e){return typeof e=="string"||e instanceof String}qt.string=xh;function pR(e){return typeof e=="number"||e instanceof Number}qt.number=pR;function mR(e){return e instanceof Error}qt.error=mR;function gR(e){return typeof e=="function"}qt.func=gR;function Dh(e){return Array.isArray(e)}qt.array=Dh;function ER(e){return Dh(e)&&e.every(t=>xh(t))}qt.stringArray=ER});var qh=v(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});const gr=Gr();var kh;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2})(kh=le.ErrorCodes||(le.ErrorCodes={}));class Mh extends Error{constructor(e,t,r){super(t);this.code=gr.number(e)?e:kh.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Mh.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}le.ResponseError=Mh;class Se{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}le.AbstractMessageType=Se;class vR extends Se{constructor(e){super(e,0)}}le.RequestType0=vR;class yR extends Se{constructor(e){super(e,1)}}le.RequestType=yR;class TR extends Se{constructor(e){super(e,1)}}le.RequestType1=TR;class RR extends Se{constructor(e){super(e,2)}}le.RequestType2=RR;class bR extends Se{constructor(e){super(e,3)}}le.RequestType3=bR;class _R extends Se{constructor(e){super(e,4)}}le.RequestType4=_R;class wR extends Se{constructor(e){super(e,5)}}le.RequestType5=wR;class SR extends Se{constructor(e){super(e,6)}}le.RequestType6=SR;class CR extends Se{constructor(e){super(e,7)}}le.RequestType7=CR;class NR extends Se{constructor(e){super(e,8)}}le.RequestType8=NR;class IR extends Se{constructor(e){super(e,9)}}le.RequestType9=IR;class OR extends Se{constructor(e){super(e,1);this._=void 0}}le.NotificationType=OR;class AR extends Se{constructor(e){super(e,0)}}le.NotificationType0=AR;class LR extends Se{constructor(e){super(e,1)}}le.NotificationType1=LR;class PR extends Se{constructor(e){super(e,2)}}le.NotificationType2=PR;class xR extends Se{constructor(e){super(e,3)}}le.NotificationType3=xR;class DR extends Se{constructor(e){super(e,4)}}le.NotificationType4=DR;class kR extends Se{constructor(e){super(e,5)}}le.NotificationType5=kR;class MR extends Se{constructor(e){super(e,6)}}le.NotificationType6=MR;class qR extends Se{constructor(e){super(e,7)}}le.NotificationType7=qR;class FR extends Se{constructor(e){super(e,8)}}le.NotificationType8=FR;class jR extends Se{constructor(e){super(e,9)}}le.NotificationType9=jR;function UR(e){let t=e;return t&&gr.string(t.method)&&(gr.string(t.id)||gr.number(t.id))}le.isRequestMessage=UR;function BR(e){let t=e;return t&&gr.string(t.method)&&e.id===void 0}le.isNotificationMessage=BR;function WR(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(gr.string(t.id)||gr.number(t.id)||t.id===null)}le.isResponseMessage=WR});var Nn=v(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});var HR;(function(e){function t(r){return{dispose:r}}e.create=t})(HR=Er.Disposable||(Er.Disposable={}));var GR;(function(e){const t={dispose(){}};e.None=function(){return t}})(GR=Er.Event||(Er.Event={}));class $R{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;for(var r=!1,n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e)if(this._contexts[n]===t){this._callbacks.splice(n,1),this._contexts.splice(n,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];for(var t=[],r=this._callbacks.slice(0),n=this._contexts.slice(0),i=0,s=r.length;i<s;i++)try{t.push(r[i].apply(n[i],e))}catch(o){console.error(o)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class xo{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new $R()),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let n;return n={dispose:()=>{this._callbacks.remove(e,t),n.dispose=xo._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Er.Emitter=xo;xo._noop=function(){}});var Oi=v(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});const Do=Nn(),$r=Gr();let ko=8192,Fh=Buffer.from("\r","ascii")[0],jh=Buffer.from(`
`,"ascii")[0],VR=`\r
`;class zR{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(ko)}append(e){var t=e;if(typeof e=="string"){var r=e,n=Buffer.byteLength(r,this.encoding);t=Buffer.allocUnsafe(n),t.write(r,0,n,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=(Math.ceil((this.index+t.length)/ko)+1)*ko;this.index===0?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e,t=0;for(;t+3<this.index&&(this.buffer[t]!==Fh||this.buffer[t+1]!==jh||this.buffer[t+2]!==Fh||this.buffer[t+3]!==jh);)t++;if(t+3>=this.index)return e;e=Object.create(null);let r=this.buffer.toString("ascii",0,t).split(VR);r.forEach(i=>{let s=i.indexOf(":");if(s===-1)throw new Error("Message header must separate key and value using :");let o=i.substr(0,s),a=i.substr(s+1).trim();e[o]=a});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}get numberOfBytes(){return this.index}}var XR;(function(e){function t(r){let n=r;return n&&$r.func(n.listen)&&$r.func(n.dispose)&&$r.func(n.onError)&&$r.func(n.onClose)&&$r.func(n.onPartialMessage)}e.is=t})(XR=Jt.MessageReader||(Jt.MessageReader={}));class Mo{constructor(){this.errorEmitter=new Do.Emitter(),this.closeEmitter=new Do.Emitter(),this.partialMessageEmitter=new Do.Emitter()}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${$r.string(e.message)?e.message:"unknown"}`)}}Jt.AbstractMessageReader=Mo;class Uh extends Mo{constructor(e,t="utf8"){super();this.readable=e,this.buffer=new zR(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",t=>{this.onData(t)}),this.readable.on("error",t=>this.fireError(t)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders();if(!n)return;let i=n["Content-Length"];if(!i)throw new Error("Header must provide a Content-Length property.");let s=parseInt(i);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}var t=this.buffer.tryReadContent(this.nextMessageLength);if(t===null){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var r=JSON.parse(t);this.callback(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){if(this.clearPartialMessageTimer(),this._partialMessageTimeout<=0)return;this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout)}}Jt.StreamMessageReader=Uh;class YR extends Mo{constructor(e){super();this.process=e;let t=this.process;t.on("error",r=>this.fireError(r)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}}Jt.IPCMessageReader=YR;class QR extends Uh{constructor(e,t="utf-8"){super(e,t)}}Jt.SocketMessageReader=QR});var Pi=v(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});const Bh=Nn(),In=Gr();let Wh="Content-Length: ",Ai=`\r
`;var KR;(function(e){function t(r){let n=r;return n&&In.func(n.dispose)&&In.func(n.onClose)&&In.func(n.onError)&&In.func(n.write)}e.is=t})(KR=Zt.MessageWriter||(Zt.MessageWriter={}));class Li{constructor(){this.errorEmitter=new Bh.Emitter(),this.closeEmitter=new Bh.Emitter()}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${In.string(e.message)?e.message:"unknown"}`)}}Zt.AbstractMessageWriter=Li;class JR extends Li{constructor(e,t="utf8"){super();this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",r=>this.fireError(r)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[Wh,r.toString(),Ai,Ai];try{this.writable.write(n.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(i){this.errorCount++,this.fireError(i,e,this.errorCount)}}}Zt.StreamMessageWriter=JR;class ZR extends Li{constructor(e){super();this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",r=>this.fireError(r)),t.on("close",()=>this.fireClose)}write(e){!this.sending&&this.queue.length===0?this.doWriteMessage(e):this.queue.push(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}}Zt.IPCMessageWriter=ZR;class eb extends Li{constructor(e,t="utf8"){super();this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",r=>this.fireError(r)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(e){!this.sending&&this.queue.length===0?this.doWriteMessage(e):this.queue.push(e)}doWriteMessage(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[Wh,r.toString(),Ai,Ai];try{this.sending=!0,this.socket.write(n.join(""),"ascii",i=>{i&&this.handleError(i,e);try{this.socket.write(t,this.encoding,s=>{this.sending=!1,s?this.handleError(s,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(s){this.handleError(s,e)}})}catch(i){this.handleError(i,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}Zt.SocketMessageWriter=eb});var Gh=v(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});const qo=Nn(),tb=Gr();var Fo;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:qo.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:qo.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||tb.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(Fo=On.CancellationToken||(On.CancellationToken={}));const rb=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}});class Hh{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?rb:(this._emitter||(this._emitter=new qo.Emitter()),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class nb{get token(){return this._token||(this._token=new Hh()),this._token}cancel(){this._token?this._token.cancel():this._token=Fo.Cancelled}dispose(){this._token?this._token instanceof Hh&&this._token.dispose():this._token=Fo.None}}On.CancellationTokenSource=nb});var $h=v(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var It;(function(e){e.None=0,e.First=1,e.Last=2})(It=An.Touch||(An.Touch={}));class ib{constructor(){this._map=new Map(),this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);return t?t.value:void 0}set(e,t,r=It.None){let n=this._map.get(e);if(n)n.value=t,r!==It.None&&this.touch(n,r);else{n={key:e,value:t,next:void 0,previous:void 0};switch(r){case It.None:this.addItemLast(n);break;case It.First:this.addItemFirst(n);break;case It.Last:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}}delete(e){const t=this._map.get(e);return t?(this._map.delete(e),this.removeItem(t),this._size--,!0):!1}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._head;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next}forEachReverse(e,t){let r=this._tail;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t!==It.First&&t!==It.Last)return;if(t===It.First){if(e===this._head)return;const r=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(r.previous=n,n.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===It.Last){if(e===this._tail)return;const r=e.next,n=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=n,n.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}An.LinkedMap=ib});var Yh=v(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});const sb=require("path"),ob=require("os"),ab=require("crypto"),Vh=require("net"),zh=Oi(),Xh=Pi();function cb(){const e=ab.randomBytes(21).toString("hex");return process.platform==="win32"?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:sb.join(ob.tmpdir(),`vscode-${e}.sock`)}Ln.generateRandomPipeName=cb;function lb(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Vh.createServer(a=>{o.close(),r([new zh.SocketMessageReader(a,t),new Xh.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Ln.createClientPipeTransport=lb;function ub(e,t="utf-8"){const r=Vh.createConnection(e);return[new zh.SocketMessageReader(r,t),new Xh.SocketMessageWriter(r,t)]}Ln.createServerPipeTransport=ub});var Zh=v(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});const Qh=require("net"),Kh=Oi(),Jh=Pi();function hb(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Qh.createServer(a=>{o.close(),r([new Kh.SocketMessageReader(a,t),new Jh.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}xi.createClientSocketTransport=hb;function fb(e,t="utf-8"){const r=Qh.createConnection(e,"127.0.0.1");return[new Kh.SocketMessageReader(r,t),new Jh.SocketMessageWriter(r,t)]}xi.createServerSocketTransport=fb});var bt=v(W=>{"use strict";function ef(e){for(var t in e)W.hasOwnProperty(t)||(W[t]=e[t])}Object.defineProperty(W,"__esModule",{value:!0});const Be=Gr(),z=qh();W.RequestType=z.RequestType;W.RequestType0=z.RequestType0;W.RequestType1=z.RequestType1;W.RequestType2=z.RequestType2;W.RequestType3=z.RequestType3;W.RequestType4=z.RequestType4;W.RequestType5=z.RequestType5;W.RequestType6=z.RequestType6;W.RequestType7=z.RequestType7;W.RequestType8=z.RequestType8;W.RequestType9=z.RequestType9;W.ResponseError=z.ResponseError;W.ErrorCodes=z.ErrorCodes;W.NotificationType=z.NotificationType;W.NotificationType0=z.NotificationType0;W.NotificationType1=z.NotificationType1;W.NotificationType2=z.NotificationType2;W.NotificationType3=z.NotificationType3;W.NotificationType4=z.NotificationType4;W.NotificationType5=z.NotificationType5;W.NotificationType6=z.NotificationType6;W.NotificationType7=z.NotificationType7;W.NotificationType8=z.NotificationType8;W.NotificationType9=z.NotificationType9;const Pn=Oi();W.MessageReader=Pn.MessageReader;W.StreamMessageReader=Pn.StreamMessageReader;W.IPCMessageReader=Pn.IPCMessageReader;W.SocketMessageReader=Pn.SocketMessageReader;const xn=Pi();W.MessageWriter=xn.MessageWriter;W.StreamMessageWriter=xn.StreamMessageWriter;W.IPCMessageWriter=xn.IPCMessageWriter;W.SocketMessageWriter=xn.SocketMessageWriter;const er=Nn();W.Disposable=er.Disposable;W.Event=er.Event;W.Emitter=er.Emitter;const Vr=Gh();W.CancellationTokenSource=Vr.CancellationTokenSource;W.CancellationToken=Vr.CancellationToken;const tf=$h();ef(Yh());ef(Zh());var Dn;(function(e){e.type=new z.NotificationType("$/cancelRequest")})(Dn||(Dn={}));var Di;(function(e){e.type=new z.NotificationType("$/progress")})(Di||(Di={}));class db{constructor(){}}W.ProgressType=db;W.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var xe;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(xe=W.Trace||(W.Trace={}));(function(e){function t(n){if(!Be.string(n))return e.Off;n=n.toLowerCase();switch(n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(xe=W.Trace||(W.Trace={}));var Tt;(function(e){e.Text="text",e.JSON="json"})(Tt=W.TraceFormat||(W.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(Tt=W.TraceFormat||(W.TraceFormat={}));var rf;(function(e){e.type=new z.NotificationType("$/setTraceNotification")})(rf=W.SetTraceNotification||(W.SetTraceNotification={}));var jo;(function(e){e.type=new z.NotificationType("$/logTraceNotification")})(jo=W.LogTraceNotification||(W.LogTraceNotification={}));var ki;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(ki=W.ConnectionErrors||(W.ConnectionErrors={}));class kn extends Error{constructor(e,t){super(t);this.code=e,Object.setPrototypeOf(this,kn.prototype)}}W.ConnectionError=kn;var pb;(function(e){function t(r){let n=r;return n&&Be.func(n.cancelUndispatched)}e.is=t})(pb=W.ConnectionStrategy||(W.ConnectionStrategy={}));var Rt;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Rt||(Rt={}));function mb(e,t,r,n){let i=0,s=0,o=0;const a="2.0";let c,u=Object.create(null),h,d=Object.create(null),g=new Map(),C,N=new tf.LinkedMap(),U=Object.create(null),B=Object.create(null),D=xe.Off,J=Tt.Text,k,T=Rt.New,m=new er.Emitter(),_=new er.Emitter(),j=new er.Emitter(),A=new er.Emitter(),q=new er.Emitter();function Z(E){return"req-"+E.toString()}function $(E){return E===null?"res-unknown-"+(++o).toString():"res-"+E.toString()}function se(){return"not-"+(++s).toString()}function Ie(E,O){z.isRequestMessage(O)?E.set(Z(O.id),O):z.isResponseMessage(O)?E.set($(O.id),O):E.set(se(),O)}function me(E){return}function de(){return T===Rt.Listening}function Oe(){return T===Rt.Closed}function Ae(){return T===Rt.Disposed}function He(){(T===Rt.New||T===Rt.Listening)&&(T=Rt.Closed,_.fire(void 0))}function Fe(E){m.fire([E,void 0,void 0])}function Te(E){m.fire(E)}e.onClose(He),e.onError(Fe),t.onClose(He),t.onError(Te);function lt(){if(C||N.size===0)return;C=setImmediate(()=>{C=void 0,Pe()})}function Pe(){if(N.size===0)return;let E=N.shift();try{z.isRequestMessage(E)?je(E):z.isNotificationMessage(E)?Nt(E):z.isResponseMessage(E)?ut(E):st(E)}finally{lt()}}let Ge=E=>{try{if(z.isNotificationMessage(E)&&E.method===Dn.type.method){let O=Z(E.params.id),M=N.get(O);if(z.isRequestMessage(M)){let G=n&&n.cancelUndispatched?n.cancelUndispatched(M,me):me(M);if(G&&(G.error!==void 0||G.result!==void 0)){N.delete(O),G.id=M.id,Xt(G,E.method,Date.now()),t.write(G);return}}}Ie(N,E)}finally{lt()}};function je(E){if(Ae())return;function O(R,x,F){let Y={jsonrpc:a,id:E.id};R instanceof z.ResponseError?Y.error=R.toJson():Y.result=R===void 0?null:R,Xt(Y,x,F),t.write(Y)}function M(R,x,F){let Y={jsonrpc:a,id:E.id,error:R.toJson()};Xt(Y,x,F),t.write(Y)}function G(R,x,F){R===void 0&&(R=null);let Y={jsonrpc:a,id:E.id,result:R};Xt(Y,x,F),t.write(Y)}si(E);let l=u[E.method],f,p;l&&(f=l.type,p=l.handler);let y=Date.now();if(p||c){let R=new Vr.CancellationTokenSource(),x=String(E.id);B[x]=R;try{let F;E.params===void 0||f!==void 0&&f.numberOfParams===0?F=p?p(R.token):c(E.method,R.token):Be.array(E.params)&&(f===void 0||f.numberOfParams>1)?F=p?p(...E.params,R.token):c(E.method,...E.params,R.token):F=p?p(E.params,R.token):c(E.method,E.params,R.token);let Y=F;F?Y.then?Y.then(Re=>{delete B[x],O(Re,E.method,y)},Re=>{delete B[x],Re instanceof z.ResponseError?M(Re,E.method,y):Re&&Be.string(Re.message)?M(new z.ResponseError(z.ErrorCodes.InternalError,`Request ${E.method} failed with message: ${Re.message}`),E.method,y):M(new z.ResponseError(z.ErrorCodes.InternalError,`Request ${E.method} failed unexpectedly without providing any details.`),E.method,y)}):(delete B[x],O(F,E.method,y)):(delete B[x],G(F,E.method,y))}catch(F){delete B[x],F instanceof z.ResponseError?O(F,E.method,y):F&&Be.string(F.message)?M(new z.ResponseError(z.ErrorCodes.InternalError,`Request ${E.method} failed with message: ${F.message}`),E.method,y):M(new z.ResponseError(z.ErrorCodes.InternalError,`Request ${E.method} failed unexpectedly without providing any details.`),E.method,y)}}else M(new z.ResponseError(z.ErrorCodes.MethodNotFound,`Unhandled method ${E.method}`),E.method,y)}function ut(E){if(Ae())return;if(E.id===null)E.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(E.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let O=String(E.id),M=U[O];if(Cs(E,M),M){delete U[O];try{if(E.error){let G=E.error;M.reject(new z.ResponseError(G.code,G.message,G.data))}else if(E.result!==void 0)M.resolve(E.result);else throw new Error("Should never happen.")}catch(G){G.message?r.error(`Response handler '${M.method}' failed with message: ${G.message}`):r.error(`Response handler '${M.method}' failed unexpectedly.`)}}}}function Nt(E){if(Ae())return;let O,M;if(E.method===Dn.type.method)M=G=>{let l=G.id,f=B[String(l)];f&&f.cancel()};else{let G=d[E.method];G&&(M=G.handler,O=G.type)}if(M||h)try{Ss(E),E.params===void 0||O!==void 0&&O.numberOfParams===0?M?M():h(E.method):Be.array(E.params)&&(O===void 0||O.numberOfParams>1)?M?M(...E.params):h(E.method,...E.params):M?M(E.params):h(E.method,E.params)}catch(G){G.message?r.error(`Notification handler '${E.method}' failed with message: ${G.message}`):r.error(`Notification handler '${E.method}' failed unexpectedly.`)}else j.fire(E)}function st(E){if(!E){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(E,null,4)}`);let O=E;if(Be.string(O.id)||Be.number(O.id)){let M=String(O.id),G=U[M];G&&G.reject(new Error("The received response has neither a result nor an error property."))}}function ht(E){if(D===xe.Off||!k)return;if(J===Tt.Text){let O;D===xe.Verbose&&E.params&&(O=`Params: ${JSON.stringify(E.params,null,4)}

`),k.log(`Sending request '${E.method} - (${E.id})'.`,O)}else Yt("send-request",E)}function fr(E){if(D===xe.Off||!k)return;if(J===Tt.Text){let O;D===xe.Verbose&&(E.params?O=`Params: ${JSON.stringify(E.params,null,4)}

`:O=`No parameters provided.

`),k.log(`Sending notification '${E.method}'.`,O)}else Yt("send-notification",E)}function Xt(E,O,M){if(D===xe.Off||!k)return;if(J===Tt.Text){let G;D===xe.Verbose&&(E.error&&E.error.data?G=`Error data: ${JSON.stringify(E.error.data,null,4)}

`:E.result?G=`Result: ${JSON.stringify(E.result,null,4)}

`:E.error===void 0&&(G=`No result returned.

`)),k.log(`Sending response '${O} - (${E.id})'. Processing request took ${Date.now()-M}ms`,G)}else Yt("send-response",E)}function si(E){if(D===xe.Off||!k)return;if(J===Tt.Text){let O;D===xe.Verbose&&E.params&&(O=`Params: ${JSON.stringify(E.params,null,4)}

`),k.log(`Received request '${E.method} - (${E.id})'.`,O)}else Yt("receive-request",E)}function Ss(E){if(D===xe.Off||!k||E.method===jo.type.method)return;if(J===Tt.Text){let O;D===xe.Verbose&&(E.params?O=`Params: ${JSON.stringify(E.params,null,4)}

`:O=`No parameters provided.

`),k.log(`Received notification '${E.method}'.`,O)}else Yt("receive-notification",E)}function Cs(E,O){if(D===xe.Off||!k)return;if(J===Tt.Text){let M;if(D===xe.Verbose&&(E.error&&E.error.data?M=`Error data: ${JSON.stringify(E.error.data,null,4)}

`:E.result?M=`Result: ${JSON.stringify(E.result,null,4)}

`:E.error===void 0&&(M=`No result returned.

`)),O){let G=E.error?` Request failed: ${E.error.message} (${E.error.code}).`:"";k.log(`Received response '${O.method} - (${E.id})' in ${Date.now()-O.timerStart}ms.${G}`,M)}else k.log(`Received response ${E.id} without active response promise.`,M)}else Yt("receive-response",E)}function Yt(E,O){if(!k||D===xe.Off)return;const M={isLSPMessage:!0,type:E,message:O,timestamp:Date.now()};k.log(M)}function Qt(){if(Oe())throw new kn(ki.Closed,"Connection is closed.");if(Ae())throw new kn(ki.Disposed,"Connection is disposed.")}function Ns(){if(de())throw new kn(ki.AlreadyListening,"Connection is already listening")}function dn(){if(!de())throw new Error("Call listen() first.")}function X(E){return E===void 0?null:E}function Lr(E,O){let M,G=E.numberOfParams;switch(G){case 0:M=null;break;case 1:M=X(O[0]);break;default:M=[];for(let l=0;l<O.length&&l<G;l++)M.push(X(O[l]));if(O.length<G)for(let l=O.length;l<G;l++)M.push(null);break}return M}let Pt={sendNotification:(E,...O)=>{Qt();let M,G;if(Be.string(E)){M=E;switch(O.length){case 0:G=null;break;case 1:G=O[0];break;default:G=O;break}}else M=E.method,G=Lr(E,O);let l={jsonrpc:a,method:M,params:G};fr(l),t.write(l)},onNotification:(E,O)=>{Qt(),Be.func(E)?h=E:O&&(Be.string(E)?d[E]={type:void 0,handler:O}:d[E.method]={type:E,handler:O})},onProgress:(E,O,M)=>{if(g.has(O))throw new Error(`Progress handler for token ${O} already registered`);return g.set(O,M),{dispose:()=>{g.delete(O)}}},sendProgress:(E,O,M)=>{Pt.sendNotification(Di.type,{token:O,value:M})},onUnhandledProgress:A.event,sendRequest:(E,...O)=>{Qt(),dn();let M,G,l;if(Be.string(E)){M=E;switch(O.length){case 0:G=null;break;case 1:Vr.CancellationToken.is(O[0])?(G=null,l=O[0]):G=X(O[0]);break;default:const y=O.length-1;Vr.CancellationToken.is(O[y])?(l=O[y],O.length===2?G=X(O[0]):G=O.slice(0,y).map(R=>X(R))):G=O.map(R=>X(R));break}}else{M=E.method,G=Lr(E,O);let y=E.numberOfParams;l=Vr.CancellationToken.is(O[y])?O[y]:void 0}let f=i++,p=new Promise((y,R)=>{let x={jsonrpc:a,id:f,method:M,params:G},F={method:M,timerStart:Date.now(),resolve:y,reject:R};ht(x);try{t.write(x)}catch(Y){F.reject(new z.ResponseError(z.ErrorCodes.MessageWriteError,Y.message?Y.message:"Unknown reason")),F=null}F&&(U[String(f)]=F)});return l&&l.onCancellationRequested(()=>{Pt.sendNotification(Dn.type,{id:f})}),p},onRequest:(E,O)=>{Qt(),Be.func(E)?c=E:O&&(Be.string(E)?u[E]={type:void 0,handler:O}:u[E.method]={type:E,handler:O})},trace:(E,O,M)=>{let G=!1,l=Tt.Text;M!==void 0&&(Be.boolean(M)?G=M:(G=M.sendNotification||!1,l=M.traceFormat||Tt.Text)),D=E,J=l,D===xe.Off?k=void 0:k=O,G&&!Oe()&&!Ae()&&Pt.sendNotification(rf.type,{value:xe.toString(E)})},onError:m.event,onClose:_.event,onUnhandledNotification:j.event,onDispose:q.event,dispose:()=>{if(Ae())return;T=Rt.Disposed,q.fire(void 0);let E=new Error("Connection got disposed.");Object.keys(U).forEach(O=>{U[O].reject(E)}),U=Object.create(null),B=Object.create(null),N=new tf.LinkedMap(),Be.func(t.dispose)&&t.dispose(),Be.func(e.dispose)&&e.dispose()},listen:()=>{Qt(),Ns(),T=Rt.Listening,e.listen(Ge)},inspect:()=>{console.log("inspect")}};return Pt.onNotification(jo.type,E=>{if(D===xe.Off||!k)return;k.log(E.message,D===xe.Verbose?E.verbose:void 0)}),Pt.onNotification(Di.type,E=>{const O=g.get(E.token);O?O(E.value):A.fire(E)}),Pt}function gb(e){return e.listen!==void 0&&e.read===void 0}function Eb(e){return e.write!==void 0&&e.end===void 0}function vb(e,t,r,n){r||(r=W.NullLogger);let i=gb(e)?e:new Pn.StreamMessageReader(e),s=Eb(t)?t:new xn.StreamMessageWriter(t);return mb(i,s,r,n)}W.createMessageConnection=vb});var nf=v(yb=>{Nl(yb,{CodeAction:()=>ha,CodeActionContext:()=>ua,CodeActionKind:()=>la,CodeLens:()=>fa,Color:()=>qi,ColorInformation:()=>Bo,ColorPresentation:()=>Wo,Command:()=>zr,CompletionItem:()=>Jo,CompletionItemKind:()=>Yo,CompletionItemTag:()=>Ko,CompletionList:()=>Zo,CreateFile:()=>jn,DeleteFile:()=>Bn,Diagnostic:()=>Mn,DiagnosticRelatedInformation:()=>Fi,DiagnosticSeverity:()=>$o,DiagnosticTag:()=>Vo,DocumentHighlight:()=>ia,DocumentHighlightKind:()=>na,DocumentLink:()=>pa,DocumentSymbol:()=>ca,EOL:()=>Rb,FoldingRange:()=>Go,FoldingRangeKind:()=>Ho,FormattingOptions:()=>da,Hover:()=>ea,InsertTextFormat:()=>Qo,Location:()=>Mi,LocationLink:()=>Uo,MarkedString:()=>Wn,MarkupContent:()=>Bi,MarkupKind:()=>Xr,ParameterInformation:()=>ta,Position:()=>_t,Range:()=>Xe,RenameFile:()=>Un,SelectionRange:()=>ma,SignatureInformation:()=>ra,SymbolInformation:()=>aa,SymbolKind:()=>sa,SymbolTag:()=>oa,TextDocument:()=>ga,TextDocumentEdit:()=>qn,TextDocumentIdentifier:()=>zo,TextDocumentItem:()=>Xo,TextEdit:()=>tr,VersionedTextDocumentIdentifier:()=>Fn,WorkspaceChange:()=>Tb,WorkspaceEdit:()=>ji});"use strict";var _t;(function(e){function t(n,i){return{line:n,character:i}}e.create=t;function r(n){var i=n;return S.objectLiteral(i)&&S.number(i.line)&&S.number(i.character)}e.is=r})(_t||(_t={}));var Xe;(function(e){function t(n,i,s,o){if(S.number(n)&&S.number(i)&&S.number(s)&&S.number(o))return{start:_t.create(n,i),end:_t.create(s,o)};if(_t.is(n)&&_t.is(i))return{start:n,end:i};throw new Error("Range#create called with invalid arguments["+n+", "+i+", "+s+", "+o+"]")}e.create=t;function r(n){var i=n;return S.objectLiteral(i)&&_t.is(i.start)&&_t.is(i.end)}e.is=r})(Xe||(Xe={}));var Mi;(function(e){function t(n,i){return{uri:n,range:i}}e.create=t;function r(n){var i=n;return S.defined(i)&&Xe.is(i.range)&&(S.string(i.uri)||S.undefined(i.uri))}e.is=r})(Mi||(Mi={}));var Uo;(function(e){function t(n,i,s,o){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}e.create=t;function r(n){var i=n;return S.defined(i)&&Xe.is(i.targetRange)&&S.string(i.targetUri)&&(Xe.is(i.targetSelectionRange)||S.undefined(i.targetSelectionRange))&&(Xe.is(i.originSelectionRange)||S.undefined(i.originSelectionRange))}e.is=r})(Uo||(Uo={}));var qi;(function(e){function t(n,i,s,o){return{red:n,green:i,blue:s,alpha:o}}e.create=t;function r(n){var i=n;return S.number(i.red)&&S.number(i.green)&&S.number(i.blue)&&S.number(i.alpha)}e.is=r})(qi||(qi={}));var Bo;(function(e){function t(n,i){return{range:n,color:i}}e.create=t;function r(n){var i=n;return Xe.is(i.range)&&qi.is(i.color)}e.is=r})(Bo||(Bo={}));var Wo;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}e.create=t;function r(n){var i=n;return S.string(i.label)&&(S.undefined(i.textEdit)||tr.is(i))&&(S.undefined(i.additionalTextEdits)||S.typedArray(i.additionalTextEdits,tr.is))}e.is=r})(Wo||(Wo={}));var Ho;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Ho||(Ho={}));var Go;(function(e){function t(n,i,s,o,a){var c={startLine:n,endLine:i};return S.defined(s)&&(c.startCharacter=s),S.defined(o)&&(c.endCharacter=o),S.defined(a)&&(c.kind=a),c}e.create=t;function r(n){var i=n;return S.number(i.startLine)&&S.number(i.startLine)&&(S.undefined(i.startCharacter)||S.number(i.startCharacter))&&(S.undefined(i.endCharacter)||S.number(i.endCharacter))&&(S.undefined(i.kind)||S.string(i.kind))}e.is=r})(Go||(Go={}));var Fi;(function(e){function t(n,i){return{location:n,message:i}}e.create=t;function r(n){var i=n;return S.defined(i)&&Mi.is(i.location)&&S.string(i.message)}e.is=r})(Fi||(Fi={}));var $o;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})($o||($o={}));var Vo;(function(e){e.Unnecessary=1,e.Deprecated=2})(Vo||(Vo={}));var Mn;(function(e){function t(n,i,s,o,a,c){var u={range:n,message:i};return S.defined(s)&&(u.severity=s),S.defined(o)&&(u.code=o),S.defined(a)&&(u.source=a),S.defined(c)&&(u.relatedInformation=c),u}e.create=t;function r(n){var i=n;return S.defined(i)&&Xe.is(i.range)&&S.string(i.message)&&(S.number(i.severity)||S.undefined(i.severity))&&(S.number(i.code)||S.string(i.code)||S.undefined(i.code))&&(S.string(i.source)||S.undefined(i.source))&&(S.undefined(i.relatedInformation)||S.typedArray(i.relatedInformation,Fi.is))}e.is=r})(Mn||(Mn={}));var zr;(function(e){function t(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a={title:n,command:i};return S.defined(s)&&s.length>0&&(a.arguments=s),a}e.create=t;function r(n){var i=n;return S.defined(i)&&S.string(i.title)&&S.string(i.command)}e.is=r})(zr||(zr={}));var tr;(function(e){function t(s,o){return{range:s,newText:o}}e.replace=t;function r(s,o){return{range:{start:s,end:s},newText:o}}e.insert=r;function n(s){return{range:s,newText:""}}e.del=n;function i(s){var o=s;return S.objectLiteral(o)&&S.string(o.newText)&&Xe.is(o.range)}e.is=i})(tr||(tr={}));var qn;(function(e){function t(n,i){return{textDocument:n,edits:i}}e.create=t;function r(n){var i=n;return S.defined(i)&&Fn.is(i.textDocument)&&Array.isArray(i.edits)}e.is=r})(qn||(qn={}));var jn;(function(e){function t(n,i){var s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),s}e.create=t;function r(n){var i=n;return i&&i.kind==="create"&&S.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||S.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||S.boolean(i.options.ignoreIfExists)))}e.is=r})(jn||(jn={}));var Un;(function(e){function t(n,i,s){var o={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(o.options=s),o}e.create=t;function r(n){var i=n;return i&&i.kind==="rename"&&S.string(i.oldUri)&&S.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||S.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||S.boolean(i.options.ignoreIfExists)))}e.is=r})(Un||(Un={}));var Bn;(function(e){function t(n,i){var s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),s}e.create=t;function r(n){var i=n;return i&&i.kind==="delete"&&S.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||S.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||S.boolean(i.options.ignoreIfNotExists)))}e.is=r})(Bn||(Bn={}));var ji;(function(e){function t(r){var n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(i){return S.string(i.kind)?jn.is(i)||Un.is(i)||Bn.is(i):qn.is(i)}))}e.is=t})(ji||(ji={}));var Ui=function(){function e(t){this.edits=t}return e.prototype.insert=function(t,r){this.edits.push(tr.insert(t,r))},e.prototype.replace=function(t,r){this.edits.push(tr.replace(t,r))},e.prototype.delete=function(t){this.edits.push(tr.del(t))},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),Tb=function(){function e(t){var r=this;this._textEditChanges=Object.create(null),t&&(this._workspaceEdit=t,t.documentChanges?t.documentChanges.forEach(function(n){if(qn.is(n)){var i=new Ui(n.edits);r._textEditChanges[n.textDocument.uri]=i}}):t.changes&&Object.keys(t.changes).forEach(function(n){var i=new Ui(t.changes[n]);r._textEditChanges[n]=i}))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Fn.is(t)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r=t,n=this._textEditChanges[r.uri];if(!n){var i=[],s={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(s),n=new Ui(i),this._textEditChanges[r.uri]=n}return n}else{if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[t];if(!n){var i=[];this._workspaceEdit.changes[t]=i,n=new Ui(i),this._textEditChanges[t]=n}return n}},e.prototype.createFile=function(t,r){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(jn.create(t,r))},e.prototype.renameFile=function(t,r,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(Un.create(t,r,n))},e.prototype.deleteFile=function(t,r){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(Bn.create(t,r))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}(),zo;(function(e){function t(n){return{uri:n}}e.create=t;function r(n){var i=n;return S.defined(i)&&S.string(i.uri)}e.is=r})(zo||(zo={}));var Fn;(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){var i=n;return S.defined(i)&&S.string(i.uri)&&(i.version===null||S.number(i.version))}e.is=r})(Fn||(Fn={}));var Xo;(function(e){function t(n,i,s,o){return{uri:n,languageId:i,version:s,text:o}}e.create=t;function r(n){var i=n;return S.defined(i)&&S.string(i.uri)&&S.string(i.languageId)&&S.number(i.version)&&S.string(i.text)}e.is=r})(Xo||(Xo={}));var Xr;(function(e){e.PlainText="plaintext",e.Markdown="markdown"})(Xr||(Xr={}));(function(e){function t(r){var n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(Xr||(Xr={}));var Bi;(function(e){function t(r){var n=r;return S.objectLiteral(r)&&Xr.is(n.kind)&&S.string(n.value)}e.is=t})(Bi||(Bi={}));var Yo;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Yo||(Yo={}));var Qo;(function(e){e.PlainText=1,e.Snippet=2})(Qo||(Qo={}));var Ko;(function(e){e.Deprecated=1})(Ko||(Ko={}));var Jo;(function(e){function t(r){return{label:r}}e.create=t})(Jo||(Jo={}));var Zo;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(Zo||(Zo={}));var Wn;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){var i=n;return S.string(i)||S.objectLiteral(i)&&S.string(i.language)&&S.string(i.value)}e.is=r})(Wn||(Wn={}));var ea;(function(e){function t(r){var n=r;return!!n&&S.objectLiteral(n)&&(Bi.is(n.contents)||Wn.is(n.contents)||S.typedArray(n.contents,Wn.is))&&(r.range===void 0||Xe.is(r.range))}e.is=t})(ea||(ea={}));var ta;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(ta||(ta={}));var ra;(function(e){function t(r,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o={label:r};return S.defined(n)&&(o.documentation=n),S.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(ra||(ra={}));var na;(function(e){e.Text=1,e.Read=2,e.Write=3})(na||(na={}));var ia;(function(e){function t(r,n){var i={range:r};return S.number(n)&&(i.kind=n),i}e.create=t})(ia||(ia={}));var sa;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(sa||(sa={}));var oa;(function(e){e.Deprecated=1})(oa||(oa={}));var aa;(function(e){function t(r,n,i,s,o){var a={name:r,kind:n,location:{uri:s,range:i}};return o&&(a.containerName=o),a}e.create=t})(aa||(aa={}));var ca;(function(e){function t(n,i,s,o,a,c){var u={name:n,detail:i,kind:s,range:o,selectionRange:a};return c!==void 0&&(u.children=c),u}e.create=t;function r(n){var i=n;return i&&S.string(i.name)&&S.number(i.kind)&&Xe.is(i.range)&&Xe.is(i.selectionRange)&&(i.detail===void 0||S.string(i.detail))&&(i.deprecated===void 0||S.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))}e.is=r})(ca||(ca={}));var la;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(la||(la={}));var ua;(function(e){function t(n,i){var s={diagnostics:n};return i!=null&&(s.only=i),s}e.create=t;function r(n){var i=n;return S.defined(i)&&S.typedArray(i.diagnostics,Mn.is)&&(i.only===void 0||S.typedArray(i.only,S.string))}e.is=r})(ua||(ua={}));var ha;(function(e){function t(n,i,s){var o={title:n};return zr.is(i)?o.command=i:o.edit=i,s!==void 0&&(o.kind=s),o}e.create=t;function r(n){var i=n;return i&&S.string(i.title)&&(i.diagnostics===void 0||S.typedArray(i.diagnostics,Mn.is))&&(i.kind===void 0||S.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||zr.is(i.command))&&(i.isPreferred===void 0||S.boolean(i.isPreferred))&&(i.edit===void 0||ji.is(i.edit))}e.is=r})(ha||(ha={}));var fa;(function(e){function t(n,i){var s={range:n};return S.defined(i)&&(s.data=i),s}e.create=t;function r(n){var i=n;return S.defined(i)&&Xe.is(i.range)&&(S.undefined(i.command)||zr.is(i.command))}e.is=r})(fa||(fa={}));var da;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}e.create=t;function r(n){var i=n;return S.defined(i)&&S.number(i.tabSize)&&S.boolean(i.insertSpaces)}e.is=r})(da||(da={}));var pa;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}e.create=t;function r(n){var i=n;return S.defined(i)&&Xe.is(i.range)&&(S.undefined(i.target)||S.string(i.target))}e.is=r})(pa||(pa={}));var ma;(function(e){function t(n,i){return{range:n,parent:i}}e.create=t;function r(n){var i=n;return i!==void 0&&Xe.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=r})(ma||(ma={}));var Rb=[`
`,`\r
`,"\r"],ga;(function(e){function t(s,o,a,c){return new bb(s,o,a,c)}e.create=t;function r(s){var o=s;return!!(S.defined(o)&&S.string(o.uri)&&(S.undefined(o.languageId)||S.string(o.languageId))&&S.number(o.lineCount)&&S.func(o.getText)&&S.func(o.positionAt)&&S.func(o.offsetAt))}e.is=r;function n(s,o){for(var a=s.getText(),c=i(o,function(N,U){var B=N.range.start.line-U.range.start.line;return B===0?N.range.start.character-U.range.start.character:B}),u=a.length,h=c.length-1;h>=0;h--){var d=c[h],g=s.offsetAt(d.range.start),C=s.offsetAt(d.range.end);if(C<=u)a=a.substring(0,g)+d.newText+a.substring(C,a.length);else throw new Error("Overlapping edit");u=g}return a}e.applyEdits=n;function i(s,o){if(s.length<=1)return s;var a=s.length/2|0,c=s.slice(0,a),u=s.slice(a);i(c,o),i(u,o);for(var h=0,d=0,g=0;h<c.length&&d<u.length;){var C=o(c[h],u[d]);C<=0?s[g++]=c[h++]:s[g++]=u[d++]}for(;h<c.length;)s[g++]=c[h++];for(;d<u.length;)s[g++]=u[d++];return s}})(ga||(ga={}));var bb=function(){function e(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(t){if(t){var r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content},e.prototype.update=function(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],r=this._content,n=!0,i=0;i<r.length;i++){n&&(t.push(i),n=!1);var s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return _t.create(0,t);for(;n<i;){var s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}var o=n-1;return _t.create(o,t-r[o])},e.prototype.offsetAt=function(t){var r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;var n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}(),S;(function(e){var t=Object.prototype.toString;function r(h){return typeof h!="undefined"}e.defined=r;function n(h){return typeof h=="undefined"}e.undefined=n;function i(h){return h===!0||h===!1}e.boolean=i;function s(h){return t.call(h)==="[object String]"}e.string=s;function o(h){return t.call(h)==="[object Number]"}e.number=o;function a(h){return t.call(h)==="[object Function]"}e.func=a;function c(h){return h!==null&&typeof h=="object"}e.objectLiteral=c;function u(h,d){return Array.isArray(h)&&h.every(d)}e.typedArray=u})(S||(S={}))});var af=v(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});function _b(e){return e===!0||e===!1}wt.boolean=_b;function sf(e){return typeof e=="string"||e instanceof String}wt.string=sf;function wb(e){return typeof e=="number"||e instanceof Number}wt.number=wb;function Sb(e){return e instanceof Error}wt.error=Sb;function Cb(e){return typeof e=="function"}wt.func=Cb;function of(e){return Array.isArray(e)}wt.array=of;function Nb(e){return of(e)&&e.every(t=>sf(t))}wt.stringArray=Nb;function Ib(e,t){return Array.isArray(e)&&e.every(t)}wt.typedArray=Ib;function Ob(e){return e!==null&&typeof e=="object"}wt.objectLiteral=Ob});var at=v(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});const Wi=bt();class Ab extends Wi.RequestType0{constructor(e){super(e)}}Yr.ProtocolRequestType0=Ab;class Lb extends Wi.RequestType{constructor(e){super(e)}}Yr.ProtocolRequestType=Lb;class Pb extends Wi.NotificationType{constructor(e){super(e)}}Yr.ProtocolNotificationType=Pb;class xb extends Wi.NotificationType0{constructor(e){super(e)}}Yr.ProtocolNotificationType0=xb});var cf=v(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});const Db=bt(),kb=at();var Mb;(function(e){e.method="textDocument/implementation",e.type=new kb.ProtocolRequestType(e.method),e.resultType=new Db.ProgressType()})(Mb=Hi.ImplementationRequest||(Hi.ImplementationRequest={}))});var lf=v(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});const qb=bt(),Fb=at();var jb;(function(e){e.method="textDocument/typeDefinition",e.type=new Fb.ProtocolRequestType(e.method),e.resultType=new qb.ProgressType()})(jb=Gi.TypeDefinitionRequest||(Gi.TypeDefinitionRequest={}))});var hf=v(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});const uf=at();var Ub;(function(e){e.type=new uf.ProtocolRequestType0("workspace/workspaceFolders")})(Ub=Qr.WorkspaceFoldersRequest||(Qr.WorkspaceFoldersRequest={}));var Bb;(function(e){e.type=new uf.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(Bb=Qr.DidChangeWorkspaceFoldersNotification||(Qr.DidChangeWorkspaceFoldersNotification={}))});var ff=v($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});const Wb=at();var Hb;(function(e){e.type=new Wb.ProtocolRequestType("workspace/configuration")})(Hb=$i.ConfigurationRequest||($i.ConfigurationRequest={}))});var pf=v(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});const Gb=bt(),df=at();var $b;(function(e){e.method="textDocument/documentColor",e.type=new df.ProtocolRequestType(e.method),e.resultType=new Gb.ProgressType()})($b=Kr.DocumentColorRequest||(Kr.DocumentColorRequest={}));var Vb;(function(e){e.type=new df.ProtocolRequestType("textDocument/colorPresentation")})(Vb=Kr.ColorPresentationRequest||(Kr.ColorPresentationRequest={}))});var mf=v(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});const zb=bt(),Xb=at();var Yb;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Yb=Jr.FoldingRangeKind||(Jr.FoldingRangeKind={}));var Qb;(function(e){e.method="textDocument/foldingRange",e.type=new Xb.ProtocolRequestType(e.method),e.resultType=new zb.ProgressType()})(Qb=Jr.FoldingRangeRequest||(Jr.FoldingRangeRequest={}))});var gf=v(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});const Kb=bt(),Jb=at();var Zb;(function(e){e.method="textDocument/declaration",e.type=new Jb.ProtocolRequestType(e.method),e.resultType=new Kb.ProgressType()})(Zb=Vi.DeclarationRequest||(Vi.DeclarationRequest={}))});var Ef=v(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});const e0=bt(),t0=at();var r0;(function(e){e.method="textDocument/selectionRange",e.type=new t0.ProtocolRequestType(e.method),e.resultType=new e0.ProgressType()})(r0=zi.SelectionRangeRequest||(zi.SelectionRangeRequest={}))});var yf=v(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});const n0=bt(),vf=at();var i0;(function(e){e.type=new n0.ProgressType()})(i0=rr.WorkDoneProgress||(rr.WorkDoneProgress={}));var s0;(function(e){e.type=new vf.ProtocolRequestType("window/workDoneProgress/create")})(s0=rr.WorkDoneProgressCreateRequest||(rr.WorkDoneProgressCreateRequest={}));var o0;(function(e){e.type=new vf.ProtocolNotificationType("window/workDoneProgress/cancel")})(o0=rr.WorkDoneProgressCancelNotification||(rr.WorkDoneProgressCancelNotification={}))});var wf=v(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});const nr=af(),Ft=bt(),re=at(),a0=cf();w.ImplementationRequest=a0.ImplementationRequest;const c0=lf();w.TypeDefinitionRequest=c0.TypeDefinitionRequest;const Tf=hf();w.WorkspaceFoldersRequest=Tf.WorkspaceFoldersRequest;w.DidChangeWorkspaceFoldersNotification=Tf.DidChangeWorkspaceFoldersNotification;const l0=ff();w.ConfigurationRequest=l0.ConfigurationRequest;const Rf=pf();w.DocumentColorRequest=Rf.DocumentColorRequest;w.ColorPresentationRequest=Rf.ColorPresentationRequest;const u0=mf();w.FoldingRangeRequest=u0.FoldingRangeRequest;const h0=gf();w.DeclarationRequest=h0.DeclarationRequest;const f0=Ef();w.SelectionRangeRequest=f0.SelectionRangeRequest;const Ea=yf();w.WorkDoneProgress=Ea.WorkDoneProgress;w.WorkDoneProgressCreateRequest=Ea.WorkDoneProgressCreateRequest;w.WorkDoneProgressCancelNotification=Ea.WorkDoneProgressCancelNotification;var bf;(function(e){function t(r){const n=r;return nr.string(n.language)||nr.string(n.scheme)||nr.string(n.pattern)}e.is=t})(bf=w.DocumentFilter||(w.DocumentFilter={}));var _f;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!nr.string(n)&&!bf.is(n))return!1;return!0}e.is=t})(_f=w.DocumentSelector||(w.DocumentSelector={}));var d0;(function(e){e.type=new re.ProtocolRequestType("client/registerCapability")})(d0=w.RegistrationRequest||(w.RegistrationRequest={}));var p0;(function(e){e.type=new re.ProtocolRequestType("client/unregisterCapability")})(p0=w.UnregistrationRequest||(w.UnregistrationRequest={}));var m0;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(m0=w.ResourceOperationKind||(w.ResourceOperationKind={}));var g0;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(g0=w.FailureHandlingKind||(w.FailureHandlingKind={}));var E0;(function(e){function t(r){const n=r;return n&&nr.string(n.id)&&n.id.length>0}e.hasId=t})(E0=w.StaticRegistrationOptions||(w.StaticRegistrationOptions={}));var v0;(function(e){function t(r){const n=r;return n&&(n.documentSelector===null||_f.is(n.documentSelector))}e.is=t})(v0=w.TextDocumentRegistrationOptions||(w.TextDocumentRegistrationOptions={}));var y0;(function(e){function t(n){const i=n;return nr.objectLiteral(i)&&(i.workDoneProgress===void 0||nr.boolean(i.workDoneProgress))}e.is=t;function r(n){const i=n;return i&&nr.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(y0=w.WorkDoneProgressOptions||(w.WorkDoneProgressOptions={}));var T0;(function(e){e.type=new re.ProtocolRequestType("initialize")})(T0=w.InitializeRequest||(w.InitializeRequest={}));var R0;(function(e){e.unknownProtocolVersion=1})(R0=w.InitializeError||(w.InitializeError={}));var b0;(function(e){e.type=new re.ProtocolNotificationType("initialized")})(b0=w.InitializedNotification||(w.InitializedNotification={}));var _0;(function(e){e.type=new re.ProtocolRequestType0("shutdown")})(_0=w.ShutdownRequest||(w.ShutdownRequest={}));var w0;(function(e){e.type=new re.ProtocolNotificationType0("exit")})(w0=w.ExitNotification||(w.ExitNotification={}));var S0;(function(e){e.type=new re.ProtocolNotificationType("workspace/didChangeConfiguration")})(S0=w.DidChangeConfigurationNotification||(w.DidChangeConfigurationNotification={}));var C0;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(C0=w.MessageType||(w.MessageType={}));var N0;(function(e){e.type=new re.ProtocolNotificationType("window/showMessage")})(N0=w.ShowMessageNotification||(w.ShowMessageNotification={}));var I0;(function(e){e.type=new re.ProtocolRequestType("window/showMessageRequest")})(I0=w.ShowMessageRequest||(w.ShowMessageRequest={}));var O0;(function(e){e.type=new re.ProtocolNotificationType("window/logMessage")})(O0=w.LogMessageNotification||(w.LogMessageNotification={}));var A0;(function(e){e.type=new re.ProtocolNotificationType("telemetry/event")})(A0=w.TelemetryEventNotification||(w.TelemetryEventNotification={}));var L0;(function(e){e.None=0,e.Full=1,e.Incremental=2})(L0=w.TextDocumentSyncKind||(w.TextDocumentSyncKind={}));var P0;(function(e){e.method="textDocument/didOpen",e.type=new re.ProtocolNotificationType(e.method)})(P0=w.DidOpenTextDocumentNotification||(w.DidOpenTextDocumentNotification={}));var x0;(function(e){e.method="textDocument/didChange",e.type=new re.ProtocolNotificationType(e.method)})(x0=w.DidChangeTextDocumentNotification||(w.DidChangeTextDocumentNotification={}));var D0;(function(e){e.method="textDocument/didClose",e.type=new re.ProtocolNotificationType(e.method)})(D0=w.DidCloseTextDocumentNotification||(w.DidCloseTextDocumentNotification={}));var k0;(function(e){e.method="textDocument/didSave",e.type=new re.ProtocolNotificationType(e.method)})(k0=w.DidSaveTextDocumentNotification||(w.DidSaveTextDocumentNotification={}));var M0;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(M0=w.TextDocumentSaveReason||(w.TextDocumentSaveReason={}));var q0;(function(e){e.method="textDocument/willSave",e.type=new re.ProtocolNotificationType(e.method)})(q0=w.WillSaveTextDocumentNotification||(w.WillSaveTextDocumentNotification={}));var F0;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new re.ProtocolRequestType(e.method)})(F0=w.WillSaveTextDocumentWaitUntilRequest||(w.WillSaveTextDocumentWaitUntilRequest={}));var j0;(function(e){e.type=new re.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(j0=w.DidChangeWatchedFilesNotification||(w.DidChangeWatchedFilesNotification={}));var U0;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(U0=w.FileChangeType||(w.FileChangeType={}));var B0;(function(e){e.Create=1,e.Change=2,e.Delete=4})(B0=w.WatchKind||(w.WatchKind={}));var W0;(function(e){e.type=new re.ProtocolNotificationType("textDocument/publishDiagnostics")})(W0=w.PublishDiagnosticsNotification||(w.PublishDiagnosticsNotification={}));var H0;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(H0=w.CompletionTriggerKind||(w.CompletionTriggerKind={}));var G0;(function(e){e.method="textDocument/completion",e.type=new re.ProtocolRequestType(e.method),e.resultType=new Ft.ProgressType()})(G0=w.CompletionRequest||(w.CompletionRequest={}));var $0;(function(e){e.method="completionItem/resolve",e.type=new re.ProtocolRequestType(e.method)})($0=w.CompletionResolveRequest||(w.CompletionResolveRequest={}));var V0;(function(e){e.method="textDocument/hover",e.type=new re.ProtocolRequestType(e.method)})(V0=w.HoverRequest||(w.HoverRequest={}));var z0;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(z0=w.SignatureHelpTriggerKind||(w.SignatureHelpTriggerKind={}));var X0;(function(e){e.method="textDocument/signatureHelp",e.type=new re.ProtocolRequestType(e.method)})(X0=w.SignatureHelpRequest||(w.SignatureHelpRequest={}));var Y0;(function(e){e.method="textDocument/definition",e.type=new re.ProtocolRequestType(e.method),e.resultType=new Ft.ProgressType()})(Y0=w.DefinitionRequest||(w.DefinitionRequest={}));var Q0;(function(e){e.method="textDocument/references",e.type=new re.ProtocolRequestType(e.method),e.resultType=new Ft.ProgressType()})(Q0=w.ReferencesRequest||(w.ReferencesRequest={}));var K0;(function(e){e.method="textDocument/documentHighlight",e.type=new re.ProtocolRequestType(e.method),e.resultType=new Ft.ProgressType()})(K0=w.DocumentHighlightRequest||(w.DocumentHighlightRequest={}));var J0;(function(e){e.method="textDocument/documentSymbol",e.type=new re.ProtocolRequestType(e.method),e.resultType=new Ft.ProgressType()})(J0=w.DocumentSymbolRequest||(w.DocumentSymbolRequest={}));var Z0;(function(e){e.method="textDocument/codeAction",e.type=new re.ProtocolRequestType(e.method),e.resultType=new Ft.ProgressType()})(Z0=w.CodeActionRequest||(w.CodeActionRequest={}));var e_;(function(e){e.method="workspace/symbol",e.type=new re.ProtocolRequestType(e.method),e.resultType=new Ft.ProgressType()})(e_=w.WorkspaceSymbolRequest||(w.WorkspaceSymbolRequest={}));var t_;(function(e){e.type=new re.ProtocolRequestType("textDocument/codeLens"),e.resultType=new Ft.ProgressType()})(t_=w.CodeLensRequest||(w.CodeLensRequest={}));var r_;(function(e){e.type=new re.ProtocolRequestType("codeLens/resolve")})(r_=w.CodeLensResolveRequest||(w.CodeLensResolveRequest={}));var n_;(function(e){e.method="textDocument/documentLink",e.type=new re.ProtocolRequestType(e.method),e.resultType=new Ft.ProgressType()})(n_=w.DocumentLinkRequest||(w.DocumentLinkRequest={}));var i_;(function(e){e.type=new re.ProtocolRequestType("documentLink/resolve")})(i_=w.DocumentLinkResolveRequest||(w.DocumentLinkResolveRequest={}));var s_;(function(e){e.method="textDocument/formatting",e.type=new re.ProtocolRequestType(e.method)})(s_=w.DocumentFormattingRequest||(w.DocumentFormattingRequest={}));var o_;(function(e){e.method="textDocument/rangeFormatting",e.type=new re.ProtocolRequestType(e.method)})(o_=w.DocumentRangeFormattingRequest||(w.DocumentRangeFormattingRequest={}));var a_;(function(e){e.method="textDocument/onTypeFormatting",e.type=new re.ProtocolRequestType(e.method)})(a_=w.DocumentOnTypeFormattingRequest||(w.DocumentOnTypeFormattingRequest={}));var c_;(function(e){e.method="textDocument/rename",e.type=new re.ProtocolRequestType(e.method)})(c_=w.RenameRequest||(w.RenameRequest={}));var l_;(function(e){e.method="textDocument/prepareRename",e.type=new re.ProtocolRequestType(e.method)})(l_=w.PrepareRenameRequest||(w.PrepareRenameRequest={}));var u_;(function(e){e.type=new re.ProtocolRequestType("workspace/executeCommand")})(u_=w.ExecuteCommandRequest||(w.ExecuteCommandRequest={}));var h_;(function(e){e.type=new re.ProtocolRequestType("workspace/applyEdit")})(h_=w.ApplyWorkspaceEditRequest||(w.ApplyWorkspaceEditRequest={}))});var Sf=v(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});const va=at();var f_;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new va.ProtocolRequestType(e.method)})(f_=ir.CallHierarchyPrepareRequest||(ir.CallHierarchyPrepareRequest={}));var d_;(function(e){e.method="callHierarchy/incomingCalls",e.type=new va.ProtocolRequestType(e.method)})(d_=ir.CallHierarchyIncomingCallsRequest||(ir.CallHierarchyIncomingCallsRequest={}));var p_;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new va.ProtocolRequestType(e.method)})(p_=ir.CallHierarchyOutgoingCallsRequest||(ir.CallHierarchyOutgoingCallsRequest={}))});var Cf=v(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});const ya=at();var m_;(function(e){e.comment="comment",e.keyword="keyword",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.namespace="namespace",e.type="type",e.struct="struct",e.class="class",e.interface="interface",e.enum="enum",e.typeParameter="typeParameter",e.function="function",e.member="member",e.property="property",e.macro="macro",e.variable="variable",e.parameter="parameter",e.label="label"})(m_=tt.SemanticTokenTypes||(tt.SemanticTokenTypes={}));var g_;(function(e){e.documentation="documentation",e.declaration="declaration",e.definition="definition",e.reference="reference",e.static="static",e.abstract="abstract",e.deprecated="deprecated",e.async="async",e.volatile="volatile",e.readonly="readonly"})(g_=tt.SemanticTokenModifiers||(tt.SemanticTokenModifiers={}));var E_;(function(e){function t(r){const n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(E_=tt.SemanticTokens||(tt.SemanticTokens={}));var v_;(function(e){e.method="textDocument/semanticTokens",e.type=new ya.ProtocolRequestType(e.method)})(v_=tt.SemanticTokensRequest||(tt.SemanticTokensRequest={}));var y_;(function(e){e.method="textDocument/semanticTokens/edits",e.type=new ya.ProtocolRequestType(e.method)})(y_=tt.SemanticTokensEditsRequest||(tt.SemanticTokensEditsRequest={}));var T_;(function(e){e.method="textDocument/semanticTokens/range",e.type=new ya.ProtocolRequestType(e.method)})(T_=tt.SemanticTokensRangeRequest||(tt.SemanticTokensRangeRequest={}))});var sr=v(ce=>{"use strict";function Nf(e){for(var t in e)ce.hasOwnProperty(t)||(ce[t]=e[t])}Object.defineProperty(ce,"__esModule",{value:!0});const pe=bt();ce.ErrorCodes=pe.ErrorCodes;ce.ResponseError=pe.ResponseError;ce.CancellationToken=pe.CancellationToken;ce.CancellationTokenSource=pe.CancellationTokenSource;ce.Disposable=pe.Disposable;ce.Event=pe.Event;ce.Emitter=pe.Emitter;ce.Trace=pe.Trace;ce.TraceFormat=pe.TraceFormat;ce.SetTraceNotification=pe.SetTraceNotification;ce.LogTraceNotification=pe.LogTraceNotification;ce.RequestType=pe.RequestType;ce.RequestType0=pe.RequestType0;ce.NotificationType=pe.NotificationType;ce.NotificationType0=pe.NotificationType0;ce.MessageReader=pe.MessageReader;ce.MessageWriter=pe.MessageWriter;ce.ConnectionStrategy=pe.ConnectionStrategy;ce.StreamMessageReader=pe.StreamMessageReader;ce.StreamMessageWriter=pe.StreamMessageWriter;ce.IPCMessageReader=pe.IPCMessageReader;ce.IPCMessageWriter=pe.IPCMessageWriter;ce.createClientPipeTransport=pe.createClientPipeTransport;ce.createServerPipeTransport=pe.createServerPipeTransport;ce.generateRandomPipeName=pe.generateRandomPipeName;ce.createClientSocketTransport=pe.createClientSocketTransport;ce.createServerSocketTransport=pe.createServerSocketTransport;ce.ProgressType=pe.ProgressType;Nf(nf());Nf(wf());const Zr=Sf(),jt=Cf();var R_;(function(e){let t;(function(a){a.method=Zr.CallHierarchyPrepareRequest.method,a.type=Zr.CallHierarchyPrepareRequest.type})(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={}));let r;(function(a){a.method=Zr.CallHierarchyIncomingCallsRequest.method,a.type=Zr.CallHierarchyIncomingCallsRequest.type})(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={}));let n;(function(a){a.method=Zr.CallHierarchyOutgoingCallsRequest.method,a.type=Zr.CallHierarchyOutgoingCallsRequest.type})(n=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),e.SemanticTokenTypes=jt.SemanticTokenTypes,e.SemanticTokenModifiers=jt.SemanticTokenModifiers,e.SemanticTokens=jt.SemanticTokens;let i;(function(a){a.method=jt.SemanticTokensRequest.method,a.type=jt.SemanticTokensRequest.type})(i=e.SemanticTokensRequest||(e.SemanticTokensRequest={}));let s;(function(a){a.method=jt.SemanticTokensEditsRequest.method,a.type=jt.SemanticTokensEditsRequest.type})(s=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={}));let o;(function(a){a.method=jt.SemanticTokensRangeRequest.method,a.type=jt.SemanticTokensRangeRequest.type})(o=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))})(R_=ce.Proposed||(ce.Proposed={}));function b_(e,t,r,n){return pe.createMessageConnection(e,t,r,n)}ce.createProtocolConnection=b_});var Ta=v(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});function __(e){return e===!0||e===!1}St.boolean=__;function If(e){return typeof e=="string"||e instanceof String}St.string=If;function w_(e){return typeof e=="number"||e instanceof Number}St.number=w_;function S_(e){return e instanceof Error}St.error=S_;function Of(e){return typeof e=="function"}St.func=Of;function Af(e){return Array.isArray(e)}St.array=Af;function C_(e){return Af(e)&&e.every(t=>If(t))}St.stringArray=C_;function N_(e,t){return Array.isArray(e)&&e.every(t)}St.typedArray=N_;function I_(e){return e&&Of(e.then)}St.thenable=I_});var Lf=v(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});const O_=sr(),A_=Ta();Ra.ConfigurationFeature=e=>class extends e{getConfiguration(t){return t?A_.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(O_.ConfigurationRequest.type,r).then(n=>Array.isArray(t)?n:n[0])}}});var Pf=v(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});const Xi=sr();ba.WorkspaceFoldersFeature=e=>class extends e{initialize(t){let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Xi.Emitter(),this.connection.onNotification(Xi.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Xi.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Xi.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}});var wa=v(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});class _a{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class oe extends _a{constructor(){super([oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),"-",oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),"-","4",oe._randomHex(),oe._randomHex(),oe._randomHex(),"-",oe._oneOf(oe._timeHighBits),oe._randomHex(),oe._randomHex(),oe._randomHex(),"-",oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return oe._oneOf(oe._chars)}}oe._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];oe._timeHighBits=["8","9","a","b"];vr.empty=new _a("00000000-0000-0000-0000-000000000000");function xf(){return new oe()}vr.v4=xf;const L_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Df(e){return L_.test(e)}vr.isUUID=Df;function P_(e){if(!Df(e))throw new Error("invalid uuid");return new _a(e)}vr.parse=P_;function x_(){return xf().asHex()}vr.generateUuid=x_});var kf=v(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});const or=sr(),D_=wa();class yr{constructor(e,t){this._connection=e,this._token=t,yr.Instances.set(this._token,this),this._source=new or.CancellationTokenSource()}get token(){return this._source.token}begin(e,t,r,n){let i={kind:"begin",title:e,percentage:t,message:r,cancellable:n};this._connection.sendProgress(or.WorkDoneProgress.type,this._token,i)}report(e,t){let r={kind:"report"};typeof e=="number"?(r.percentage=e,t!==void 0&&(r.message=t)):r.message=e,this._connection.sendProgress(or.WorkDoneProgress.type,this._token,r)}done(){yr.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(or.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}}yr.Instances=new Map();class Sa{constructor(){this._source=new or.CancellationTokenSource()}get token(){return this._source.token}begin(){}report(){}done(){}}function k_(e,t){if(t===void 0||t.workDoneToken===void 0)return new Sa();const r=t.workDoneToken;return delete t.workDoneToken,new yr(e,r)}Hn.attachWorkDone=k_;Hn.ProgressFeature=e=>class extends e{initialize(t){var r;((r=t==null?void 0:t.window)===null||r===void 0?void 0:r.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(or.WorkDoneProgressCancelNotification.type,n=>{let i=yr.Instances.get(n.token);i!==void 0&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Sa():new yr(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){const t=D_.generateUuid();return this.connection.sendRequest(or.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>{const r=new yr(this.connection,t);return r})}else return Promise.resolve(new Sa())}};var Ca;(function(e){e.type=new or.ProgressType()})(Ca||(Ca={}));class M_{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(Ca.type,this._token,e)}}function q_(e,t){if(t===void 0||t.partialResultToken===void 0)return;const r=t.partialResultToken;return delete t.partialResultToken,new M_(e,r)}Hn.attachPartialResult=q_});var qf=v(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});const F_=require("url"),Ct=require("path"),Na=require("fs"),Ia=require("child_process");function j_(e){let t=F_.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],o=r[1];s.length===0&&o.length>1&&o[1]===":"&&r.shift()}return Ct.normalize(r.join("/"))}Ut.uriToFilePath=j_;function Oa(){return process.platform==="win32"}function Yi(e,t,r,n){const i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(h=>u[h]=c[h]),t&&Na.existsSync(t)&&(u[i]?u[i]=t+Ct.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let h=Ia.fork("",[],{cwd:r,env:u,execArgv:["-e",s]});if(h.pid===void 0){a(new Error(`Starting process to resolve node module  ${e} failed`));return}h.on("error",g=>{a(g)}),h.on("message",g=>{g.c==="r"&&(h.send({c:"e"}),g.s?o(g.r):a(new Error(`Failed to resolve module: ${e}`)))});let d={c:"rs",a:e};h.send(d)}catch(h){a(h)}})}Ut.resolve=Yi;function Aa(e){let t="npm";const r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";const n={encoding:"utf8",env:r};Oa()&&(t="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=Ia.spawnSync(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let o=s.trim();return e&&e(`'npm config get prefix' value is: ${o}`),o.length>0?Oa()?Ct.join(o,"node_modules"):Ct.join(o,"lib","node_modules"):void 0}catch(s){return}finally{process.removeListener("SIGPIPE",i)}}Ut.resolveGlobalNodePath=Aa;function U_(e){let t="yarn",r={encoding:"utf8"};Oa()&&(t="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=Ia.spawnSync(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let c=JSON.parse(a);if(c.type==="log")return Ct.join(c.data,"node_modules")}catch(c){}return}catch(i){return}finally{process.removeListener("SIGPIPE",n)}}Ut.resolveGlobalYarnPath=U_;var Mf;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!Na.existsSync(__filename.toUpperCase())||!Na.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=r;function n(i,s){return r()?Ct.normalize(s).indexOf(Ct.normalize(i))===0:Ct.normalize(s).toLowerCase().indexOf(Ct.normalize(i).toLowerCase())===0}e.isParent=n})(Mf=Ut.FileSystem||(Ut.FileSystem={}));function B_(e,t,r,n){return r?(Ct.isAbsolute(r)||(r=Ct.join(e,r)),Yi(t,r,r,n).then(i=>Mf.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>Yi(t,Aa(n),e,n))):Yi(t,Aa(n),e,n)}Ut.resolveModulePath=B_});var Ff=v(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});const Pa=sr();La.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(Pa.Proposed.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))},onIncomingCalls:t=>{const r=Pa.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{const r=Pa.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}}});var jf=v(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});const xa=sr();Qi.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:t=>{const r=xa.Proposed.SemanticTokensRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onEdits:t=>{const r=xa.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{const r=xa.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};class W_{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,r,n,i){let s=e,o=t;this._dataLen>0&&(s-=this._prevLine,s===0&&(o-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){const e=this._prevData.length,t=this._data.length;let r=0;for(;r<t&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<t&&r<e){let n=0;for(;n<t&&n<e&&this._prevData[e-1-n]===this._data[t-1-n];)n++;const i=this._data.slice(r,t-n),s={resultId:this.id,edits:[{start:r,deleteCount:e-n-r,data:i}]};return s}else return r<t?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}}Qi.SemanticTokensBuilder=W_});var rd=v(ye=>{"use strict";function H_(e){for(var t in e)ye.hasOwnProperty(t)||(ye[t]=e[t])}Object.defineProperty(ye,"__esModule",{value:!0});const P=sr();ye.Event=P.Event;const G_=Lf(),$_=Pf(),ee=kf(),Ke=Ta(),Da=wa();H_(sr());const Gn=qf();var V_;(function(e){e.uriToFilePath=Gn.uriToFilePath,e.resolveGlobalNodePath=Gn.resolveGlobalNodePath,e.resolveGlobalYarnPath=Gn.resolveGlobalYarnPath,e.resolve=Gn.resolve,e.resolveModulePath=Gn.resolveModulePath})(V_=ye.Files||(ye.Files={}));let en=!1,Uf;function z_(){const e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(Uf=setInterval(()=>{try{process.kill(n,0)}catch(i){process.exit(en?0:1)}},3e3))}catch(n){}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}z_();function ka(e){return e===null?void 0:e}class X_{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new P.Emitter(),this._onDidOpen=new P.Emitter(),this._onDidClose=new P.Emitter(),this._onDidSave=new P.Emitter(),this._onWillSave=new P.Emitter()}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=P.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(t=>{let r=t.textDocument,n=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=n;let i=Object.freeze({document:n});this._onDidOpen.fire(i),this._onDidChangeContent.fire(i)}),e.onDidChangeTextDocument(t=>{let r=t.textDocument,n=t.contentChanges;if(n.length===0)return;let i=this._documents[r.uri];const{version:s}=r;if(s==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);i=this._configuration.update(i,n,s),this._documents[r.uri]=i,this._onDidChangeContent.fire(Object.freeze({document:i}))}),e.onDidCloseTextDocument(t=>{let r=this._documents[t.textDocument.uri];r&&(delete this._documents[t.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(t=>{let r=this._documents[t.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:t.reason}))}),e.onWillSaveTextDocumentWaitUntil((t,r)=>{let n=this._documents[t.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:t.reason}),r):[]}),e.onDidSaveTextDocument(t=>{let r=this._documents[t.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}}ye.TextDocuments=X_;class Y_{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach(t=>{e.window.showErrorMessage(t)})}}ye.ErrorMessageTracker=Y_;class Bf{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(P.MessageType.Error,e)}warn(e){this.send(P.MessageType.Warning,e)}info(e){this.send(P.MessageType.Info,e)}log(e){this.send(P.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(P.LogMessageNotification.type,{type:e,message:t})}}class Q_{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let r={type:P.MessageType.Error,message:e,actions:t};return this._connection.sendRequest(P.ShowMessageRequest.type,r).then(ka)}showWarningMessage(e,...t){let r={type:P.MessageType.Warning,message:e,actions:t};return this._connection.sendRequest(P.ShowMessageRequest.type,r).then(ka)}showInformationMessage(e,...t){let r={type:P.MessageType.Info,message:e,actions:t};return this._connection.sendRequest(P.ShowMessageRequest.type,r).then(ka)}}const Wf=ee.ProgressFeature(Q_);var K_;(function(e){function t(){return new Hf()}e.create=t})(K_=ye.BulkRegistration||(ye.BulkRegistration={}));class Hf{constructor(){this._registrations=[],this._registered=new Set()}add(e,t){const r=Ke.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);const n=Da.generateUuid();this._registrations.push({id:n,method:r,registerOptions:t||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}var J_;(function(e){function t(){return new Ma(void 0,[])}e.create=t})(J_=ye.BulkUnregistration||(ye.BulkUnregistration={}));class Ma{constructor(e,t){this._connection=e,this._unregistrations=new Map(),t.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let t={unregisterations:e};this._connection.sendRequest(P.UnregistrationRequest.type,t).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const t=Ke.string(e)?e:e.method,r=this._unregistrations.get(t);if(!r)return!1;let n={unregisterations:[r]};return this._connection.sendRequest(P.UnregistrationRequest.type,n).then(()=>{this._unregistrations.delete(t)},i=>{this._connection.console.info(`Unregistering request handler for ${r.id} failed.`)}),!0}}class Gf{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,r){return e instanceof Hf?this.registerMany(e):e instanceof Ma?this.registerSingle1(e,t,r):this.registerSingle2(e,t)}registerSingle1(e,t,r){const n=Ke.string(t)?t:t.method,i=Da.generateUuid();let s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return e.isAttached||e.attach(this._connection),this._connection.sendRequest(P.RegistrationRequest.type,s).then(o=>(e.add({id:i,method:n}),e),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}registerSingle2(e,t){const r=Ke.string(e)?e:e.method,n=Da.generateUuid();let i={registrations:[{id:n,method:r,registerOptions:t||{}}]};return this._connection.sendRequest(P.RegistrationRequest.type,i).then(s=>P.Disposable.create(()=>{this.unregisterSingle(n,r)}),s=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(s)))}unregisterSingle(e,t){let r={unregisterations:[{id:e,method:t}]};return this._connection.sendRequest(P.UnregistrationRequest.type,r).then(void 0,n=>{this.connection.console.info(`Unregistering request handler for ${e} failed.`)})}registerMany(e){let t=e.asRegistrationParams();return this._connection.sendRequest(P.RegistrationRequest.type,t).then(()=>new Ma(this._connection,t.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}}class Z_{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function t(n){return n&&!!n.edit}let r=t(e)?e:{edit:e};return this._connection.sendRequest(P.ApplyWorkspaceEditRequest.type,r)}}const $f=$_.WorkspaceFoldersFeature(G_.ConfigurationFeature(Z_));class Vf{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this._connection.sendNotification(P.TelemetryEventNotification.type,e)}}class zf{constructor(){this._trace=P.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){if(this._trace===P.Trace.Off)return;this._connection.sendNotification(P.LogTraceNotification.type,{message:e,verbose:this._trace===P.Trace.Verbose?t:void 0})}}class qa{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return ee.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return ee.attachPartialResult(this.connection,t)}}ye.LanguagesImpl=qa;function Xf(e,t){return function(r){return t(e(r))}}ye.combineConsoleFeatures=Xf;function Yf(e,t){return function(r){return t(e(r))}}ye.combineTelemetryFeatures=Yf;function Qf(e,t){return function(r){return t(e(r))}}ye.combineTracerFeatures=Qf;function Kf(e,t){return function(r){return t(e(r))}}ye.combineClientFeatures=Kf;function Jf(e,t){return function(r){return t(e(r))}}ye.combineWindowFeatures=Jf;function Zf(e,t){return function(r){return t(e(r))}}ye.combineWorkspaceFeatures=Zf;function ed(e,t){return function(r){return t(e(r))}}ye.combineLanguagesFeatures=ed;function ew(e,t){function r(i,s,o){return i&&s?o(i,s):i||s}let n={__brand:"features",console:r(e.console,t.console,Xf),tracer:r(e.tracer,t.tracer,Qf),telemetry:r(e.telemetry,t.telemetry,Yf),client:r(e.client,t.client,Kf),window:r(e.window,t.window,Jf),workspace:r(e.workspace,t.workspace,Zf)};return n}ye.combineFeatures=ew;function rw(e,t,r,n){let i,s,o,a;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),P.ConnectionStrategy.is(e)?a=e:(s=e,o=t,a=r),tw(s,o,a,i)}ye.createConnection=rw;function tw(e,t,r,n){if(!e&&!t&&process.argv.length>2){let T,m,_=process.argv.slice(2);for(let j=0;j<_.length;j++){let A=_[j];if(A==="--node-ipc"){e=new P.IPCMessageReader(process),t=new P.IPCMessageWriter(process);break}else if(A==="--stdio"){e=process.stdin,t=process.stdout;break}else if(A==="--socket"){T=parseInt(_[j+1]);break}else if(A==="--pipe"){m=_[j+1];break}else{var i=A.split("=");if(i[0]==="--socket"){T=parseInt(i[1]);break}else if(i[0]==="--pipe"){m=i[1];break}}}if(T){let j=P.createServerSocketTransport(T);e=j[0],t=j[1]}else if(m){let j=P.createServerPipeTransport(m);e=j[0],t=j[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(Ke.func(e.read)&&Ke.func(e.on)){let T=e;T.on("end",()=>{process.exit(en?0:1)}),T.on("close",()=>{process.exit(en?0:1)})}const o=n&&n.console?new(n.console(Bf))():new Bf(),a=P.createProtocolConnection(e,t,o,r);o.rawAttach(a);const c=n&&n.tracer?new(n.tracer(zf))():new zf(),u=n&&n.telemetry?new(n.telemetry(Vf))():new Vf(),h=n&&n.client?new(n.client(Gf))():new Gf(),d=n&&n.window?new(n.window(Wf))():new Wf(),g=n&&n.workspace?new(n.workspace($f))():new $f(),C=n&&n.languages?new(n.languages(qa))():new qa(),N=[o,c,u,h,d,g,C];function U(T){return T instanceof Promise?T:Ke.thenable(T)?new Promise((m,_)=>{T.then(j=>m(j),j=>_(j))}):Promise.resolve(T)}let B,D,J,k={listen:()=>a.listen(),sendRequest:(T,...m)=>a.sendRequest(Ke.string(T)?T:T.method,...m),onRequest:(T,m)=>a.onRequest(T,m),sendNotification:(T,m)=>{const _=Ke.string(T)?T:T.method;arguments.length===1?a.sendNotification(_):a.sendNotification(_,m)},onNotification:(T,m)=>a.onNotification(T,m),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:T=>D=T,onInitialized:T=>a.onNotification(P.InitializedNotification.type,T),onShutdown:T=>B=T,onExit:T=>J=T,get console(){return o},get telemetry(){return u},get tracer(){return c},get client(){return h},get window(){return d},get workspace(){return g},get languages(){return C},onDidChangeConfiguration:T=>a.onNotification(P.DidChangeConfigurationNotification.type,T),onDidChangeWatchedFiles:T=>a.onNotification(P.DidChangeWatchedFilesNotification.type,T),__textDocumentSync:void 0,onDidOpenTextDocument:T=>a.onNotification(P.DidOpenTextDocumentNotification.type,T),onDidChangeTextDocument:T=>a.onNotification(P.DidChangeTextDocumentNotification.type,T),onDidCloseTextDocument:T=>a.onNotification(P.DidCloseTextDocumentNotification.type,T),onWillSaveTextDocument:T=>a.onNotification(P.WillSaveTextDocumentNotification.type,T),onWillSaveTextDocumentWaitUntil:T=>a.onRequest(P.WillSaveTextDocumentWaitUntilRequest.type,T),onDidSaveTextDocument:T=>a.onNotification(P.DidSaveTextDocumentNotification.type,T),sendDiagnostics:T=>a.sendNotification(P.PublishDiagnosticsNotification.type,T),onHover:T=>a.onRequest(P.HoverRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),void 0)),onCompletion:T=>a.onRequest(P.CompletionRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onCompletionResolve:T=>a.onRequest(P.CompletionResolveRequest.type,T),onSignatureHelp:T=>a.onRequest(P.SignatureHelpRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),void 0)),onDeclaration:T=>a.onRequest(P.DeclarationRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onDefinition:T=>a.onRequest(P.DefinitionRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onTypeDefinition:T=>a.onRequest(P.TypeDefinitionRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onImplementation:T=>a.onRequest(P.ImplementationRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onReferences:T=>a.onRequest(P.ReferencesRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onDocumentHighlight:T=>a.onRequest(P.DocumentHighlightRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onDocumentSymbol:T=>a.onRequest(P.DocumentSymbolRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onWorkspaceSymbol:T=>a.onRequest(P.WorkspaceSymbolRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onCodeAction:T=>a.onRequest(P.CodeActionRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onCodeLens:T=>a.onRequest(P.CodeLensRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onCodeLensResolve:T=>a.onRequest(P.CodeLensResolveRequest.type,(m,_)=>T(m,_)),onDocumentFormatting:T=>a.onRequest(P.DocumentFormattingRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),void 0)),onDocumentRangeFormatting:T=>a.onRequest(P.DocumentRangeFormattingRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),void 0)),onDocumentOnTypeFormatting:T=>a.onRequest(P.DocumentOnTypeFormattingRequest.type,(m,_)=>T(m,_)),onRenameRequest:T=>a.onRequest(P.RenameRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),void 0)),onPrepareRename:T=>a.onRequest(P.PrepareRenameRequest.type,(m,_)=>T(m,_)),onDocumentLinks:T=>a.onRequest(P.DocumentLinkRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onDocumentLinkResolve:T=>a.onRequest(P.DocumentLinkResolveRequest.type,(m,_)=>T(m,_)),onDocumentColor:T=>a.onRequest(P.DocumentColorRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onColorPresentation:T=>a.onRequest(P.ColorPresentationRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onFoldingRanges:T=>a.onRequest(P.FoldingRangeRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onSelectionRanges:T=>a.onRequest(P.SelectionRangeRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),ee.attachPartialResult(a,m))),onExecuteCommand:T=>a.onRequest(P.ExecuteCommandRequest.type,(m,_)=>T(m,_,ee.attachWorkDone(a,m),void 0)),dispose:()=>a.dispose()};for(let T of N)T.attach(k);return a.onRequest(P.InitializeRequest.type,T=>{const m=T.processId;Ke.number(m)&&Uf===void 0&&setInterval(()=>{try{process.kill(m,0)}catch(_){process.exit(en?0:1)}},3e3),Ke.string(T.trace)&&(c.trace=P.Trace.fromString(T.trace));for(let _ of N)_.initialize(T.capabilities);if(D){let _=D(T,new P.CancellationTokenSource().token,ee.attachWorkDone(a,T),void 0);return U(_).then(j=>{if(j instanceof P.ResponseError)return j;let A=j;A||(A={capabilities:{}});let q=A.capabilities;q||(q={},A.capabilities=q),q.textDocumentSync===void 0||q.textDocumentSync===null?q.textDocumentSync=Ke.number(k.__textDocumentSync)?k.__textDocumentSync:P.TextDocumentSyncKind.None:!Ke.number(q.textDocumentSync)&&!Ke.number(q.textDocumentSync.change)&&(q.textDocumentSync.change=Ke.number(k.__textDocumentSync)?k.__textDocumentSync:P.TextDocumentSyncKind.None);for(let Z of N)Z.fillServerCapabilities(q);return A})}else{let _={capabilities:{textDocumentSync:P.TextDocumentSyncKind.None}};for(let j of N)j.fillServerCapabilities(_.capabilities);return _}}),a.onRequest(P.ShutdownRequest.type,()=>(en=!0,B?B(new P.CancellationTokenSource().token):void 0)),a.onNotification(P.ExitNotification.type,()=>{try{J&&J()}finally{en?process.exit(0):process.exit(1)}}),a.onNotification(P.SetTraceNotification.type,T=>{c.trace=P.Trace.fromString(T.value)}),k}const nw=Ff(),td=jf();var iw;(function(e){e.all={__brand:"features",languages:ed(nw.CallHierarchyFeature,td.SemanticTokensFeature)},e.SemanticTokensBuilder=td.SemanticTokensBuilder})(iw=ye.ProposedFeatures||(ye.ProposedFeatures={}))});var Fa=v($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.NotifyResponseError=void 0;const sw=rd();class nd extends sw.ResponseError{constructor(e,t,r){super(e,t,r)}}$n.NotifyResponseError=nd;$n.default=nd});var ja=v(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.MissingModuleNotification=tn.ElectronNotSupportedNotification=void 0;tn.ElectronNotSupportedNotification="Core/electronNotSupported";tn.MissingModuleNotification="Core/missingModule"});var sd=v(Tr=>{"use strict";var ow=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ElectronNotSupportedError=void 0;const aw=ow(Fa()),cw=ja();class id extends aw.default{constructor(e="Electron is not supported. You should enable 'sqltools.useNodeRuntime' and have NodeJS installed to continue."){super(1001,e,{notification:cw.ElectronNotSupportedNotification,dontNotify:!0})}}Tr.ElectronNotSupportedError=id;Tr.default=id});var ad=v(Rr=>{"use strict";var lw=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.MissingModuleError=void 0;const uw=lw(Fa()),hw=ja();class od extends uw.default{constructor(e,t,r=!1){super(1e3,`Missing module "${e.map((n,i)=>`${n.name}@${n.version||"latest"}${i===e.length-2?" and ":i===e.length-1?"":", "}`).join("")}". Need to ${r?"upgrade":"install"}.`,{notification:hw.MissingModuleNotification,dontNotify:!0,args:{conn:t,action:r?"upgrade":"install",deps:e}})}}Rr.MissingModuleError=od;Rr.default=od});var ud=v((pP,Ua)=>{"use strict";const Ce=require("path"),cd=require("os"),ar=cd.homedir(),Ba=cd.tmpdir(),{env:rn}=process,fw=e=>{const t=Ce.join(ar,"Library");return{data:Ce.join(t,"Application Support",e),config:Ce.join(t,"Preferences",e),cache:Ce.join(t,"Caches",e),log:Ce.join(t,"Logs",e),temp:Ce.join(Ba,e)}},dw=e=>{const t=rn.APPDATA||Ce.join(ar,"AppData","Roaming"),r=rn.LOCALAPPDATA||Ce.join(ar,"AppData","Local");return{data:Ce.join(r,e,"Data"),config:Ce.join(t,e,"Config"),cache:Ce.join(r,e,"Cache"),log:Ce.join(r,e,"Log"),temp:Ce.join(Ba,e)}},pw=e=>{const t=Ce.basename(ar);return{data:Ce.join(rn.XDG_DATA_HOME||Ce.join(ar,".local","share"),e),config:Ce.join(rn.XDG_CONFIG_HOME||Ce.join(ar,".config"),e),cache:Ce.join(rn.XDG_CACHE_HOME||Ce.join(ar,".cache"),e),log:Ce.join(rn.XDG_STATE_HOME||Ce.join(ar,".local","state"),e),temp:Ce.join(Ba,t,e)}},ld=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?fw(e):process.platform==="win32"?dw(e):pw(e)};Ua.exports=ld;Ua.exports.default=ld});var Wa=v((mP,hd)=>{hd.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}});var fd=v((gP,Vn)=>{"use strict";var mw=process.platform==="win32",gw=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,Ew=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,Ha={};function vw(e){var t=gw.exec(e),r=(t[1]||"")+(t[2]||""),n=t[3]||"",i=Ew.exec(n),s=i[1],o=i[2],a=i[3];return[r,s,o,a]}Ha.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=vw(e);if(!t||t.length!==4)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}};var yw=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Ga={};function Tw(e){return yw.exec(e).slice(1)}Ga.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=Tw(e);if(!t||t.length!==4)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}};mw?Vn.exports=Ha.parse:Vn.exports=Ga.parse;Vn.exports.posix=Ga.parse;Vn.exports.win32=Ha.parse});var $a=v((EP,dd)=>{var pd=require("path"),md=pd.parse||fd(),gd=function(t,r){var n="/";/^([A-Za-z]:)/.test(t)?n="":/^\\\\/.test(t)&&(n="\\\\");for(var i=[t],s=md(t);s.dir!==i[i.length-1];)i.push(s.dir),s=md(s.dir);return i.reduce(function(o,a){return o.concat(r.map(function(c){return pd.resolve(n,a,c)}))},[])};dd.exports=function(t,r,n){var i=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(n,t,function(){return gd(t,i)},r);var s=gd(t,i);return r&&r.paths?s.concat(r.paths):s}});var Va=v((vP,Ed)=>{Ed.exports=function(e,t){return t||{}}});var yd=v((yP,vd)=>{vd.exports={assert:!0,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,dns:!0,domain:!0,events:!0,freelist:"< 6",fs:!0,"fs/promises":[">= 10 && < 10.1",">= 14"],_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:!0,http2:">= 8.8",https:!0,inspector:">= 8.0.0",_linklist:"< 8",module:!0,net:!0,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12",os:!0,path:!0,perf_hooks:">= 8.5",process:">= 1",punycode:!0,querystring:!0,readline:!0,repl:!0,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:!0,string_decoder:!0,sys:!0,timers:!0,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:!0,trace_events:">= 10",tty:!0,url:!0,util:!0,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],v8:">= 1",vm:!0,wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7",zlib:!0}});var Ya=v((TP,Td)=>{var Rw=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function bw(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",n=(t.length>1?t[1]:t[0]).split("."),i=0;i<3;++i){var s=Number(Rw[i]||0),o=Number(n[i]||0);if(s===o)continue;return r==="<"?s<o:r===">="?s>=o:!1}return r===">="}function Rd(e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var r=0;r<t.length;++r)if(!bw(t[r]))return!1;return!0}function _w(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){for(var t=0;t<e.length;++t)if(Rd(e[t]))return!0;return!1}return Rd(e)}var za=yd(),bd={};for(var Xa in za)Object.prototype.hasOwnProperty.call(za,Xa)&&(bd[Xa]=_w(za[Xa]));Td.exports=bd});var Ki=v((RP,_d)=>{var ww=Ya();_d.exports=function(t){return Object.prototype.hasOwnProperty.call(ww,t)}});var Sd=v((bP,wd)=>{var br=require("fs"),qe=require("path"),Sw=Wa(),Cw=$a(),Nw=Va(),Iw=Ki(),Ow=br.realpath&&typeof br.realpath.native=="function"?br.realpath.native:br.realpath,Aw=function(t,r){br.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isFile()||i.isFIFO())})},Lw=function(t,r){br.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isDirectory())})},Pw=function(t,r){Ow(t,function(n,i){n&&n.code!=="ENOENT"?r(n):r(null,n?t:i)})},zn=function(t,r,n,i){n&&n.preserveSymlinks===!1?t(r,i):i(null,r)},xw=function(t,r,n){for(var i=Cw(r,n,t),s=0;s<i.length;s++)i[s]=qe.join(i[s],t);return i};wd.exports=function(t,r,n){var i=n,s=r;if(typeof r=="function"&&(i=s,s={}),typeof t!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=Nw(t,s);var a=s.isFile||Aw,c=s.isDirectory||Lw,u=s.readFile||br.readFile,h=s.realpath||Pw,d=s.packageIterator,g=s.extensions||[".js"],C=s.basedir||qe.dirname(Sw()),N=s.filename||C;s.paths=s.paths||[];var U=qe.resolve(C);zn(h,U,s,function(A,q){A?i(A):D(q)});var B;function D(A){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))B=qe.resolve(A,t),(t==="."||t===".."||t.slice(-1)==="/")&&(B+="/"),/\/$/.test(t)&&B===A?m(B,s.package,J):k(B,s.package,J);else{if(Iw(t))return i(null,t);j(t,A,function(q,Z,$){if(q)i(q);else{if(Z)return zn(h,Z,s,function(Ie,me){Ie?i(Ie):i(null,me,$)});var se=new Error("Cannot find module '"+t+"' from '"+N+"'");se.code="MODULE_NOT_FOUND",i(se)}})}}function J(A,q,Z){A?i(A):q?i(null,q,Z):m(B,function($,se,Ie){if($)i($);else if(se)zn(h,se,s,function(de,Oe){de?i(de):i(null,Oe,Ie)});else{var me=new Error("Cannot find module '"+t+"' from '"+N+"'");me.code="MODULE_NOT_FOUND",i(me)}})}function k(A,q,Z){var $=q,se=Z;typeof $=="function"&&(se=$,$=void 0);var Ie=[""].concat(g);me(Ie,A,$);function me(de,Oe,Ae){if(de.length===0)return se(null,void 0,Ae);var He=Oe+de[0],Fe=Ae;Fe?Te(null,Fe):T(qe.dirname(He),Te);function Te(Pe,Ge,je){if(Fe=Ge,Pe)return se(Pe);if(je&&Fe&&s.pathFilter){var ut=qe.relative(je,He),Nt=ut.slice(0,ut.length-de[0].length),st=s.pathFilter(Fe,Oe,Nt);if(st)return me([""].concat(g.slice()),qe.resolve(je,st),Fe)}a(He,lt)}function lt(Pe,Ge){if(Pe)return se(Pe);if(Ge)return se(null,He,Fe);me(de.slice(1),Oe,Fe)}}}function T(A,q){if(A===""||A==="/")return q(null);if(process.platform==="win32"&&/^\w:[/\\]*$/.test(A))return q(null);if(/[/\\]node_modules[/\\]*$/.test(A))return q(null);zn(h,A,s,function(Z,$){if(Z)return T(qe.dirname(A),q);var se=qe.join($,"package.json");a(se,function(Ie,me){if(!me)return T(qe.dirname(A),q);u(se,function(de,Oe){de&&q(de);try{var Ae=JSON.parse(Oe)}catch(He){}Ae&&s.packageFilter&&(Ae=s.packageFilter(Ae,se)),q(null,Ae,A)})})})}function m(A,q,Z){var $=Z,se=q;typeof se=="function"&&($=se,se=s.package),zn(h,A,s,function(Ie,me){if(Ie)return $(Ie);var de=qe.join(me,"package.json");a(de,function(Oe,Ae){if(Oe)return $(Oe);if(!Ae)return k(qe.join(A,"index"),se,$);u(de,function(He,Fe){if(He)return $(He);try{var Te=JSON.parse(Fe)}catch(Pe){}if(Te&&s.packageFilter&&(Te=s.packageFilter(Te,de)),Te&&Te.main){if(typeof Te.main!="string"){var lt=new TypeError("package “"+Te.name+"” `main` must be a string");return lt.code="INVALID_PACKAGE_MAIN",$(lt)}(Te.main==="."||Te.main==="./")&&(Te.main="index"),k(qe.resolve(A,Te.main),Te,function(Pe,Ge,je){if(Pe)return $(Pe);if(Ge)return $(null,Ge,je);if(!je)return k(qe.join(A,"index"),je,$);var ut=qe.resolve(A,je.main);m(ut,je,function(Nt,st,ht){if(Nt)return $(Nt);if(st)return $(null,st,ht);k(qe.join(A,"index"),ht,$)})});return}k(qe.join(A,"/index"),Te,$)})})})}function _(A,q){if(q.length===0)return A(null,void 0);var Z=q[0];c(qe.dirname(Z),$);function $(me,de){if(me)return A(me);if(!de)return _(A,q.slice(1));k(Z,s.package,se)}function se(me,de,Oe){if(me)return A(me);if(de)return A(null,de,Oe);m(Z,s.package,Ie)}function Ie(me,de,Oe){if(me)return A(me);if(de)return A(null,de,Oe);_(A,q.slice(1))}}function j(A,q,Z){var $=function(){return xw(A,q,s)};_(Z,d?d(A,q,$,s):$())}}});var Nd=v((_P,Cd)=>{var Dw=Ki(),_r=require("fs"),rt=require("path"),kw=Wa(),Mw=$a(),qw=Va(),Fw=_r.realpathSync&&typeof _r.realpathSync.native=="function"?_r.realpathSync.native:_r.realpathSync,jw=function(t){try{var r=_r.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isFile()||r.isFIFO()},Uw=function(t){try{var r=_r.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isDirectory()},Bw=function(t){try{return Fw(t)}catch(r){if(r.code!=="ENOENT")throw r}return t},Xn=function(t,r,n){return n&&n.preserveSymlinks===!1?t(r):r},Ww=function(t,r,n){for(var i=Mw(r,n,t),s=0;s<i.length;s++)i[s]=rt.join(i[s],t);return i};Cd.exports=function(t,r){if(typeof t!="string")throw new TypeError("Path must be a string.");var n=qw(t,r),i=n.isFile||jw,s=n.readFileSync||_r.readFileSync,o=n.isDirectory||Uw,a=n.realpathSync||Bw,c=n.packageIterator,u=n.extensions||[".js"],h=n.basedir||rt.dirname(kw()),d=n.filename||h;n.paths=n.paths||[];var g=Xn(a,rt.resolve(h),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var C=rt.resolve(g,t);(t==="."||t===".."||t.slice(-1)==="/")&&(C+="/");var N=D(C)||k(C);if(N)return Xn(a,N,n)}else{if(Dw(t))return t;var U=T(t,g);if(U)return Xn(a,U,n)}var B=new Error("Cannot find module '"+t+"' from '"+d+"'");throw B.code="MODULE_NOT_FOUND",B;function D(m){var _=J(rt.dirname(m));if(_&&_.dir&&_.pkg&&n.pathFilter){var j=rt.relative(_.dir,m),A=n.pathFilter(_.pkg,m,j);A&&(m=rt.resolve(_.dir,A))}if(i(m))return m;for(var q=0;q<u.length;q++){var Z=m+u[q];if(i(Z))return Z}}function J(m){if(m===""||m==="/")return;if(process.platform==="win32"&&/^\w:[/\\]*$/.test(m))return;if(/[/\\]node_modules[/\\]*$/.test(m))return;var _=rt.join(Xn(a,m,n),"package.json");if(!i(_))return J(rt.dirname(m));var j=s(_);try{var A=JSON.parse(j)}catch(q){}return A&&n.packageFilter&&(A=n.packageFilter(A,m)),{pkg:A,dir:m}}function k(m){var _=rt.join(Xn(a,m,n),"/package.json");if(i(_)){try{var j=s(_,"UTF8"),A=JSON.parse(j)}catch(se){}if(A&&n.packageFilter&&(A=n.packageFilter(A,m)),A&&A.main){if(typeof A.main!="string"){var q=new TypeError("package “"+A.name+"” `main` must be a string");throw q.code="INVALID_PACKAGE_MAIN",q}(A.main==="."||A.main==="./")&&(A.main="index");try{var Z=D(rt.resolve(m,A.main));if(Z)return Z;var $=k(rt.resolve(m,A.main));if($)return $}catch(se){}}}return D(rt.join(m,"/index"))}function T(m,_){for(var j=function(){return Ww(m,_,n)},A=c?c(m,_,j,n):j(),q=0;q<A.length;q++){var Z=A[q];if(o(rt.dirname(Z))){var $=D(Z);if($)return $;var se=k(Z);if(se)return se}}}}});var Od=v((wP,Id)=>{var Ji=Sd();Ji.core=Ya();Ji.isCore=Ki();Ji.sync=Nd();Id.exports=Ji});var kd=v((K,Ad)=>{K=Ad.exports=ne;var fe;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?fe=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:fe=function(){};K.SEMVER_SPEC_VERSION="2.0.0";var Qa=256,Zi=Number.MAX_SAFE_INTEGER||9007199254740991,Ka=16,ue=K.re=[],I=K.src=[],b=K.tokens={},Ld=0;function ie(e){b[e]=Ld++}ie("NUMERICIDENTIFIER");I[b.NUMERICIDENTIFIER]="0|[1-9]\\d*";ie("NUMERICIDENTIFIERLOOSE");I[b.NUMERICIDENTIFIERLOOSE]="[0-9]+";ie("NONNUMERICIDENTIFIER");I[b.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";ie("MAINVERSION");I[b.MAINVERSION]="("+I[b.NUMERICIDENTIFIER]+")\\.("+I[b.NUMERICIDENTIFIER]+")\\.("+I[b.NUMERICIDENTIFIER]+")";ie("MAINVERSIONLOOSE");I[b.MAINVERSIONLOOSE]="("+I[b.NUMERICIDENTIFIERLOOSE]+")\\.("+I[b.NUMERICIDENTIFIERLOOSE]+")\\.("+I[b.NUMERICIDENTIFIERLOOSE]+")";ie("PRERELEASEIDENTIFIER");I[b.PRERELEASEIDENTIFIER]="(?:"+I[b.NUMERICIDENTIFIER]+"|"+I[b.NONNUMERICIDENTIFIER]+")";ie("PRERELEASEIDENTIFIERLOOSE");I[b.PRERELEASEIDENTIFIERLOOSE]="(?:"+I[b.NUMERICIDENTIFIERLOOSE]+"|"+I[b.NONNUMERICIDENTIFIER]+")";ie("PRERELEASE");I[b.PRERELEASE]="(?:-("+I[b.PRERELEASEIDENTIFIER]+"(?:\\."+I[b.PRERELEASEIDENTIFIER]+")*))";ie("PRERELEASELOOSE");I[b.PRERELEASELOOSE]="(?:-?("+I[b.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+I[b.PRERELEASEIDENTIFIERLOOSE]+")*))";ie("BUILDIDENTIFIER");I[b.BUILDIDENTIFIER]="[0-9A-Za-z-]+";ie("BUILD");I[b.BUILD]="(?:\\+("+I[b.BUILDIDENTIFIER]+"(?:\\."+I[b.BUILDIDENTIFIER]+")*))";ie("FULL");ie("FULLPLAIN");I[b.FULLPLAIN]="v?"+I[b.MAINVERSION]+I[b.PRERELEASE]+"?"+I[b.BUILD]+"?";I[b.FULL]="^"+I[b.FULLPLAIN]+"$";ie("LOOSEPLAIN");I[b.LOOSEPLAIN]="[v=\\s]*"+I[b.MAINVERSIONLOOSE]+I[b.PRERELEASELOOSE]+"?"+I[b.BUILD]+"?";ie("LOOSE");I[b.LOOSE]="^"+I[b.LOOSEPLAIN]+"$";ie("GTLT");I[b.GTLT]="((?:<|>)?=?)";ie("XRANGEIDENTIFIERLOOSE");I[b.XRANGEIDENTIFIERLOOSE]=I[b.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";ie("XRANGEIDENTIFIER");I[b.XRANGEIDENTIFIER]=I[b.NUMERICIDENTIFIER]+"|x|X|\\*";ie("XRANGEPLAIN");I[b.XRANGEPLAIN]="[v=\\s]*("+I[b.XRANGEIDENTIFIER]+")(?:\\.("+I[b.XRANGEIDENTIFIER]+")(?:\\.("+I[b.XRANGEIDENTIFIER]+")(?:"+I[b.PRERELEASE]+")?"+I[b.BUILD]+"?)?)?";ie("XRANGEPLAINLOOSE");I[b.XRANGEPLAINLOOSE]="[v=\\s]*("+I[b.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+I[b.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+I[b.XRANGEIDENTIFIERLOOSE]+")(?:"+I[b.PRERELEASELOOSE]+")?"+I[b.BUILD]+"?)?)?";ie("XRANGE");I[b.XRANGE]="^"+I[b.GTLT]+"\\s*"+I[b.XRANGEPLAIN]+"$";ie("XRANGELOOSE");I[b.XRANGELOOSE]="^"+I[b.GTLT]+"\\s*"+I[b.XRANGEPLAINLOOSE]+"$";ie("COERCE");I[b.COERCE]="(^|[^\\d])(\\d{1,"+Ka+"})(?:\\.(\\d{1,"+Ka+"}))?(?:\\.(\\d{1,"+Ka+"}))?(?:$|[^\\d])";ie("COERCERTL");ue[b.COERCERTL]=new RegExp(I[b.COERCE],"g");ie("LONETILDE");I[b.LONETILDE]="(?:~>?)";ie("TILDETRIM");I[b.TILDETRIM]="(\\s*)"+I[b.LONETILDE]+"\\s+";ue[b.TILDETRIM]=new RegExp(I[b.TILDETRIM],"g");var Hw="$1~";ie("TILDE");I[b.TILDE]="^"+I[b.LONETILDE]+I[b.XRANGEPLAIN]+"$";ie("TILDELOOSE");I[b.TILDELOOSE]="^"+I[b.LONETILDE]+I[b.XRANGEPLAINLOOSE]+"$";ie("LONECARET");I[b.LONECARET]="(?:\\^)";ie("CARETTRIM");I[b.CARETTRIM]="(\\s*)"+I[b.LONECARET]+"\\s+";ue[b.CARETTRIM]=new RegExp(I[b.CARETTRIM],"g");var Gw="$1^";ie("CARET");I[b.CARET]="^"+I[b.LONECARET]+I[b.XRANGEPLAIN]+"$";ie("CARETLOOSE");I[b.CARETLOOSE]="^"+I[b.LONECARET]+I[b.XRANGEPLAINLOOSE]+"$";ie("COMPARATORLOOSE");I[b.COMPARATORLOOSE]="^"+I[b.GTLT]+"\\s*("+I[b.LOOSEPLAIN]+")$|^$";ie("COMPARATOR");I[b.COMPARATOR]="^"+I[b.GTLT]+"\\s*("+I[b.FULLPLAIN]+")$|^$";ie("COMPARATORTRIM");I[b.COMPARATORTRIM]="(\\s*)"+I[b.GTLT]+"\\s*("+I[b.LOOSEPLAIN]+"|"+I[b.XRANGEPLAIN]+")";ue[b.COMPARATORTRIM]=new RegExp(I[b.COMPARATORTRIM],"g");var $w="$1$2$3";ie("HYPHENRANGE");I[b.HYPHENRANGE]="^\\s*("+I[b.XRANGEPLAIN]+")\\s+-\\s+("+I[b.XRANGEPLAIN]+")\\s*$";ie("HYPHENRANGELOOSE");I[b.HYPHENRANGELOOSE]="^\\s*("+I[b.XRANGEPLAINLOOSE]+")\\s+-\\s+("+I[b.XRANGEPLAINLOOSE]+")\\s*$";ie("STAR");I[b.STAR]="(<|>)?=?\\s*\\*";for(var wr=0;wr<Ld;wr++)fe(wr,I[wr]),ue[wr]||(ue[wr]=new RegExp(I[wr]));K.parse=Sr;function Sr(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne)return e;if(typeof e!="string")return null;if(e.length>Qa)return null;var r=t.loose?ue[b.LOOSE]:ue[b.FULL];if(!r.test(e))return null;try{return new ne(e,t)}catch(n){return null}}K.valid=Vw;function Vw(e,t){var r=Sr(e,t);return r?r.version:null}K.clean=zw;function zw(e,t){var r=Sr(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}K.SemVer=ne;function ne(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Qa)throw new TypeError("version is longer than "+Qa+" characters");if(!(this instanceof ne))return new ne(e,t);fe("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?ue[b.LOOSE]:ue[b.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Zi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zi||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<Zi)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ne.prototype.toString=function(){return this.version};ne.prototype.compare=function(e){return fe("SemVer.compare",this.version,this.options,e),e instanceof ne||(e=new ne(e,this.options)),this.compareMain(e)||this.comparePre(e)};ne.prototype.compareMain=function(e){return e instanceof ne||(e=new ne(e,this.options)),Cr(this.major,e.major)||Cr(this.minor,e.minor)||Cr(this.patch,e.patch)};ne.prototype.comparePre=function(e){if(e instanceof ne||(e=new ne(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(fe("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Cr(r,n)}while(++t)};ne.prototype.compareBuild=function(e){e instanceof ne||(e=new ne(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(fe("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Cr(r,n)}while(++t)};ne.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};K.inc=Xw;function Xw(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new ne(e,r).inc(t,n).version}catch(i){return null}}K.diff=Yw;function Yw(e,t){if(Ja(e,t))return null;var r=Sr(e),n=Sr(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}K.compareIdentifiers=Cr;var Pd=/^[0-9]+$/;function Cr(e,t){var r=Pd.test(e),n=Pd.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}K.rcompareIdentifiers=Qw;function Qw(e,t){return Cr(t,e)}K.major=Kw;function Kw(e,t){return new ne(e,t).major}K.minor=Jw;function Jw(e,t){return new ne(e,t).minor}K.patch=Zw;function Zw(e,t){return new ne(e,t).patch}K.compare=Bt;function Bt(e,t,r){return new ne(e,r).compare(new ne(t,r))}K.compareLoose=eS;function eS(e,t){return Bt(e,t,!0)}K.compareBuild=tS;function tS(e,t,r){var n=new ne(e,r),i=new ne(t,r);return n.compare(i)||n.compareBuild(i)}K.rcompare=rS;function rS(e,t,r){return Bt(t,e,r)}K.sort=nS;function nS(e,t){return e.sort(function(r,n){return K.compareBuild(r,n,t)})}K.rsort=iS;function iS(e,t){return e.sort(function(r,n){return K.compareBuild(n,r,t)})}K.gt=Yn;function Yn(e,t,r){return Bt(e,t,r)>0}K.lt=es;function es(e,t,r){return Bt(e,t,r)<0}K.eq=Ja;function Ja(e,t,r){return Bt(e,t,r)===0}K.neq=xd;function xd(e,t,r){return Bt(e,t,r)!==0}K.gte=Za;function Za(e,t,r){return Bt(e,t,r)>=0}K.lte=ec;function ec(e,t,r){return Bt(e,t,r)<=0}K.cmp=ts;function ts(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Ja(e,r,n);case"!=":return xd(e,r,n);case">":return Yn(e,r,n);case">=":return Za(e,r,n);case"<":return es(e,r,n);case"<=":return ec(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}K.Comparator=gt;function gt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof gt){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof gt))return new gt(e,t);fe("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===nn?this.value="":this.value=this.operator+this.semver.version,fe("comp",this)}var nn={};gt.prototype.parse=function(e){var t=this.options.loose?ue[b.COMPARATORLOOSE]:ue[b.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new ne(r[2],this.options.loose):this.semver=nn};gt.prototype.toString=function(){return this.value};gt.prototype.test=function(e){if(fe("Comparator.test",e,this.options.loose),this.semver===nn||e===nn)return!0;if(typeof e=="string")try{e=new ne(e,this.options)}catch(t){return!1}return ts(e,this.operator,this.semver,this.options)};gt.prototype.intersects=function(e,t){if(!(e instanceof gt))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new Ne(e.value,t),rs(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new Ne(this.value,t),rs(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=ts(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=ts(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||c};K.Range=Ne;function Ne(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ne)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ne(e.raw,t);if(e instanceof gt)return new Ne(e.value,t);if(!(this instanceof Ne))return new Ne(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Ne.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Ne.prototype.toString=function(){return this.range};Ne.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?ue[b.HYPHENRANGELOOSE]:ue[b.HYPHENRANGE];e=e.replace(r,oS),fe("hyphen replace",e),e=e.replace(ue[b.COMPARATORTRIM],$w),fe("comparator trim",e,ue[b.COMPARATORTRIM]),e=e.replace(ue[b.TILDETRIM],Hw),e=e.replace(ue[b.CARETTRIM],Gw),e=e.split(/\s+/).join(" ");var n=t?ue[b.COMPARATORLOOSE]:ue[b.COMPARATOR],i=e.split(" ").map(function(s){return sS(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new gt(s,this.options)},this),i};Ne.prototype.intersects=function(e,t){if(!(e instanceof Ne))throw new TypeError("a Range is required");return this.set.some(function(r){return Dd(r,t)&&e.set.some(function(n){return Dd(n,t)&&r.every(function(i){return n.every(function(s){return i.intersects(s,t)})})})})};function Dd(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,t)}),i=n.pop();return r}K.toComparators=aS;function aS(e,t){return new Ne(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function sS(e,t){return fe("comp",e,t),e=lS(e,t),fe("caret",e),e=cS(e,t),fe("tildes",e),e=uS(e,t),fe("xrange",e),e=hS(e,t),fe("stars",e),e}function Je(e){return!e||e.toLowerCase()==="x"||e==="*"}function cS(e,t){return e.trim().split(/\s+/).map(function(r){return fS(r,t)}).join(" ")}function fS(e,t){var r=t.loose?ue[b.TILDELOOSE]:ue[b.TILDE];return e.replace(r,function(n,i,s,o,a){fe("tilde",e,n,i,s,o,a);var c;return Je(i)?c="":Je(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Je(o)?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(fe("replaceTilde pr",a),c=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):c=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",fe("tilde return",c),c})}function lS(e,t){return e.trim().split(/\s+/).map(function(r){return dS(r,t)}).join(" ")}function dS(e,t){fe("caret",e,t);var r=t.loose?ue[b.CARETLOOSE]:ue[b.CARET];return e.replace(r,function(n,i,s,o,a){fe("caret",e,n,i,s,o,a);var c;return Je(i)?c="":Je(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Je(o)?i==="0"?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(fe("replaceCaret pr",a),i==="0"?s==="0"?c=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):c=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(fe("no pr"),i==="0"?s==="0"?c=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):c=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),fe("caret return",c),c})}function uS(e,t){return fe("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return pS(r,t)}).join(" ")}function pS(e,t){e=e.trim();var r=t.loose?ue[b.XRANGELOOSE]:ue[b.XRANGE];return e.replace(r,function(n,i,s,o,a,c){fe("xRange",e,n,i,s,o,a,c);var u=Je(s),h=u||Je(o),d=h||Je(a),g=d;return i==="="&&g&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&g?(h&&(o=0),a=0,i===">"?(i=">=",h?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",h?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+c):h?n=">="+s+".0.0"+c+" <"+(+s+1)+".0.0"+c:d&&(n=">="+s+"."+o+".0"+c+" <"+s+"."+(+o+1)+".0"+c),fe("xRange return",n),n})}function hS(e,t){return fe("replaceStars",e,t),e.trim().replace(ue[b.STAR],"")}function oS(e,t,r,n,i,s,o,a,c,u,h,d,g){return Je(r)?t="":Je(n)?t=">="+r+".0.0":Je(i)?t=">="+r+"."+n+".0":t=">="+t,Je(c)?a="":Je(u)?a="<"+(+c+1)+".0.0":Je(h)?a="<"+c+"."+(+u+1)+".0":d?a="<="+c+"."+u+"."+h+"-"+d:a="<="+a,(t+" "+a).trim()}Ne.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new ne(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(mS(this.set[t],e,this.options))return!0;return!1};function mS(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++){if(fe(e[n].semver),e[n].semver===nn)continue;if(e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}}return!1}return!0}K.satisfies=rs;function rs(e,t,r){try{t=new Ne(t,r)}catch(n){return!1}return t.test(e)}K.maxSatisfying=gS;function gS(e,t,r){var n=null,i=null;try{var s=new Ne(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&((!n||i.compare(o)===-1)&&(n=o,i=new ne(n,r)))}),n}K.minSatisfying=ES;function ES(e,t,r){var n=null,i=null;try{var s=new Ne(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&((!n||i.compare(o)===1)&&(n=o,i=new ne(n,r)))}),n}K.minVersion=vS;function vS(e,t){e=new Ne(e,t);var r=new ne("0.0.0");if(e.test(r))return r;if(r=new ne("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(s){var o=new ne(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||Yn(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}K.validRange=yS;function yS(e,t){try{return new Ne(e,t).range||"*"}catch(r){return null}}K.ltr=TS;function TS(e,t,r){return tc(e,t,"<",r)}K.gtr=RS;function RS(e,t,r){return tc(e,t,">",r)}K.outside=tc;function tc(e,t,r,n){e=new ne(e,n),t=new Ne(t,n);var i,s,o,a,c;switch(r){case">":i=Yn,s=ec,o=es,a=">",c=">=";break;case"<":i=es,s=Za,o=Yn,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(rs(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var h=t.set[u],d=null,g=null;if(h.forEach(function(C){C.semver===nn&&(C=new gt(">=0.0.0")),d=d||C,g=g||C,i(C.semver,d.semver,n)?d=C:o(C.semver,g.semver,n)&&(g=C)}),d.operator===a||d.operator===c)return!1;if((!g.operator||g.operator===a)&&s(e,g.semver))return!1;if(g.operator===c&&o(e,g.semver))return!1}return!0}K.prerelease=bS;function bS(e,t){var r=Sr(e,t);return r&&r.prerelease.length?r.prerelease:null}K.intersects=_S;function _S(e,t,r){return e=new Ne(e,r),t=new Ne(t,r),e.intersects(t)}K.coerce=wS;function wS(e,t){if(e instanceof ne)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(ue[b.COERCE]);else{for(var n;(n=ue[b.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),ue[b.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ue[b.COERCERTL].lastIndex=-1}return r===null?null:Sr(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var Bd=v((rc,nc)=>{"use strict";const ns=require("fs"),Wt=require("path"),{promisify:Md}=require("util"),SS=kd(),qd=SS.satisfies(process.version,">=10.12.0"),Fd=e=>{if(process.platform==="win32"){const t=/[<>:"|?*]/.test(e.replace(Wt.parse(e).root,""));if(t){const r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}}},jd=e=>{const t={mode:511,fs:ns};return Ye(Ye({},t),e)},Ud=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},CS=(e,t)=>ft(rc,[],function*(){Fd(e),t=jd(t);const r=Md(t.fs.mkdir),n=Md(t.fs.stat);if(qd&&t.fs.mkdir===ns.mkdir){const s=Wt.resolve(e);return yield r(s,{mode:t.mode,recursive:!0}),s}const i=s=>ft(rc,[],function*(){try{return yield r(s,t.mode),s}catch(o){if(o.code==="EPERM")throw o;if(o.code==="ENOENT"){if(Wt.dirname(s)===s)throw Ud(s);if(o.message.includes("null bytes"))throw o;return yield i(Wt.dirname(s)),i(s)}try{const a=yield n(s);if(!a.isDirectory())throw new Error("The path is not a directory")}catch(a){throw o}return s}});return i(Wt.resolve(e))});nc.exports=CS;nc.exports.sync=(e,t)=>{if(Fd(e),t=jd(t),qd&&t.fs.mkdirSync===ns.mkdirSync){const n=Wt.resolve(e);return ns.mkdirSync(n,{mode:t.mode,recursive:!0}),n}const r=n=>{try{t.fs.mkdirSync(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(Wt.dirname(n)===n)throw Ud(n);if(i.message.includes("null bytes"))throw i;return r(Wt.dirname(n)),r(n)}try{if(!t.fs.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(s){throw i}}return n};return r(Wt.resolve(e))}});var Gd=v(nt=>{"use strict";var NS=nt&&nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),IS=nt&&nt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OS=nt&&nt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&NS(t,e,r);return IS(t,e),t},ic=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nt,"__esModule",{value:!0});nt.sqltoolsResolve=void 0;const AS=ic(ud()),LS=ic(require("path")),Wd=ic(require("fs")),PS=Od(),Hd=OS(Bd()),sc=AS.default(`vscode-${process.env.EXT_NAMESPACE||"sqltools"}`,{suffix:null});Wd.default.existsSync(sc.data)||Hd.sync(sc.data);Wd.default.existsSync(oc("node_modules"))||Hd.sync(oc("node_modules"));function oc(...e){return LS.default.resolve(sc.data,...e)}nt.sqltoolsResolve=e=>PS.sync(e,{basedir:oc()});const xS=e=>require(nt.sqltoolsResolve(e));nt.default=xS});var Xd=v((CP,$d)=>{"use strict";$d.exports=Vd;const ac=Symbol("circular-ref-tag"),cc=Symbol("pino-raw-err-ref"),zd=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[cc]},set:function(e){this[cc]=e}}});Object.defineProperty(zd,cc,{writable:!0,value:{}});function Vd(e){if(!(e instanceof Error))return e;e[ac]=void 0;const t=Object.create(zd);t.type=e.constructor.name,t.message=e.message,t.stack=e.stack;for(const r in e)if(t[r]===void 0){const n=e[r];n instanceof Error?n.hasOwnProperty(ac)||(t[r]=Vd(n)):t[r]=n}return delete e[ac],t.raw=e,t}});var Jd=v((NP,Yd)=>{"use strict";Yd.exports={mapHttpRequest:DS,reqSerializer:Qd};var lc=Symbol("pino-raw-req-ref"),Kd=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[lc]},set:function(e){this[lc]=e}}});Object.defineProperty(Kd,lc,{writable:!0,value:{}});function Qd(e){var t=e.info||e.connection;const r=Object.create(Kd);return r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl?r.url=e.originalUrl:r.url=e.url?e.url.path||e.url:void 0,r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function DS(e){return{req:Qd(e)}}});var rp=v((IP,Zd)=>{"use strict";Zd.exports={mapHttpResponse:kS,resSerializer:ep};var uc=Symbol("pino-raw-res-ref"),tp=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[uc]},set:function(e){this[uc]=e}}});Object.defineProperty(tp,uc,{writable:!0,value:{}});function ep(e){const t=Object.create(tp);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function kS(e){return{res:ep(e)}}});var fc=v((OP,np)=>{"use strict";var hc=Xd(),is=Jd(),ss=rp();np.exports={err:hc,mapHttpRequest:is.mapHttpRequest,mapHttpResponse:ss.mapHttpResponse,req:is.reqSerializer,res:ss.resSerializer,wrapErrorSerializer:function(t){return t===hc?t:function(n){return t(hc(n))}},wrapRequestSerializer:function(t){return t===is.reqSerializer?t:function(n){return t(is.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===ss.resSerializer?t:function(n){return t(ss.resSerializer(n))}}}});var sp=v((AP,ip)=>{"use strict";const{createContext:MS,runInContext:qS}=require("vm");ip.exports=FS;function FS(e={}){const{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be strings",ERR_INVALID_PATH:r=n=>`fast-redact – Invalid path (${n})`}=e;return function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(/〇/.test(s))throw Error();const o=new Proxy({},{get:()=>o,set:()=>{throw Error()}}),a=(s[0]==="["?"":".")+s.replace(/^\*/,"〇").replace(/\.\*/g,".〇").replace(/\[\*\]/g,"[〇]");if(/\n|\r|;/.test(a))throw Error();if(/\/\*/.test(a))throw Error();qS(`
          (function () {
            'use strict'
            o${a}
            if ([o${a}].length !== 1) throw Error()
          })()
        `,MS({o,〇:null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(o){throw Error(r(s))}})}}});var os=v((LP,op)=>{"use strict";op.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var cp=v((PP,ap)=>{"use strict";const jS=os();ap.exports=US;function US({paths:e}){const t=[];var r=0;const n=e.reduce(function(i,s,o){var a=s.match(jS).map(h=>h.replace(/'|"|`/g,""));const c=s[0]==="[";a=a.map(h=>h[0]==="["?h.substr(1,h.length-2):h);const u=a.indexOf("*");if(u>-1){const h=a.slice(0,u),d=h.join("."),g=a.slice(u+1,a.length);if(g.indexOf("*")>-1)throw Error("fast-redact – Only one wildcard per path is supported");const C=g.length>0;r++,t.push({before:h,beforeStr:d,after:g,nested:C})}else i[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:c};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var up=v((xP,lp)=>{"use strict";const BS=os();lp.exports=WS;function WS({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i},s){const o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${VS(n,t)}
    }
    const { censor, secret } = this
    ${HS(e,i)}
    this.compileRestore()
    ${GS(r>0,i)}
    ${$S(t)}
  `).bind(s);return t===!1&&(o.restore=a=>s.restore(a)),o}function HS(e,t){return Object.keys(e).map(r=>{const{escPath:n,leadingBracket:i}=e[r],s=i?1:0,o=i?"":".",a=[];for(var c;(c=BS.exec(r))!==null;){const[,d]=c,{index:g,input:C}=c;g>s&&a.push(C.substring(0,g-(d?0:1)))}var u=a.map(d=>`o${o}${d}`).join(" && ");u.length===0?u+=`o${o}${r} != null`:u+=` && o${o}${r} != null`;const h=`
      switch (true) {
        ${a.reverse().map(d=>`
          case o${o}${d} === censor:
            secret[${n}].circle = ${JSON.stringify(d)}
            break
        `).join(`
`)}
      }
    `;return`
      if (${u}) {
        const val = o${o}${r}
        if (val === censor) {
          secret[${n}].precensored = true
        } else {
          secret[${n}].val = val
          o${o}${r} = ${t?"censor(val)":"censor"}
          ${h}
        }
      }
    `}).join(`
`)}function GS(e,t){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t})
      }
    }
  `:""}function $S(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function VS(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var dc=v((DP,hp)=>{"use strict";hp.exports={groupRedact:XS,groupRestore:zS,nestedRedact:QS,nestedRestore:YS};function zS({keys:e,values:t,target:r}){if(r==null)return;const n=e.length;for(var i=0;i<n;i++){const s=e[i];r[s]=t[i]}}function XS(e,t,r,n){const i=fp(e,t);if(i==null)return{keys:null,values:null,target:null,flat:!0};const s=Object.keys(i),o=s.length,a=new Array(o);for(var c=0;c<o;c++){const u=s[c];a[c]=i[u],i[u]=n?r(i[u]):r}return{keys:s,values:a,target:i,flat:!0}}function YS(e){const t=e.length;for(var r=0;r<t;r++){const{key:n,target:i,value:s}=e[r];i[n]=s}}function QS(e,t,r,n,i,s){const o=fp(t,r);if(o==null)return;const a=Object.keys(o),c=a.length;for(var u=0;u<c;u++){const h=a[u],{value:d,parent:g,exists:C}=KS(o,h,n,i,s);C===!0&&g!==null&&e.push({key:n[n.length-1],target:g,value:d})}return e}function JS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function KS(e,t,r,n,i){var s=-1,o=r.length,a=o-1,c,u,h,d=null,g=!0;if(h=c=e[t],typeof c!="object")return{value:null,parent:null,exists:g};for(;c!=null&&++s<o;){if(t=r[s],d=h,!(t in c)){g=!1;break}if(h=c[t],u=i?n(h):n,u=s!==a?h:u,c[t]=JS(c,t)&&u===h||u===void 0&&n!==void 0?c[t]:u,c=c[t],typeof c!="object")break}return{value:h,parent:d,exists:g}}function fp(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}});var pp=v((kP,dp)=>{"use strict";const{groupRestore:ZS,nestedRestore:eC}=dc();dp.exports=tC;function tC({secret:e,wcLen:t}){return function(){if(this.restore)return;const n=Object.keys(e).filter(a=>e[a].precensored===!1),i=rC(e,n),s=t>0,o=s?{secret:e,groupRestore:ZS,nestedRestore:eC}:{secret:e};this.restore=Function("o",nC(i,n,s)).bind(o)}}function rC(e,t){return t.map(r=>{const{circle:n,escPath:i,leadingBracket:s}=e[r],o=s?"":".",a=n?`o.${n} = secret[${i}].val`:`o${o}${r} = secret[${i}].val`,c=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${c}
      }
    `}).join("")}function nC(e,t,r){const n=r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = ${t.length}; i < len; i++) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:"";return`
    const secret = this.secret
    ${e}
    ${n}
    return o
  `}});var gp=v((MP,mp)=>{"use strict";mp.exports=iC;function iC(e){const{secret:t,censor:r,isCensorFct:n,compileRestore:i,serialize:s,groupRedact:o,nestedRedact:a,wildcards:c,wcLen:u}=e,h=[{secret:t,censor:r,isCensorFct:n,compileRestore:i}];return h.push({secret:t}),s!==!1&&h.push({serialize:s}),u>0&&h.push({groupRedact:o,nestedRedact:a,wildcards:c,wcLen:u}),Object.assign(...h)}});var yp=v((qP,Ep)=>{"use strict";const vp=sp(),sC=cp(),oC=up(),aC=pp(),{groupRedact:cC,nestedRedact:lC}=dc(),uC=gp(),hC=os(),fC=vp(),pc=e=>e;pc.restore=pc;const dC="[REDACTED]";mc.rx=hC;mc.validator=vp;Ep.exports=mc;function mc(e={}){const t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact – remove option may only be set when serializer is JSON.stringify");const i=n===!0?void 0:"censor"in e?e.censor:dC,s=typeof i=="function";if(t.length===0)return r||pc;fC({paths:t,serialize:r,censor:i});const{wildcards:o,wcLen:a,secret:c}=sC({paths:t,censor:i}),u=aC({secret:c,wcLen:a}),h="strict"in e?e.strict:!0;return oC({secret:c,wcLen:a,serialize:r,strict:h,isCensorFct:s},uC({secret:c,censor:i,compileRestore:u,serialize:r,groupRedact:cC,nestedRedact:lC,wildcards:o,wcLen:a}))}});var sn=v((FP,Tp)=>{"use strict";const pC=Symbol("pino.setLevel"),mC=Symbol("pino.getLevel"),gC=Symbol("pino.levelVal"),EC=Symbol("pino.useLevelLabels"),vC=Symbol("pino.useOnlyCustomLevels"),yC=Symbol("pino.mixin"),TC=Symbol("pino.lsCache"),RC=Symbol("pino.chindings"),bC=Symbol("pino.parsedChindings"),_C=Symbol("pino.asJson"),wC=Symbol("pino.write"),SC=Symbol("pino.redactFmt"),CC=Symbol("pino.time"),NC=Symbol("pino.timeSliceIndex"),IC=Symbol("pino.stream"),OC=Symbol("pino.stringify"),AC=Symbol("pino.stringifiers"),LC=Symbol("pino.end"),PC=Symbol("pino.formatOpts"),xC=Symbol("pino.messageKey"),DC=Symbol("pino.nestedKey"),kC=Symbol("pino.wildcardFirst"),MC=Symbol.for("pino.serializers"),qC=Symbol.for("pino.formatters"),FC=Symbol.for("pino.hooks"),jC=Symbol.for("pino.metadata");Tp.exports={setLevelSym:pC,getLevelSym:mC,levelValSym:gC,useLevelLabelsSym:EC,mixinSym:yC,lsCacheSym:TC,chindingsSym:RC,parsedChindingsSym:bC,asJsonSym:_C,writeSym:wC,serializersSym:MC,redactFmtSym:SC,timeSym:CC,timeSliceIndexSym:NC,streamSym:IC,stringifySym:OC,stringifiersSym:AC,endSym:LC,formatOptsSym:PC,messageKeySym:xC,nestedKeySym:DC,wildcardFirstSym:kC,needsMetadataGsym:jC,useOnlyCustomLevelsSym:vC,formattersSym:qC,hooksSym:FC}});var Sp=v((jP,Rp)=>{"use strict";const gc=yp(),{redactFmtSym:UC,wildcardFirstSym:as}=sn(),{rx:Ec,validator:BC}=gc,bp=BC({ERR_PATHS_MUST_BE_STRINGS:()=>"pino – redacted paths must be strings",ERR_INVALID_PATH:e=>`pino – redact paths array contains an invalid path (${e})`}),_p="[Redacted]",wp=!1;function HC(e,t){const{paths:r,censor:n}=WC(e),i=r.reduce((a,c)=>{Ec.lastIndex=0;const u=Ec.exec(c),h=Ec.exec(c);let d=u[1]!==void 0?u[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):u[0];if(d==="*"&&(d=as),h===null)return a[d]=null,a;if(a[d]===null)return a;const{index:g}=h,C=`${c.substr(g,c.length-1)}`;return a[d]=a[d]||[],d!==as&&a[d].length===0&&a[d].push(...a[as]||[]),d===as&&Object.keys(a).forEach(function(N){a[N]&&a[N].push(C)}),a[d].push(C),a},{}),s={[UC]:gc({paths:r,censor:n,serialize:t,strict:wp})},o=(...a)=>typeof n=="function"?t(n(...a)):t(n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,c)=>(i[c]===null?a[c]=o:a[c]=gc({paths:i[c],censor:n,serialize:t,strict:wp}),a),s)}function WC(e){if(Array.isArray(e))return e={paths:e,censor:_p},bp(e),e;var{paths:t,censor:r=_p,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino – redact must contain an array of strings");return n===!0&&(r=void 0),bp({paths:t,censor:r}),{paths:t,censor:r}}Rp.exports=HC});var Np=v((UP,Cp)=>{"use strict";const GC=()=>"",$C=()=>`,"time":${Date.now()}`,VC=()=>`,"time":${Math.round(Date.now()/1e3)}`,zC=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;Cp.exports={nullTime:GC,epochTime:$C,unixTime:VC,isoTime:zC}});var cs=v((BP,Ip)=>{"use strict";function XC(e){return e|0,e}Ip.exports=XC});var Op=v((WP,vc)=>{"use strict";if(typeof SharedArrayBuffer!="undefined"&&typeof Atomics!="undefined"){const e=new Int32Array(new SharedArrayBuffer(4));function yc(t){const r=t>0&&t<Infinity;if(r===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(t))}vc.exports=yc}else{function yc(e){const t=e>0&&e<Infinity;if(t===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");const r=Date.now()+Number(e);for(;r>Date.now(););}vc.exports=yc}});var Rc=v((HP,Ap)=>{"use strict";const Ot=require("fs"),YC=require("events"),QC=cs(),KC=require("util").inherits,Lp=100,JC=Op(),Tc=16*1024*1024;function Pp(e,t){t._opening=!0,t._writing=!0,t.file=e;function r(n,i){if(n){t.emit("error",n);return}if(t.fd=i,t._reopening=!1,t._opening=!1,t._writing=!1,t.emit("ready"),t._reopening)return;var s=t._buf.length;s>0&&s>t.minLength&&!t.destroyed&&on(t)}if(t.sync){const n=Ot.openSync(e,"a");r(null,n),process.nextTick(()=>t.emit("ready"))}else Ot.open(e,"a",r)}function At(e){if(!(this instanceof At))return new At(e);var{fd:t,dest:r,minLength:n,sync:i}=e||{};if(t=t||r,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=i||!1,this.minLength=n||0,typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")Pp(t,this);else throw new Error("SonicBoom supports only file descriptors and files");this.release=(s,o)=>{if(s){if(s.code==="EAGAIN")if(this.sync)try{JC(Lp),this.release(void 0,0)}catch(c){this.release(c)}else setTimeout(()=>{Ot.write(this.fd,this._writingBuf,"utf8",this.release)},Lp);else this.emit("error",s);return}if(this._writingBuf.length!==o)if(this._writingBuf=this._writingBuf.slice(o),this.sync)try{do o=Ot.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(o);while(this._writingBuf.length!==0)}catch(c){this.release(c);return}else{Ot.write(this.fd,this._writingBuf,"utf8",this.release);return}if(this._writingBuf="",this.destroyed)return;var a=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):a>0&&a>this.minLength?on(this):this._ending?a>0?on(this):(this._writing=!1,ls(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(ZC,this)):this.emit("drain"))}}function ZC(e){e._asyncDrainScheduled=!1,e.emit("drain")}KC(At,YC);At.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=e;var t=this._buf.length;return!this._writing&&t>this.minLength&&on(this),t<16384};At.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._writing||this.minLength<=0)return;on(this)};At.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;Ot.close(this.fd,t=>{if(t)return this.emit("error",t)}),Pp(e||this.file,this)};At.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(this._ending)return;if(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0){on(this);return}if(this._writing)return;ls(this)};At.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(Ot.writeSync(this.fd,this._buf,"utf8"),this._buf="")};At.prototype.destroy=function(){if(this.destroyed)return;ls(this)};function on(e){e._writing=!0;var t=e._buf,r=e.release;if(t.length>Tc?(t=t.slice(0,Tc),e._buf=e._buf.slice(Tc)):e._buf="",QC(t),e._writingBuf=t,e.sync)try{var n=Ot.writeSync(e.fd,t,"utf8");r(null,n)}catch(i){r(i)}else Ot.write(e.fd,t,"utf8",r)}function ls(e){if(e.fd===-1){e.once("ready",ls.bind(null,e));return}Ot.close(e.fd,t=>{if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}),e.destroyed=!0,e._buf=""}Ap.exports=At});var Dp=v((GP,xp)=>{"use strict";function eN(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}xp.exports=tN;function tN(e,t,r){var n=r&&r.stringify||eN,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var u="",h="",d=1-i,g=-1,C=e&&e.length||0,N=0;N<C;){if(e.charCodeAt(N)===37&&N+1<C){g=g>-1?g:0;switch(e.charCodeAt(N+1)){case 100:if(d>=c)break;if(g<N&&(h+=e.slice(g,N)),t[d]==null)break;h+=Number(t[d]),g=N=N+2;break;case 79:case 111:case 106:if(d>=c)break;if(g<N&&(h+=e.slice(g,N)),t[d]===void 0)break;var U=typeof t[d];if(U==="string"){h+="'"+t[d]+"'",g=N+2,N++;break}if(U==="function"){h+=t[d].name||"<anonymous>",g=N+2,N++;break}h+=n(t[d]),g=N+2,N++;break;case 115:if(d>=c)break;g<N&&(h+=e.slice(g,N)),h+=String(t[d]),g=N+2,N++;break;case 37:g<N&&(h+=e.slice(g,N)),h+="%",g=N+2,N++;break}++d}++N}return g===-1?e:(g<C&&(h+=e.slice(g)),h)}});var wc=v(($P,kp)=>{kp.exports=Qn;Qn.default=Qn;Qn.stable=Mp;Qn.stableStringify=Mp;var Ht=[],cr=[];function Qn(e,t,r){bc(e,"",[],void 0);var n;for(cr.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,qp(t),r);Ht.length!==0;){var i=Ht.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function bc(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ht.push([n,t,e,s])):cr.push([e,t]):(n[t]="[Circular]",Ht.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)bc(e[i],i,r,e);else{var o=Object.keys(e);for(i=0;i<o.length;i++){var a=o[i];bc(e[a],a,r,e)}}r.pop()}}function rN(e,t){return e<t?-1:e>t?1:0}function Mp(e,t,r){var n=_c(e,"",[],void 0)||e,i;for(cr.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,qp(t),r);Ht.length!==0;){var s=Ht.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return i}function _c(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ht.push([n,t,e,s])):cr.push([e,t]):(n[t]="[Circular]",Ht.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)_c(e[i],i,r,e);else{var o={},a=Object.keys(e).sort(rN);for(i=0;i<a.length;i++){var c=a[i];_c(e[c],c,r,e),o[c]=e[c]}if(n!==void 0)Ht.push([n,t,e]),n[t]=o;else return o}r.pop()}}function qp(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(cr.length>0)for(var n=0;n<cr.length;n++){var i=cr[n];if(i[1]===t&&i[0]===r){r="[Circular]",cr.splice(n,1);break}}return e.call(this,t,r)}}});var jp=v((VP,Fp)=>{"use strict";Fp.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Sc=v((zP,Up)=>{const Kn=jp(),Bp={};for(const e of Object.keys(Kn))Bp[Kn[e]]=e;const H={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Up.exports=H;for(const e of Object.keys(H)){if(!("channels"in H[e]))throw new Error("missing channels property: "+e);if(!("labels"in H[e]))throw new Error("missing channel labels property: "+e);if(H[e].labels.length!==H[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=H[e];delete H[e].channels,delete H[e].labels,Object.defineProperty(H[e],"channels",{value:t}),Object.defineProperty(H[e],"labels",{value:r})}H.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,c;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);const u=(i+s)/2;return s===i?c=0:u<=.5?c=o/(s+i):c=o/(2-s-i),[a,c*100,u*100]};H.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(o,a,c),h=u-Math.min(o,a,c),d=function(g){return(u-g)/6/h+1/2};return h===0?(i=0,s=0):(s=h/u,t=d(o),r=d(a),n=d(c),o===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};H.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=H.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};H.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function nN(e,t){return De(e[0]-t[0],2)+De(e[1]-t[1],2)+De(e[2]-t[2],2)}H.rgb.keyword=function(e){const t=Bp[e];if(t)return t;let r=Infinity,n;for(const i of Object.keys(Kn)){const s=Kn[i],o=nN(e,s);o<r&&(r=o,n=i)}return n};H.keyword.rgb=function(e){return Kn[e]};H.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?De((t+.055)/1.055,2.4):t/12.92,r=r>.04045?De((r+.055)/1.055,2.4):r/12.92,n=n>.04045?De((n+.055)/1.055,2.4):n/12.92;const i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};H.rgb.lab=function(e){const t=H.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?De(r,1/3):7.787*r+16/116,n=n>.008856?De(n,1/3):7.787*n+16/116,i=i>.008856?De(i,1/3):7.787*i+16/116;const s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};H.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;const a=2*n-i,c=[0,0,0];for(let u=0;u<3;u++)s=t+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,c[u]=o*255;return c};H.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;const o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};H.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));n*=255;switch(i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}};H.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};H.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);const c=r+s*(a-r);let u,h,d;switch(o){default:case 6:case 0:u=a,h=c,d=r;break;case 1:u=c,h=a,d=r;break;case 2:u=r,h=a,d=c;break;case 3:u=r,h=c,d=a;break;case 4:u=c,h=r,d=a;break;case 5:u=a,h=r,d=c;break}return[u*255,h*255,d*255]};H.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};H.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*De(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*De(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*De(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};H.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?De(t,1/3):7.787*t+16/116,r=r>.008856?De(r,1/3):7.787*r+16/116,n=n>.008856?De(n,1/3):7.787*n+16/116;const i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};H.lab.xyz=function(e){const t=e[0],r=e[1],n=e[2];let i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;const a=De(s,3),c=De(i,3),u=De(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,o=u>.008856?u:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};H.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;const s=Math.atan2(n,r);i=s*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(r*r+n*n);return[t,o,i]};H.lch.lab=function(e){const t=e[0],r=e[1],n=e[2],i=n/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};H.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=t===null?H.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};H.hsv.ansi16=function(e){return H.rgb.ansi16(H.hsv.rgb(e),e[2])};H.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;const i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};H.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};H.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};H.rgb.hex=function(e){const t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};H.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));const n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};H.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,c;return o<1?a=s/(1-o):a=0,o<=0?c=0:i===t?c=(r-n)/o%6:i===r?c=2+(n-t)/o:c=4+(t-r)/o,c/=6,c%=1,[c*360,o*100,a*100]};H.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};H.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};H.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let c=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};H.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);let i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};H.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};H.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};H.hwb.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=1-r,i=n-t;let s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};H.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};H.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};H.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};H.gray.hsl=function(e){return[0,0,e[0]]};H.gray.hsv=H.gray.hsl;H.gray.hwb=function(e){return[0,100,e[0]]};H.gray.cmyk=function(e){return[0,0,0,e[0]]};H.gray.lab=function(e){return[e[0],0,0]};H.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};H.rgb.gray=function(e){const t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var Hp=v((XP,Wp)=>{const us=Sc();function iN(){const e={},t=Object.keys(us);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function sN(e){const t=iN(),r=[e];for(t[e].distance=0;r.length;){const n=r.pop(),i=Object.keys(us[n]);for(let s=i.length,o=0;o<s;o++){const a=i[o],c=t[a];c.distance===-1&&(c.distance=t[n].distance+1,c.parent=n,r.unshift(a))}}return t}function oN(e,t){return function(r){return t(e(r))}}function aN(e,t){const r=[t[e].parent,e];let n=us[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=oN(us[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}Wp.exports=function(e){const t=sN(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){const o=n[s],a=t[o];if(a.parent===null)continue;r[o]=aN(o,t)}return r}});var $p=v((YP,Gp)=>{const Cc=Sc(),cN=Hp(),an={},lN=Object.keys(Cc);function uN(e){const t=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function hN(e){const t=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}lN.forEach(e=>{an[e]={},Object.defineProperty(an[e],"channels",{value:Cc[e].channels}),Object.defineProperty(an[e],"labels",{value:Cc[e].labels});const t=cN(e),r=Object.keys(t);r.forEach(n=>{const i=t[n];an[e][n]=hN(i),an[e][n].raw=uN(i)})});Gp.exports=an});var Kp=v((QP,Vp)=>{"use strict";const zp=(e,t)=>(...r)=>{const n=e(...r);return`[${n+t}m`},Xp=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},Yp=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},hs=e=>e,Qp=(e,t,r)=>[e,t,r],cn=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let Nc;const ln=(e,t,r,n)=>{Nc===void 0&&(Nc=$p());const i=n?10:0,s={};for(const[o,a]of Object.entries(Nc)){const c=o==="ansi16"?"ansi":o;o===t?s[c]=e(r,i):typeof a=="object"&&(s[c]=e(a[t],i))}return s};function fN(){const e=new Map(),t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,n]of Object.entries(t)){for(const[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",cn(t.color,"ansi",()=>ln(zp,"ansi16",hs,!1)),cn(t.color,"ansi256",()=>ln(Xp,"ansi256",hs,!1)),cn(t.color,"ansi16m",()=>ln(Yp,"rgb",Qp,!1)),cn(t.bgColor,"ansi",()=>ln(zp,"ansi16",hs,!0)),cn(t.bgColor,"ansi256",()=>ln(Xp,"ansi256",hs,!0)),cn(t.bgColor,"ansi16m",()=>ln(Yp,"rgb",Qp,!0)),t}Object.defineProperty(Vp,"exports",{enumerable:!0,get:fN})});var Zp=v((KP,Jp)=>{"use strict";Jp.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var rm=v((JP,em)=>{"use strict";const dN=require("os"),tm=require("tty"),Et=Zp(),{env:ke}=process;let lr;Et("no-color")||Et("no-colors")||Et("color=false")||Et("color=never")?lr=0:(Et("color")||Et("colors")||Et("color=true")||Et("color=always"))&&(lr=1);"FORCE_COLOR"in ke&&(ke.FORCE_COLOR==="true"?lr=1:ke.FORCE_COLOR==="false"?lr=0:lr=ke.FORCE_COLOR.length===0?1:Math.min(parseInt(ke.FORCE_COLOR,10),3));function Ic(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Oc(e,t){if(lr===0)return 0;if(Et("color=16m")||Et("color=full")||Et("color=truecolor"))return 3;if(Et("color=256"))return 2;if(e&&!t&&lr===void 0)return 0;const r=lr||0;if(ke.TERM==="dumb")return r;if(process.platform==="win32"){const n=dN.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in ke)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in ke)||ke.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ke)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ke.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in ke)return 1;if(ke.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ke){const n=parseInt((ke.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ke.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ke.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ke.TERM)||"COLORTERM"in ke?1:r}function pN(e){const t=Oc(e,e&&e.isTTY);return Ic(t)}em.exports={supportsColor:pN,stdout:Ic(Oc(!0,tm.isatty(1))),stderr:Ic(Oc(!0,tm.isatty(2)))}});var im=v((ZP,nm)=>{"use strict";const mN=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;const i=t.length;let s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},gN=(e,t,r,n)=>{let i=0,s="";do{const o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};nm.exports={stringReplaceAll:mN,stringEncaseCRLFWithFirstIndex:gN}});var lm=v((ex,sm)=>{"use strict";const EN=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,om=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,vN=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,yN=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,TN=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function am(e){const t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):TN.get(e)||e}function RN(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const s of n){const o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(vN))r.push(i[2].replace(yN,(a,c,u)=>c?am(c):u));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function bN(e){om.lastIndex=0;const t=[];let r;for(;(r=om.exec(e))!==null;){const n=r[1];if(r[2]){const i=RN(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function cm(e,t){const r={};for(const i of t)for(const s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(const[i,s]of Object.entries(r)){if(!Array.isArray(s))continue;if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}sm.exports=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(EN,(s,o,a,c,u,h)=>{if(o)i.push(am(o));else if(c){const d=i.join("");i=[],n.push(r.length===0?d:cm(e,r)(d)),r.push({inverse:a,styles:bN(c)})}else if(u){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(cm(e,r)(i.join(""))),i=[],r.pop()}else i.push(h)}),n.push(i.join("")),r.length>0){const s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var Dc=v((tx,um)=>{"use strict";const Jn=Kp(),{stdout:Ac,stderr:Lc}=rm(),{stringReplaceAll:_N,stringEncaseCRLFWithFirstIndex:wN}=im(),{isArray:fs}=Array,hm=["ansi","ansi","ansi256","ansi16m"],un=Object.create(null),SN=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=Ac?Ac.level:0;e.level=t.level===void 0?r:t.level};class CN{constructor(e){return fm(e)}}const fm=e=>{const t={};return SN(t,e),t.template=(...r)=>dm(t.template,...r),Object.setPrototypeOf(t,ds.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=CN,t.template};function ds(e){return fm(e)}for(const[e,t]of Object.entries(Jn))un[e]={get(){const r=ps(this,Pc(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};un.visible={get(){const e=ps(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const pm=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of pm)un[e]={get(){const{level:t}=this;return function(...r){const n=Pc(Jn.color[hm[t]][e](...r),Jn.color.close,this._styler);return ps(this,n,this._isEmpty)}}};for(const e of pm){const t="bg"+e[0].toUpperCase()+e.slice(1);un[t]={get(){const{level:r}=this;return function(...n){const i=Pc(Jn.bgColor[hm[r]][e](...n),Jn.bgColor.close,this._styler);return ps(this,i,this._isEmpty)}}}}const NN=Object.defineProperties(()=>{},Ye(Ye({},un),{level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}})),Pc=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},ps=(e,t,r)=>{const n=(...i)=>fs(i[0])&&fs(i[0].raw)?mm(n,dm(n,...i)):mm(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,NN),n._generator=e,n._styler=t,n._isEmpty=r,n},mm=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;const{openAll:n,closeAll:i}=r;if(t.indexOf("")!==-1)for(;r!==void 0;)t=_N(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=wN(t,i,n,s)),n+t+i};let xc;const dm=(e,...t)=>{const[r]=t;if(!fs(r)||!fs(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return xc===void 0&&(xc=lm()),xc(e,i.join(""))};Object.defineProperties(ds.prototype,un);const ms=ds();ms.supportsColor=Ac;ms.stderr=ds({level:Lc?Lc.level:0});ms.stderr.supportsColor=Lc;um.exports=ms});var gm=v(gs=>{(function(e){"use strict";function t(l){return l!==null?Object.prototype.toString.call(l)==="[object Array]":!1}function r(l){return l!==null?Object.prototype.toString.call(l)==="[object Object]":!1}function n(l,f){if(l===f)return!0;var p=Object.prototype.toString.call(l);if(p!==Object.prototype.toString.call(f))return!1;if(t(l)===!0){if(l.length!==f.length)return!1;for(var y=0;y<l.length;y++)if(n(l[y],f[y])===!1)return!1;return!0}if(r(l)===!0){var R={};for(var x in l)if(hasOwnProperty.call(l,x)){if(n(l[x],f[x])===!1)return!1;R[x]=!0}for(var F in f)if(hasOwnProperty.call(f,F)&&R[F]!==!0)return!1;return!0}return!1}function i(l){if(l===""||l===!1||l===null)return!0;if(t(l)&&l.length===0)return!0;if(r(l)){for(var f in l)if(l.hasOwnProperty(f))return!1;return!0}else return!1}function s(l){for(var f=Object.keys(l),p=[],y=0;y<f.length;y++)p.push(l[f[y]]);return p}function o(l,f){var p={};for(var y in l)p[y]=l[y];for(var R in f)p[R]=f[R];return p}var a;typeof String.prototype.trimLeft=="function"?a=function(l){return l.trimLeft()}:a=function(l){return l.match(/^\s*(.*)/)[1]};var c=0,u=1,h=2,d=3,g=4,C=5,N=6,U=7,B=8,D=9,J="EOF",k="UnquotedIdentifier",T="QuotedIdentifier",m="Rbracket",_="Rparen",j="Comma",A="Colon",q="Rbrace",Z="Number",$="Current",se="Expref",Ie="Pipe",me="Or",de="And",Oe="EQ",Ae="GT",He="LT",Fe="GTE",Te="LTE",lt="NE",Pe="Flatten",Ge="Star",je="Filter",ut="Dot",Nt="Not",st="Lbrace",ht="Lbracket",fr="Lparen",Xt="Literal",si={".":ut,"*":Ge,",":j,":":A,"{":st,"}":q,"]":m,"(":fr,")":_,"@":$},Ss={"<":!0,">":!0,"=":!0,"!":!0},Cs={" ":!0,"	":!0,"\n":!0};function Yt(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="_"}function Qt(l){return l>="0"&&l<="9"||l==="-"}function Ns(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="_"}function dn(){}dn.prototype={tokenize:function(l){var f=[];this._current=0;for(var p,y,R;this._current<l.length;)if(Yt(l[this._current]))p=this._current,y=this._consumeUnquotedIdentifier(l),f.push({type:k,value:y,start:p});else if(si[l[this._current]]!==void 0)f.push({type:si[l[this._current]],value:l[this._current],start:this._current}),this._current++;else if(Qt(l[this._current]))R=this._consumeNumber(l),f.push(R);else if(l[this._current]==="[")R=this._consumeLBracket(l),f.push(R);else if(l[this._current]==='"')p=this._current,y=this._consumeQuotedIdentifier(l),f.push({type:T,value:y,start:p});else if(l[this._current]==="'")p=this._current,y=this._consumeRawStringLiteral(l),f.push({type:Xt,value:y,start:p});else if(l[this._current]==="`"){p=this._current;var x=this._consumeLiteral(l);f.push({type:Xt,value:x,start:p})}else if(Ss[l[this._current]]!==void 0)f.push(this._consumeOperator(l));else if(Cs[l[this._current]]!==void 0)this._current++;else if(l[this._current]==="&")p=this._current,this._current++,l[this._current]==="&"?(this._current++,f.push({type:de,value:"&&",start:p})):f.push({type:se,value:"&",start:p});else if(l[this._current]==="|")p=this._current,this._current++,l[this._current]==="|"?(this._current++,f.push({type:me,value:"||",start:p})):f.push({type:Ie,value:"|",start:p});else{var F=new Error("Unknown character:"+l[this._current]);throw F.name="LexerError",F}return f},_consumeUnquotedIdentifier:function(l){var f=this._current;for(this._current++;this._current<l.length&&Ns(l[this._current]);)this._current++;return l.slice(f,this._current)},_consumeQuotedIdentifier:function(l){var f=this._current;this._current++;for(var p=l.length;l[this._current]!=='"'&&this._current<p;){var y=this._current;l[y]==="\\"&&(l[y+1]==="\\"||l[y+1]==='"')?y+=2:y++,this._current=y}return this._current++,JSON.parse(l.slice(f,this._current))},_consumeRawStringLiteral:function(l){var f=this._current;this._current++;for(var p=l.length;l[this._current]!=="'"&&this._current<p;){var y=this._current;l[y]==="\\"&&(l[y+1]==="\\"||l[y+1]==="'")?y+=2:y++,this._current=y}this._current++;var R=l.slice(f+1,this._current-1);return R.replace("\\'","'")},_consumeNumber:function(l){var f=this._current;this._current++;for(var p=l.length;Qt(l[this._current])&&this._current<p;)this._current++;var y=parseInt(l.slice(f,this._current));return{type:Z,value:y,start:f}},_consumeLBracket:function(l){var f=this._current;return this._current++,l[this._current]==="?"?(this._current++,{type:je,value:"[?",start:f}):l[this._current]==="]"?(this._current++,{type:Pe,value:"[]",start:f}):{type:ht,value:"[",start:f}},_consumeOperator:function(l){var f=this._current,p=l[f];if(this._current++,p==="!")return l[this._current]==="="?(this._current++,{type:lt,value:"!=",start:f}):{type:Nt,value:"!",start:f};if(p==="<")return l[this._current]==="="?(this._current++,{type:Te,value:"<=",start:f}):{type:He,value:"<",start:f};if(p===">")return l[this._current]==="="?(this._current++,{type:Fe,value:">=",start:f}):{type:Ae,value:">",start:f};if(p==="="&&l[this._current]==="=")return this._current++,{type:Oe,value:"==",start:f}},_consumeLiteral:function(l){this._current++;for(var f=this._current,p=l.length,y;l[this._current]!=="`"&&this._current<p;){var R=this._current;l[R]==="\\"&&(l[R+1]==="\\"||l[R+1]==="`")?R+=2:R++,this._current=R}var x=a(l.slice(f,this._current));return x=x.replace("\\`","`"),this._looksLikeJSON(x)?y=JSON.parse(x):y=JSON.parse('"'+x+'"'),this._current++,y},_looksLikeJSON:function(l){var f='[{"',p=["true","false","null"],y="-0123456789";if(l==="")return!1;if(f.indexOf(l[0])>=0)return!0;if(p.indexOf(l)>=0)return!0;if(y.indexOf(l[0])>=0)try{return JSON.parse(l),!0}catch(R){return!1}else return!1}};var X={};X[J]=0,X[k]=0,X[T]=0,X[m]=0,X[_]=0,X[j]=0,X[q]=0,X[Z]=0,X[$]=0,X[se]=0,X[Ie]=1,X[me]=2,X[de]=3,X[Oe]=5,X[Ae]=5,X[He]=5,X[Fe]=5,X[Te]=5,X[lt]=5,X[Pe]=9,X[Ge]=20,X[je]=21,X[ut]=40,X[Nt]=45,X[st]=50,X[ht]=55,X[fr]=60;function Lr(){}Lr.prototype={parse:function(l){this._loadTokens(l),this.index=0;var f=this.expression(0);if(this._lookahead(0)!==J){var p=this._lookaheadToken(0),y=new Error("Unexpected token type: "+p.type+", value: "+p.value);throw y.name="ParserError",y}return f},_loadTokens:function(l){var f=new dn(),p=f.tokenize(l);p.push({type:J,value:"",start:l.length}),this.tokens=p},expression:function(l){var f=this._lookaheadToken(0);this._advance();for(var p=this.nud(f),y=this._lookahead(0);l<X[y];)this._advance(),p=this.led(y,p),y=this._lookahead(0);return p},_lookahead:function(l){return this.tokens[this.index+l].type},_lookaheadToken:function(l){return this.tokens[this.index+l]},_advance:function(){this.index++},nud:function(l){var f,p,y;switch(l.type){case Xt:return{type:"Literal",value:l.value};case k:return{type:"Field",name:l.value};case T:var R={type:"Field",name:l.value};if(this._lookahead(0)===fr)throw new Error("Quoted identifier not allowed for function names.");return R;break;case Nt:return p=this.expression(X.Not),{type:"NotExpression",children:[p]};case Ge:return f={type:"Identity"},p=null,this._lookahead(0)===m?p={type:"Identity"}:p=this._parseProjectionRHS(X.Star),{type:"ValueProjection",children:[f,p]};case je:return this.led(l.type,{type:"Identity"});case st:return this._parseMultiselectHash();case Pe:return f={type:Pe,children:[{type:"Identity"}]},p=this._parseProjectionRHS(X.Flatten),{type:"Projection",children:[f,p]};case ht:if(this._lookahead(0)===Z||this._lookahead(0)===A)return p=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},p);return this._lookahead(0)===Ge&&this._lookahead(1)===m?(this._advance(),this._advance(),p=this._parseProjectionRHS(X.Star),{type:"Projection",children:[{type:"Identity"},p]}):this._parseMultiselectList();break;case $:return{type:$};case se:return y=this.expression(X.Expref),{type:"ExpressionReference",children:[y]};case fr:for(var x=[];this._lookahead(0)!==_;)this._lookahead(0)===$?(y={type:$},this._advance()):y=this.expression(0),x.push(y);return this._match(_),x[0];default:this._errorToken(l)}},led:function(l,f){var p;switch(l){case ut:var y=X.Dot;if(this._lookahead(0)!==Ge)return p=this._parseDotRHS(y),{type:"Subexpression",children:[f,p]};return this._advance(),p=this._parseProjectionRHS(y),{type:"ValueProjection",children:[f,p]};break;case Ie:return p=this.expression(X.Pipe),{type:Ie,children:[f,p]};case me:return p=this.expression(X.Or),{type:"OrExpression",children:[f,p]};case de:return p=this.expression(X.And),{type:"AndExpression",children:[f,p]};case fr:for(var R=f.name,x=[],F,Y;this._lookahead(0)!==_;)this._lookahead(0)===$?(F={type:$},this._advance()):F=this.expression(0),this._lookahead(0)===j&&this._match(j),x.push(F);return this._match(_),Y={type:"Function",name:R,children:x},Y;case je:var Re=this.expression(0);return this._match(m),this._lookahead(0)===Pe?p={type:"Identity"}:p=this._parseProjectionRHS(X.Filter),{type:"FilterProjection",children:[f,p,Re]};case Pe:var dr={type:Pe,children:[f]},Ue=this._parseProjectionRHS(X.Flatten);return{type:"Projection",children:[dr,Ue]};case Oe:case lt:case Ae:case Fe:case He:case Te:return this._parseComparator(f,l);case ht:var Q=this._lookaheadToken(0);if(Q.type===Z||Q.type===A)return p=this._parseIndexExpression(),this._projectIfSlice(f,p);return this._match(Ge),this._match(m),p=this._parseProjectionRHS(X.Star),{type:"Projection",children:[f,p]};break;default:this._errorToken(this._lookaheadToken(0))}},_match:function(l){if(this._lookahead(0)===l)this._advance();else{var f=this._lookaheadToken(0),p=new Error("Expected "+l+", got: "+f.type);throw p.name="ParserError",p}},_errorToken:function(l){var f=new Error("Invalid token ("+l.type+'): "'+l.value+'"');throw f.name="ParserError",f},_parseIndexExpression:function(){if(this._lookahead(0)===A||this._lookahead(1)===A)return this._parseSliceExpression();var l={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(m),l},_projectIfSlice:function(l,f){var p={type:"IndexExpression",children:[l,f]};return f.type==="Slice"?{type:"Projection",children:[p,this._parseProjectionRHS(X.Star)]}:p},_parseSliceExpression:function(){for(var l=[null,null,null],f=0,p=this._lookahead(0);p!==m&&f<3;){if(p===A)f++,this._advance();else if(p===Z)l[f]=this._lookaheadToken(0).value,this._advance();else{var y=this._lookahead(0),R=new Error("Syntax error, unexpected token: "+y.value+"("+y.type+")");throw R.name="Parsererror",R}p=this._lookahead(0)}return this._match(m),{type:"Slice",children:l}},_parseComparator:function(l,f){var p=this.expression(X[f]);return{type:"Comparator",name:f,children:[l,p]}},_parseDotRHS:function(l){var f=this._lookahead(0),p=[k,T,Ge];if(p.indexOf(f)>=0)return this.expression(l);if(f===ht)return this._match(ht),this._parseMultiselectList();if(f===st)return this._match(st),this._parseMultiselectHash()},_parseProjectionRHS:function(l){var f;if(X[this._lookahead(0)]<10)f={type:"Identity"};else if(this._lookahead(0)===ht)f=this.expression(l);else if(this._lookahead(0)===je)f=this.expression(l);else if(this._lookahead(0)===ut)this._match(ut),f=this._parseDotRHS(l);else{var p=this._lookaheadToken(0),y=new Error("Sytanx error, unexpected token: "+p.value+"("+p.type+")");throw y.name="ParserError",y}return f},_parseMultiselectList:function(){for(var l=[];this._lookahead(0)!==m;){var f=this.expression(0);if(l.push(f),this._lookahead(0)===j&&(this._match(j),this._lookahead(0)===m))throw new Error("Unexpected token Rbracket")}return this._match(m),{type:"MultiSelectList",children:l}},_parseMultiselectHash:function(){for(var l=[],f=[k,T],p,y,R,x;;){if(p=this._lookaheadToken(0),f.indexOf(p.type)<0)throw new Error("Expecting an identifier token, got: "+p.type);if(y=p.value,this._advance(),this._match(A),R=this.expression(0),x={type:"KeyValuePair",name:y,value:R},l.push(x),this._lookahead(0)===j)this._match(j);else if(this._lookahead(0)===q){this._match(q);break}}return{type:"MultiSelectHash",children:l}}};function Pt(l){this.runtime=l}Pt.prototype={search:function(l,f){return this.visit(l,f)},visit:function(l,f){var p,y,R,x,F,Y,Re,dr,Ue,Q;switch(l.type){case"Field":if(f===null)return null;return r(f)?(Y=f[l.name],Y===void 0?null:Y):null;break;case"Subexpression":for(R=this.visit(l.children[0],f),Q=1;Q<l.children.length;Q++)if(R=this.visit(l.children[1],R),R===null)return null;return R;case"IndexExpression":return Re=this.visit(l.children[0],f),dr=this.visit(l.children[1],Re),dr;case"Index":if(!t(f))return null;var xt=l.value;return xt<0&&(xt=f.length+xt),R=f[xt],R===void 0&&(R=null),R;case"Slice":if(!t(f))return null;var qE=l.children.slice(0),Is=this.computeSliceParams(f.length,qE),vl=Is[0],yl=Is[1],Os=Is[2];if(R=[],Os>0)for(Q=vl;Q<yl;Q+=Os)R.push(f[Q]);else for(Q=vl;Q>yl;Q+=Os)R.push(f[Q]);return R;case"Projection":var yt=this.visit(l.children[0],f);if(!t(yt))return null;for(Ue=[],Q=0;Q<yt.length;Q++)y=this.visit(l.children[1],yt[Q]),y!==null&&Ue.push(y);return Ue;case"ValueProjection":if(yt=this.visit(l.children[0],f),!r(yt))return null;Ue=[];var Tl=s(yt);for(Q=0;Q<Tl.length;Q++)y=this.visit(l.children[1],Tl[Q]),y!==null&&Ue.push(y);return Ue;case"FilterProjection":if(yt=this.visit(l.children[0],f),!t(yt))return null;var As=[],Rl=[];for(Q=0;Q<yt.length;Q++)p=this.visit(l.children[2],yt[Q]),i(p)||As.push(yt[Q]);for(var Ls=0;Ls<As.length;Ls++)y=this.visit(l.children[1],As[Ls]),y!==null&&Rl.push(y);return Rl;case"Comparator":x=this.visit(l.children[0],f),F=this.visit(l.children[1],f);switch(l.name){case Oe:R=n(x,F);break;case lt:R=!n(x,F);break;case Ae:R=x>F;break;case Fe:R=x>=F;break;case He:R=x<F;break;case Te:R=x<=F;break;default:throw new Error("Unknown comparator: "+l.name)}return R;case Pe:var Ps=this.visit(l.children[0],f);if(!t(Ps))return null;var oi=[];for(Q=0;Q<Ps.length;Q++)y=Ps[Q],t(y)?oi.push.apply(oi,y):oi.push(y);return oi;case"Identity":return f;case"MultiSelectList":if(f===null)return null;for(Ue=[],Q=0;Q<l.children.length;Q++)Ue.push(this.visit(l.children[Q],f));return Ue;case"MultiSelectHash":if(f===null)return null;Ue={};var xs;for(Q=0;Q<l.children.length;Q++)xs=l.children[Q],Ue[xs.name]=this.visit(xs.value,f);return Ue;case"OrExpression":return p=this.visit(l.children[0],f),i(p)&&(p=this.visit(l.children[1],f)),p;case"AndExpression":return x=this.visit(l.children[0],f),i(x)===!0?x:this.visit(l.children[1],f);case"NotExpression":return x=this.visit(l.children[0],f),i(x);case"Literal":return l.value;case Ie:return Re=this.visit(l.children[0],f),this.visit(l.children[1],Re);case $:return f;case"Function":var bl=[];for(Q=0;Q<l.children.length;Q++)bl.push(this.visit(l.children[Q],f));return this.runtime.callFunction(l.name,bl);case"ExpressionReference":var _l=l.children[0];return _l.jmespathType=se,_l;default:throw new Error("Unknown node type: "+l.type)}},computeSliceParams:function(l,f){var p=f[0],y=f[1],R=f[2],x=[null,null,null];if(R===null)R=1;else if(R===0){var F=new Error("Invalid slice, step cannot be 0");throw F.name="RuntimeError",F}var Y=R<0;return p===null?p=Y?l-1:0:p=this.capSliceRange(l,p,R),y===null?y=Y?-1:l:y=this.capSliceRange(l,y,R),x[0]=p,x[1]=y,x[2]=R,x},capSliceRange:function(l,f,p){return f<0?(f+=l,f<0&&(f=p<0?-1:0)):f>=l&&(f=p<0?l-1:l),f}};function E(l){this._interpreter=l,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[c]}]},avg:{_func:this._functionAvg,_signature:[{types:[B]}]},ceil:{_func:this._functionCeil,_signature:[{types:[c]}]},contains:{_func:this._functionContains,_signature:[{types:[h,d]},{types:[u]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[h]},{types:[h]}]},floor:{_func:this._functionFloor,_signature:[{types:[c]}]},length:{_func:this._functionLength,_signature:[{types:[h,d,g]}]},map:{_func:this._functionMap,_signature:[{types:[N]},{types:[d]}]},max:{_func:this._functionMax,_signature:[{types:[B,D]}]},merge:{_func:this._functionMerge,_signature:[{types:[g],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[d]},{types:[N]}]},sum:{_func:this._functionSum,_signature:[{types:[B]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[h]},{types:[h]}]},min:{_func:this._functionMin,_signature:[{types:[B,D]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[d]},{types:[N]}]},type:{_func:this._functionType,_signature:[{types:[u]}]},keys:{_func:this._functionKeys,_signature:[{types:[g]}]},values:{_func:this._functionValues,_signature:[{types:[g]}]},sort:{_func:this._functionSort,_signature:[{types:[D,B]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[d]},{types:[N]}]},join:{_func:this._functionJoin,_signature:[{types:[h]},{types:[D]}]},reverse:{_func:this._functionReverse,_signature:[{types:[h,d]}]},to_array:{_func:this._functionToArray,_signature:[{types:[u]}]},to_string:{_func:this._functionToString,_signature:[{types:[u]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[u]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[u],variadic:!0}]}}}E.prototype={callFunction:function(l,f){var p=this.functionTable[l];if(p===void 0)throw new Error("Unknown function: "+l+"()");return this._validateArgs(l,f,p._signature),p._func.call(this,f)},_validateArgs:function(l,f,p){var y;if(p[p.length-1].variadic){if(f.length<p.length)throw y=p.length===1?" argument":" arguments",new Error("ArgumentError: "+l+"() takes at least"+p.length+y+" but received "+f.length)}else if(f.length!==p.length)throw y=p.length===1?" argument":" arguments",new Error("ArgumentError: "+l+"() takes "+p.length+y+" but received "+f.length);for(var R,x,F,Y=0;Y<p.length;Y++){F=!1,R=p[Y].types,x=this._getTypeName(f[Y]);for(var Re=0;Re<R.length;Re++)if(this._typeMatches(x,R[Re],f[Y])){F=!0;break}if(!F)throw new Error("TypeError: "+l+"() expected argument "+(Y+1)+" to be type "+R+" but received type "+x+" instead.")}},_typeMatches:function(l,f,p){if(f===u)return!0;if(f===D||f===B||f===d){if(f===d)return l===d;if(l===d){var y;f===B?y=c:f===D&&(y=h);for(var R=0;R<p.length;R++)if(!this._typeMatches(this._getTypeName(p[R]),y,p[R]))return!1;return!0}}else return l===f},_getTypeName:function(l){switch(Object.prototype.toString.call(l)){case"[object String]":return h;case"[object Number]":return c;case"[object Array]":return d;case"[object Boolean]":return C;case"[object Null]":return U;case"[object Object]":return l.jmespathType===se?N:g}},_functionStartsWith:function(l){return l[0].lastIndexOf(l[1])===0},_functionEndsWith:function(l){var f=l[0],p=l[1];return f.indexOf(p,f.length-p.length)!==-1},_functionReverse:function(l){var f=this._getTypeName(l[0]);if(f===h){for(var p=l[0],y="",R=p.length-1;R>=0;R--)y+=p[R];return y}else{var x=l[0].slice(0);return x.reverse(),x}},_functionAbs:function(l){return Math.abs(l[0])},_functionCeil:function(l){return Math.ceil(l[0])},_functionAvg:function(l){for(var f=0,p=l[0],y=0;y<p.length;y++)f+=p[y];return f/p.length},_functionContains:function(l){return l[0].indexOf(l[1])>=0},_functionFloor:function(l){return Math.floor(l[0])},_functionLength:function(l){return r(l[0])?Object.keys(l[0]).length:l[0].length},_functionMap:function(l){for(var f=[],p=this._interpreter,y=l[0],R=l[1],x=0;x<R.length;x++)f.push(p.visit(y,R[x]));return f},_functionMerge:function(l){for(var f={},p=0;p<l.length;p++){var y=l[p];for(var R in y)f[R]=y[R]}return f},_functionMax:function(l){if(l[0].length>0){var f=this._getTypeName(l[0][0]);if(f===c)return Math.max.apply(Math,l[0]);for(var p=l[0],y=p[0],R=1;R<p.length;R++)y.localeCompare(p[R])<0&&(y=p[R]);return y}else return null},_functionMin:function(l){if(l[0].length>0){var f=this._getTypeName(l[0][0]);if(f===c)return Math.min.apply(Math,l[0]);for(var p=l[0],y=p[0],R=1;R<p.length;R++)p[R].localeCompare(y)<0&&(y=p[R]);return y}else return null},_functionSum:function(l){for(var f=0,p=l[0],y=0;y<p.length;y++)f+=p[y];return f},_functionType:function(l){switch(this._getTypeName(l[0])){case c:return"number";case h:return"string";case d:return"array";case g:return"object";case C:return"boolean";case N:return"expref";case U:return"null"}},_functionKeys:function(l){return Object.keys(l[0])},_functionValues:function(l){for(var f=l[0],p=Object.keys(f),y=[],R=0;R<p.length;R++)y.push(f[p[R]]);return y},_functionJoin:function(l){var f=l[0],p=l[1];return p.join(f)},_functionToArray:function(l){return this._getTypeName(l[0])===d?l[0]:[l[0]]},_functionToString:function(l){return this._getTypeName(l[0])===h?l[0]:JSON.stringify(l[0])},_functionToNumber:function(l){var f=this._getTypeName(l[0]),p;return f===c?l[0]:f===h&&(p=+l[0],!isNaN(p))?p:null},_functionNotNull:function(l){for(var f=0;f<l.length;f++)if(this._getTypeName(l[f])!==U)return l[f];return null},_functionSort:function(l){var f=l[0].slice(0);return f.sort(),f},_functionSortBy:function(l){var f=l[0].slice(0);if(f.length===0)return f;var p=this._interpreter,y=l[1],R=this._getTypeName(p.visit(y,f[0]));if([c,h].indexOf(R)<0)throw new Error("TypeError");for(var x=this,F=[],Y=0;Y<f.length;Y++)F.push([Y,f[Y]]);F.sort(function(dr,Ue){var Q=p.visit(y,dr[1]),xt=p.visit(y,Ue[1]);if(x._getTypeName(Q)!==R)throw new Error("TypeError: expected "+R+", received "+x._getTypeName(Q));if(x._getTypeName(xt)!==R)throw new Error("TypeError: expected "+R+", received "+x._getTypeName(xt));return Q>xt?1:Q<xt?-1:dr[0]-Ue[0]});for(var Re=0;Re<F.length;Re++)f[Re]=F[Re][1];return f},_functionMaxBy:function(l){for(var f=l[1],p=l[0],y=this.createKeyFunction(f,[c,h]),R=-Infinity,x,F,Y=0;Y<p.length;Y++)F=y(p[Y]),F>R&&(R=F,x=p[Y]);return x},_functionMinBy:function(l){for(var f=l[1],p=l[0],y=this.createKeyFunction(f,[c,h]),R=Infinity,x,F,Y=0;Y<p.length;Y++)F=y(p[Y]),F<R&&(R=F,x=p[Y]);return x},createKeyFunction:function(l,f){var p=this,y=this._interpreter,R=function(x){var F=y.visit(l,x);if(f.indexOf(p._getTypeName(F))<0){var Y="TypeError: expected one of "+f+", received "+p._getTypeName(F);throw new Error(Y)}return F};return R}};function O(l){var f=new Lr(),p=f.parse(l);return p}function M(l){var f=new dn();return f.tokenize(l)}function G(l,f){var p=new Lr(),y=new E(),R=new Pt(y);y._interpreter=R;var x=p.parse(f);return R.search(x,l)}e.tokenize=M,e.compile=O,e.search=G,e.strictDeepEqual=n})(typeof gs=="undefined"?gs.jmespath={}:gs)});var Es=v((nx,Em)=>{"use strict";Em.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN ",30:"INFO ",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","v","caller"]}});var kc=v((ix,vm)=>{"use strict";const{LEVELS:vs,LEVEL_NAMES:IN}=Es(),ur=e=>e,ym={default:ur,60:ur,50:ur,40:ur,30:ur,20:ur,10:ur,message:ur},ON=Dc(),hr=new ON.Instance({level:3}),Tm={default:hr.white,60:hr.bgRed,50:hr.red,40:hr.yellow,30:hr.green,20:hr.blue,10:hr.grey,message:hr.cyan};function Rm(e,t){if(Number.isInteger(+e))return Object.prototype.hasOwnProperty.call(vs,e)?t[e](vs[e]):t.default(vs.default);const r=IN[e.toLowerCase()]||"default";return t[r](vs[r])}function bm(e){return Rm(e,ym)}bm.message=ym.message;function _m(e){return Rm(e,Tm)}_m.message=Tm.message;vm.exports=function(t=!1){return t?_m:bm}});var Sm=v((Mc,wm)=>{(function(e){"use strict";var t=function(){var o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g;return function(u,h,d,g){if(arguments.length===1&&s(u)==="string"&&!/\d/.test(u)&&(h=u,u=void 0),u=u||new Date(),u instanceof Date||(u=new Date(u)),isNaN(u))throw TypeError("Invalid date");h=String(t.masks[h]||h||t.masks.default);var C=h.slice(0,4);(C==="UTC:"||C==="GMT:")&&(h=h.slice(4),d=!0,C==="GMT:"&&(g=!0));var N=d?"getUTC":"get",U=u[N+"Date"](),B=u[N+"Day"](),D=u[N+"Month"](),J=u[N+"FullYear"](),k=u[N+"Hours"](),T=u[N+"Minutes"](),m=u[N+"Seconds"](),_=u[N+"Milliseconds"](),j=d?0:u.getTimezoneOffset(),A=n(u),q=i(u),Z={d:U,dd:r(U),ddd:t.i18n.dayNames[B],dddd:t.i18n.dayNames[B+7],m:D+1,mm:r(D+1),mmm:t.i18n.monthNames[D],mmmm:t.i18n.monthNames[D+12],yy:String(J).slice(2),yyyy:J,h:k%12||12,hh:r(k%12||12),H:k,HH:r(k),M:T,MM:r(T),s:m,ss:r(m),l:r(_,3),L:r(Math.round(_/10)),t:k<12?t.i18n.timeNames[0]:t.i18n.timeNames[1],tt:k<12?t.i18n.timeNames[2]:t.i18n.timeNames[3],T:k<12?t.i18n.timeNames[4]:t.i18n.timeNames[5],TT:k<12?t.i18n.timeNames[6]:t.i18n.timeNames[7],Z:g?"GMT":d?"UTC":(String(u).match(a)||[""]).pop().replace(c,""),o:(j>0?"-":"+")+r(Math.floor(Math.abs(j)/60)*100+Math.abs(j)%60,4),S:["th","st","nd","rd"][U%10>3?0:(U%100-U%10!=10)*U%10],W:A,N:q};return h.replace(o,function($){return $ in Z?Z[$]:$.slice(1,$.length-1)})}}();t.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function r(o,a){for(o=String(o),a=a||2;o.length<a;)o="0"+o;return o}function n(o){var a=new Date(o.getFullYear(),o.getMonth(),o.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var c=new Date(a.getFullYear(),0,4);c.setDate(c.getDate()-(c.getDay()+6)%7+3);var u=a.getTimezoneOffset()-c.getTimezoneOffset();a.setHours(a.getHours()-u);var h=(a-c)/(864e5*7);return 1+Math.floor(h)}function i(o){var a=o.getDay();return a===0&&(a=7),a}function s(o){return o===null?"null":o===void 0?"undefined":typeof o!="object"?typeof o:Array.isArray(o)?"array":{}.toString.call(o).slice(8,-1).toLowerCase()}typeof define=="function"&&define.amd?define(function(){return t}):typeof Mc=="object"?wm.exports=t:e.dateFormat=t})(Mc)});var Dm=v((sx,qc)=>{"use strict";const Zn=Sm(),AN=wc(),Cm=kc()(),{DATE_FORMAT:Nm,ERROR_LIKE_KEYS:Im,MESSAGE_KEY:Om,LEVEL_KEY:LN,TIMESTAMP_KEY:PN,LOGGER_KEYS:Am}=Es();qc.exports={isObject:Lm,prettifyErrorLog:xN,prettifyLevel:DN,prettifyMessage:kN,prettifyMetadata:MN,prettifyObject:Pm,prettifyTime:qN};qc.exports.internals={formatTime:xm,joinLinesWithIndentation:Fc};function xm(e,t=!1){if(t===!1)return e;const r=new Date(e);if(t===!0)return Zn(r,"UTC:"+Nm);const n=t.toUpperCase();if(n==="SYS:STANDARD")return Zn(r,Nm);const i=n.substr(0,4);return i==="SYS:"||i==="UTC:"?i==="UTC:"?Zn(r,t):Zn(r,t.slice(4)):Zn(r,`UTC:${t}`)}function Lm(e){return Object.prototype.toString.apply(e)==="[object Object]"}function Fc({input:e,ident:t="    ",eol:r=`
`}){const n=e.split(/\r?\n/);for(var i=1;i<n.length;i+=1)n[i]=t+n[i];return n.join(r)}function xN({log:e,messageKey:t=Om,ident:r="    ",eol:n=`
`,errorLikeKeys:i=Im,errorProperties:s=[]}){const o=e.stack,a=Fc({input:o,ident:r,eol:n});let c=`${r}${a}${n}`;if(s.length>0){const h=Am.concat(t,"type","stack");let d;s[0]==="*"?d=Object.keys(e).filter(g=>h.includes(g)===!1):d=s.filter(g=>h.includes(g)===!1);for(var u=0;u<d.length;u+=1){const g=d[u];if(g in e===!1)continue;if(Lm(e[g])){const C=Pm({input:e[g],errorLikeKeys:i,excludeLoggerKeys:!1,eol:n,ident:r});c=`${c}${g}: {${n}${C}}${n}`;continue}c=`${c}${g}: ${e[g]}${n}`}}return c}function DN({log:e,colorizer:t=Cm,levelKey:r=LN}){return r in e===!1?void 0:t(e[r])}function kN({log:e,messageFormat:t,messageKey:r=Om,colorizer:n=Cm}){if(t){const i=String(t).replace(/{([^{}]+)}/g,function(s,o){return o&&e[o]?e[o]:""});return n.message(i)}return r in e===!1||typeof e[r]!="string"?void 0:n.message(e[r])}function MN({log:e}){let t="";return(e.name||e.pid||e.hostname)&&(t+="(",e.name&&(t+=e.name),e.name&&e.pid?t+="/"+e.pid:e.pid&&(t+=e.pid),e.hostname&&(t+=`${t==="("?"on":" on"} ${e.hostname}`),t+=")"),e.caller&&(t+=`${t===""?"":" "}<${e.caller}>`),t===""?void 0:t}function Pm({input:e,ident:t="    ",eol:r=`
`,skipKeys:n=[],customPrettifiers:i={},errorLikeKeys:s=Im,excludeLoggerKeys:o=!0}){const a=Object.keys(e),c=[].concat(n);o===!0&&Array.prototype.push.apply(c,Am);let u="";const h=a.filter(C=>c.includes(C)===!1);for(var d=0;d<a.length;d+=1){const C=h[d],N=e[C];if(N===void 0)continue;let U;if(typeof i[C]=="function"?U=i[C](N,C,e):U=AN(N,null,2),U===void 0)continue;const B=Fc({input:U,ident:t,eol:r});if(s.includes(C)===!0){const D=`${t}${C}: ${B}${r}`.split(r);for(var g=0;g<D.length;g+=1){g!==0&&(u+=r);const J=D[g];if(/^\s*"stack"/.test(J)){const k=/^(\s*"stack":)\s*(".*"),?$/.exec(J);if(k&&k.length===3){const T=/^\s*/.exec(J)[0].length+4,m=" ".repeat(T),_=k[2];u+=k[1]+r+m+JSON.parse(_).replace(/\n/g,r+m)}}else u+=J}}else u+=`${t}${C}: ${B}${r}`}return u}function qN({log:e,timestampKey:t=PN,translateFormat:r=void 0}){let n=null;return t in e?n=e[t]:"timestamp"in e&&(n=e.timestamp),n===null?void 0:r?"["+xm(n,r)+"]":`[${n}]`}});var km=v(hn=>{"use strict";const FN={suspectRx:/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/};hn.parse=function(e,...t){const r=typeof t[0]=="object"&&t[0],n=t.length>1||!r?t[0]:void 0,i=t.length>1&&t[1]||r||{},s=JSON.parse(e,n);return i.protoAction==="ignore"||(!s||typeof s!="object"||e.match(FN.suspectRx)&&hn.scan(s,i)),s};hn.scan=function(e,t={}){let r=[e];for(;r.length;){const n=r;r=[];for(const i of n){if(Object.prototype.hasOwnProperty.call(i,"__proto__")){if(t.protoAction!=="remove")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}for(const s in i){const o=i[s];o&&typeof o=="object"&&r.push(i[s])}}}};hn.safeParse=function(e,t){try{return hn.parse(e,t)}catch(r){return null}}});var Fm=v((ax,Mm)=>{"use strict";const jN=Dc(),UN=gm(),BN=kc(),{ERROR_LIKE_KEYS:WN,MESSAGE_KEY:HN,TIMESTAMP_KEY:GN}=Es(),{isObject:qm,prettifyErrorLog:$N,prettifyLevel:VN,prettifyMessage:zN,prettifyMetadata:XN,prettifyObject:YN,prettifyTime:QN}=Dm(),KN=km(),JN=e=>{try{return{value:KN.parse(e,{protoAction:"remove"})}}catch(t){return{err:t}}},ZN={colorize:jN.supportsColor,crlf:!1,errorLikeObjectKeys:WN,errorProps:"",levelFirst:!1,messageKey:HN,messageFormat:!1,timestampKey:GN,translateTime:!1,useMetadata:!1,outputStream:process.stdout,customPrettifiers:{}};Mm.exports=function(t){const r=Object.assign({},ZN,t),n=r.crlf?`\r
`:`
`,i="    ",s=r.messageKey,o=r.levelKey,a=r.messageFormat,c=r.timestampKey,u=r.errorLikeObjectKeys,h=r.errorProps.split(","),d=r.customPrettifiers,g=r.ignore?new Set(r.ignore.split(",")):void 0,C=BN(r.colorize),N=r.search;return U;function U(B){let D;if(qm(B))D=B;else{const j=JN(B);if(j.err||!qm(j.value))return B+n;D=j.value}if(N&&!UN.search(D,N))return;const J=zN({log:D,messageKey:s,colorizer:C,messageFormat:a});g&&(D=Object.keys(D).filter(j=>!g.has(j)).reduce((j,A)=>(j[A]=D[A],j),{}));const k=VN({log:D,colorizer:C,levelKey:o}),T=XN({log:D}),m=QN({log:D,translateFormat:r.translateTime,timestampKey:c});let _="";if(r.levelFirst&&k&&(_=`${k}`),m&&_===""?_=`${m}`:m&&(_=`${_} ${m}`),!r.levelFirst&&k&&(_.length>0?_=`${_} ${k}`:_=k),T&&(_=`${_} ${T}:`),_.endsWith(":")===!1&&_!==""&&(_+=":"),J&&(_=`${_} ${J}`),_.length>0&&(_+=n),D.type==="Error"&&D.stack){const j=$N({log:D,errorLikeKeys:u,errorProperties:h,ident:i,eol:n});_+=j}else{const j=[s,o,c].filter(q=>typeof D[q]=="string"||typeof D[q]=="number"),A=YN({input:D,skipKeys:j,customPrettifiers:d,errorLikeKeys:u,eol:n,ident:i});_+=A}return _}}});var Ts=v((cx,jm)=>{"use strict";const Um=Dp(),{mapHttpRequest:eI,mapHttpResponse:tI}=fc(),Bm=Rc(),rI=wc(),{lsCacheSym:nI,chindingsSym:jc,parsedChindingsSym:Uc,writeSym:Wm,serializersSym:Bc,formatOptsSym:Hm,endSym:iI,stringifiersSym:Wc,stringifySym:Gm,wildcardFirstSym:$m,needsMetadataGsym:Vm,redactFmtSym:sI,streamSym:oI,nestedKeySym:zm,formattersSym:Hc,messageKeySym:Xm}=sn();function ei(){}function aI(e,t){if(!t)return r;return function(...i){t.call(this,i,r)};function r(n,...i){if(typeof n=="object"){var s=n;n!==null&&(n.method&&n.headers&&n.socket?n=eI(n):typeof n.setHeader=="function"&&(n=tI(n))),this[zm]&&(n={[this[zm]]:n});var o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),this[Wm](n,Um(s,o,this[Hm]),e)}else this[Wm](null,Um(n,i,this[Hm]),e)}}function cI(e){var t="",r=0,n=!1,i=255;const s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)i=e.charCodeAt(o),(i===34||i===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function lI(e,t,r,n){const i=this[Gm],s=this[Wc],o=this[iI],a=this[jc],c=this[Bc],u=this[Hc],h=this[Xm];var d=this[nI][r]+n;d=d+a;var g,C=e.hasOwnProperty===void 0;u.log&&(e=u.log(e)),t!==void 0&&(e[h]=t);const N=s[$m];for(var U in e)if(g=e[U],(C||e.hasOwnProperty(U))&&g!==void 0){g=c[U]?c[U](g):g;const B=s[U]||N;switch(typeof g){case"undefined":case"function":continue;case"number":Number.isFinite(g)===!1&&(g=null);case"boolean":B&&(g=B(g));break;case"string":g=(B||cI)(g);break;default:g=(B||i)(g)}if(g===void 0)continue;d+=',"'+U+'":'+g}return d+o}function uI(e,t){var r,n,i=e[jc];const s=e[Gm],o=e[Wc],a=o[$m],c=e[Bc],u=e[Hc].bindings;t=u(t);for(r in t){n=t[r];const h=r!=="level"&&r!=="serializers"&&r!=="formatters"&&r!=="customLevels"&&t.hasOwnProperty(r)&&n!==void 0;if(h===!0){if(n=c[r]?c[r](n):n,n=(o[r]||a||s)(n),n===void 0)continue;i+=',"'+r+'":'+n}}return i}function Ym(e,t,r,n){if(t&&typeof t=="function")return t=t.bind(n),Gc(t(e),r,e);try{var i=Fm();return i.asMetaWrapper=Gc,Gc(i(e),r,e)}catch(s){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function Gc(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);var n=!1;return{[Vm]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){if(r.suppressFlushSyncWarning||n)return;n=!0,Qm(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings())))},chindings(){const i=this.lastLogger;var s=null;return i?(i.hasOwnProperty(Uc)?s=i[Uc]:(s=JSON.parse("{"+i[jc].substr(1)+"}"),i[Uc]=s),s):null},write(i){const s=this.lastLogger,o=this.chindings();var a=this.lastTime;a.match(/^\d+/)&&(a=parseInt(a));var c=this.lastObj,u=this.lastMsg,h=null;const d=s[Hc],g=d.log?d.log(c):c,C=s[Xm];u&&g&&!g.hasOwnProperty(C)&&(g[C]=u);const N=Object.assign({level:this.lastLevel,time:a},g,h),U=s[Bc],B=Object.keys(U);for(var D,J=0;J<B.length;J++)D=B[J],N[D]!==void 0&&(N[D]=U[D](N[D]));for(D in o)N.hasOwnProperty(D)||(N[D]=o[D]);const k=s[Wc],T=k[sI],m=e(typeof T=="function"?T(N):N);if(m===void 0)return;Qm(t,this),t.write(m)}}}function hI(e){return e.write!==e.constructor.prototype.write}function ys(e){const t=new Bm(e);return t.on("error",r),t;function r(n){if(n.code==="EPIPE"){t.write=ei,t.end=ei,t.flushSync=ei,t.destroy=ei;return}t.removeListener("error",r),t.emit("error",n)}}function fI(e){return function(r,n={},i){if(typeof n=="string"?(i=ys({dest:n,sync:!0}),n={}):typeof i=="string"?i=ys({dest:i,sync:!0}):(n instanceof Bm||n.writable||n._writableState)&&(i=n,n=null),n=Object.assign({},e,n),"extreme"in n)throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in n)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in n&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),n.levelKey=n.changeLevelName,delete n.changeLevelName);const{enabled:s,prettyPrint:o,prettifier:a,messageKey:c}=n;if(s===!1&&(n.level="silent"),i=i||process.stdout,i===process.stdout&&i.fd>=0&&!hI(i)&&(i=ys({fd:i.fd,sync:!0})),o){const u=Object.assign({messageKey:c},o);i=Ym(u,a,i,r)}return{opts:n,stream:i}}}function dI(e,t){if(typeof e=="undefined"||typeof e.child!="function")throw Error("expected a pino logger instance");const r=typeof t!="undefined";if(r&&typeof t!="function")throw Error("if supplied, the handler parameter should be a function");const n=e[oI];if(typeof n.flushSync!="function")throw Error("final requires a stream that has a flushSync method, such as pino.destination");const i=new Proxy(e,{get:(s,o)=>o in s.levels.values?(...a)=>{s[o](...a),n.flushSync()}:s[o]});return r?(s=null,...o)=>{try{n.flushSync()}catch(a){}return t(s,i,...o)}:i}function pI(e){try{return JSON.stringify(e)}catch(t){return rI(e)}}function mI(e,t,r){return{level:e,bindings:t,log:r}}function Qm(e,t){e[Vm]===!0&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}jm.exports={noop:ei,buildSafeSonicBoom:ys,getPrettyStream:Ym,asChindings:uI,asJson:lI,genLog:aI,createArgsNormalizer:fI,final:dI,stringify:pI,buildFormatters:mI}});var zc=v((lx,Km)=>{"use strict";const gI=cs(),{lsCacheSym:EI,levelValSym:$c,useOnlyCustomLevelsSym:vI,streamSym:yI,formattersSym:TI,hooksSym:RI}=sn(),{noop:bI,genLog:Nr}=Ts(),Lt={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Jm={fatal:e=>{const t=Nr(Lt.fatal,e);return function(...r){const n=this[yI];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch(i){}}},error:e=>Nr(Lt.error,e),warn:e=>Nr(Lt.warn,e),info:e=>Nr(Lt.info,e),debug:e=>Nr(Lt.debug,e),trace:e=>Nr(Lt.trace,e)},Vc=Object.keys(Lt).reduce((e,t)=>(e[Lt[t]]=t,e),{}),_I=Object.keys(Vc).reduce((e,t)=>(e[t]=gI('{"level":'+Number(t)),e),{});function wI(e){const t=e[TI].level,{labels:r}=e.levels,n={};for(const i in r){const s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[EI]=n,e}function SI(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function CI(e){const{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);const n=this[$c],i=this[$c]=r[e],s=this[vI],o=this[RI].logMethod;for(var a in r){if(i>r[a]){this[a]=bI;continue}this[a]=SI(a,s)?Jm[a](o):Nr(r[a],o)}this.emit("level-change",e,i,t[n],n)}function NI(e){const{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function II(e){const{values:t}=this.levels,r=t[e];return r!==void 0&&r>=this[$c]}function OI(e=null,t=!1){const r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:Vc,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:Infinity}}),t?null:Lt,e);return{labels:n,values:i}}function AI(e,t,r){if(typeof e=="number"){const i=[].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(Vc).map(s=>+s),Infinity);if(!i.includes(e))throw Error(`default level:${e} must be included in custom levels`);return}const n=Object.assign(Object.create(Object.prototype,{silent:{value:Infinity}}),r?null:Lt,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function LI(e,t){const{labels:r,values:n}=e;for(const i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}Km.exports={initialLsCache:_I,genLsCache:wI,levelMethods:Jm,getLevel:NI,setLevel:CI,isLevelEnabled:II,mappings:OI,assertNoLevelCollisions:LI,assertDefaultLevelFound:AI}});var eg=v((ux,Zm)=>{Zm.exports={name:"pino",version:"6.5.0",description:"super fast, all natural json logger",main:"pino.js",browser:"./browser.js",files:["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],scripts:{docs:"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js",test:"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js",bench:"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},bin:{pino:"./bin.js"},precommit:"test",repository:{type:"git",url:"git+https://github.com/pinojs/pino.git"},keywords:["fast","logger","stream","json"],author:"Matteo Collina <hello@matteocollina.com>",contributors:["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],license:"MIT",bugs:{url:"https://github.com/pinojs/pino/issues"},homepage:"http://getpino.io",devDependencies:{airtap:"2.0.2",benchmark:"^2.1.4",bole:"^3.0.2",bunyan:"^1.8.12","docsify-cli":"^4.4.0",execa:"^1.0.0",fastbench:"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1",log:"^5.0.0",loglevel:"^1.6.7","pino-pretty":"^4.0.0","pre-commit":"^1.2.2",proxyquire:"^2.1.3",pump:"^3.0.0",semver:"^6.3.0",snazzy:"^8.0.0",split2:"^3.1.1",standard:"^14.3.3",steed:"^1.1.3","strip-ansi":"^6.0.0",tap:"^14.10.7",tape:"^4.13.2",through2:"^3.0.1",winston:"^3.2.1"},dependencies:{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7",flatstr:"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.0"}}});var Xc=v((hx,tg)=>{"use strict";const{version:PI}=eg();tg.exports={version:PI}});var ug=v((fx,rg)=>{"use strict";const{EventEmitter:xI}=require("events"),DI=Rc(),kI=cs(),{lsCacheSym:MI,levelValSym:qI,setLevelSym:Yc,getLevelSym:ng,chindingsSym:Qc,mixinSym:FI,asJsonSym:ig,writeSym:jI,timeSym:UI,timeSliceIndexSym:BI,streamSym:sg,serializersSym:Ir,formattersSym:Kc,useOnlyCustomLevelsSym:WI,needsMetadataGsym:HI}=sn(),{getLevel:GI,setLevel:$I,isLevelEnabled:VI,mappings:zI,initialLsCache:XI,genLsCache:YI,assertNoLevelCollisions:QI}=zc(),{asChindings:og,asJson:KI,buildFormatters:ag}=Ts(),{version:JI}=Xc(),ZI=class{},cg={constructor:ZI,child:eO,bindings:tO,setBindings:rO,flush:iO,isLevelEnabled:VI,version:JI,get level(){return this[ng]()},set level(e){this[Yc](e)},get levelVal(){return this[qI]},set levelVal(e){throw Error("levelVal is read-only")},[MI]:XI,[jI]:nO,[ig]:KI,[ng]:GI,[Yc]:$I};Object.setPrototypeOf(cg,xI.prototype);rg.exports=function(){return Object.create(cg)};const lg=e=>e;function eO(e){if(!e)throw Error("missing bindings for child Pino");const t=this[Ir],r=this[Kc],n=Object.create(this);if(e.hasOwnProperty("serializers")===!0){n[Ir]=Object.create(null);for(var i in t)n[Ir][i]=t[i];const u=Object.getOwnPropertySymbols(t);for(var s=0;s<u.length;s++){const d=u[s];n[Ir][d]=t[d]}for(var o in e.serializers)n[Ir][o]=e.serializers[o];const h=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<h.length;a++){const d=h[a];n[Ir][d]=e.serializers[d]}}else n[Ir]=t;if(e.hasOwnProperty("formatters")){const{level:u,bindings:h,log:d}=e.formatters;n[Kc]=ag(u||r.level,h||lg,d||r.log)}else n[Kc]=ag(r.level,lg,r.log);e.hasOwnProperty("customLevels")===!0&&(QI(this.levels,e.customLevels),n.levels=zI(e.customLevels,n[WI]),YI(n)),n[Qc]=og(n,e);const c=e.level||this.level;return n[Yc](c),n}function tO(){const e=this[Qc];var t=`{${e.substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function rO(e){const t=og(this,e);this[Qc]=t}function nO(e,t,r){const n=this[UI](),i=this[FI],s=e instanceof Error;var o;e==null?o=i?i():{}:(o=Object.assign(i?i():{},e),!t&&s&&(t=e.message),s&&(o.stack=e.stack,o.type||(o.type="Error")));const a=this[ig](o,t,r,n),c=this[sg];c[HI]===!0&&(c.lastLevel=r,c.lastObj=o,c.lastMsg=t,c.lastTime=n.slice(this[BI]),c.lastLogger=this),c instanceof DI?c.write(a):c.write(kI(a))}function iO(){const e=this[sg];"flush"in e&&e.flush()}});var bg=v((dx,hg)=>{"use strict";const sO=require("os"),fg=fc(),oO=Sp(),dg=Np(),aO=ug(),pg=sn(),{assertDefaultLevelFound:cO,mappings:mg,genLsCache:lO}=zc(),{createArgsNormalizer:uO,asChindings:hO,final:fO,stringify:Rs,buildSafeSonicBoom:Jc,buildFormatters:dO,noop:pO}=Ts(),{version:mO}=Xc(),{chindingsSym:gg,redactFmtSym:gO,serializersSym:Eg,timeSym:EO,timeSliceIndexSym:vO,streamSym:yO,stringifySym:vg,stringifiersSym:yg,setLevelSym:TO,endSym:RO,formatOptsSym:bO,messageKeySym:_O,nestedKeySym:wO,mixinSym:SO,useOnlyCustomLevelsSym:CO,formattersSym:Tg,hooksSym:NO}=pg,{epochTime:Rg,nullTime:IO}=dg,{pid:OO}=process,AO=sO.hostname(),LO=fg.err,Zc={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:OO,hostname:AO},serializers:Object.assign(Object.create(null),{err:LO}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:Rg,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},PO=uO(Zc),xO=Object.assign(Object.create(null),fg);function Gt(...e){const t={},{opts:r,stream:n}=PO(t,...e),{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:c,nestedKey:u,base:h,name:d,level:g,customLevels:C,useLevelLabels:N,changeLevelName:U,levelKey:B,mixin:D,useOnlyCustomLevels:J,formatters:k,hooks:T}=r,m=dO(k.level,k.bindings,k.log);N&&!(U||B)?(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),m.level=DO):(U||B)&&!N?(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),m.level=kO(U||B)):(U||B)&&N&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),m.level=MO(U||B)),o[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),m.log=o[Symbol.for("pino.*")]),m.bindings||(m.bindings=Zc.formatters.bindings),m.level||(m.level=Zc.formatters.level);const _=i?oO(i,Rs):{},j=i?{stringify:_[gO]}:{stringify:Rs},A="}"+(s?`\r
`:`
`),q=hO.bind(null,{[gg]:"",[Eg]:o,[yg]:_,[vg]:Rs,[Tg]:m}),Z=h===null?"":d===void 0?q(h):q(Object.assign({},h,{name:d})),$=a instanceof Function?a:a?Rg:IO,se=$().indexOf(":")+1;if(J&&!C)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(D&&typeof D!="function")throw Error(`Unknown mixin type "${typeof D}" - expected "function"`);cO(g,C,J);const Ie=mg(C,J);return Object.assign(t,{levels:Ie,[CO]:J,[yO]:n,[EO]:$,[vO]:se,[vg]:Rs,[yg]:_,[RO]:A,[bO]:j,[_O]:c,[wO]:u,[Eg]:o,[SO]:D,[gg]:Z,[Tg]:m,[NO]:T,silent:pO}),Object.setPrototypeOf(t,aO()),lO(t),t[TO](g),t}function DO(e,t){return{level:e}}function kO(e){return function(t,r){return{[e]:r}}}function MO(e){return function(t,r){return{[e]:t}}}Gt.extreme=(e=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),Jc({dest:e,minLength:4096,sync:!1}));Gt.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=e.dest||process.stdout.fd,Jc(e)):Jc({dest:e,minLength:0,sync:!0});Gt.final=fO;Gt.levels=mg();Gt.stdSerializers=xO;Gt.stdTimeFunctions=Object.assign({},dg);Gt.symbols=pg;Gt.version=mO;hg.exports=Gt});var _g=v(Or=>{"use strict";var el=Or&&Or.__assign||function(){return el=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},el.apply(this,arguments)},qO=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Or.__esModule=!0;var FO=qO(bg());function jO(e,t){e===void 0&&(e={});var r=FO.default(el({name:"ls",base:{},level:"info",formatters:{level:function(n){return{level:n}}},prettyPrint:!0},e),t);return r.show=function(){return},r}Or.default=jO});var wg=v(ti=>{"use strict";var UO=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};ti.__esModule=!0;var BO=UO(_g());ti.default=BO.default()});var Sg=v(Ar=>{"use strict";var bs=Ar&&Ar.__assign||function(){return bs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},bs.apply(this,arguments)};Ar.__esModule=!0;Ar.createLogger=void 0;var _s,WO=function(){try{return require.resolve("vscode"),!0}catch(e){return!1}};_s=wg().default;function HO(e,t){return t===void 0&&(t={}),e?_s.child(bs(bs({},t),{ns:e})):_s}Ar.createLogger=HO;Ar.default=_s});var Ig=v(ct=>{"use strict";var GO=ct&&ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$O=ct&&ct.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VO=ct&&ct.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&GO(t,e,r);return $O(t,e),t},ri=ct&&ct.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?s(h.value):i(h.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},ws=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ct,"__esModule",{value:!0});const zO=ws(sd()),XO=ws(ad()),Cg=VO(Gd()),YO=Sg(),Ng=ws(require("path")),QO=ws(require("fs"));class tl{constructor(e,t){this.credentials=e,this.getWorkspaceFolders=t,this.deps=[],this.queryResults=(r,n)=>ri(this,void 0,void 0,function*(){const i=yield this.singleQuery(r,n);if(i.error)throw i.rawError;return i.results}),this.requireDep=r=>Cg.default(r),this.resolveDep=r=>Cg.sqltoolsResolve(r),this.log=YO.createLogger(e.driver.toLowerCase())}getId(){return this.credentials.id}singleQuery(e,t){return this.query(e,t).then(([r])=>r)}describeTable(e,t){return ri(this,void 0,void 0,function*(){const r=yield this.singleQuery(this.queries.describeTable(e),t);return r.baseQuery=this.queries.describeTable.raw,[r]})}showRecords(e,t){return ri(this,void 0,void 0,function*(){const{limit:r,page:n=0}=t,i=Object.assign(Object.assign({},t),{limit:r,table:e,offset:n*r});if(typeof this.queries.fetchRecords=="function"&&typeof this.queries.countRecords=="function"){const[s,o]=yield Promise.all([this.singleQuery(this.queries.fetchRecords(i),t),this.singleQuery(this.queries.countRecords(i),t)]);return s.baseQuery=this.queries.fetchRecords.raw,s.pageSize=r,s.page=n,s.total=Number(o.results[0].total),s.queryType="showRecords",s.queryParams=e,[s]}return this.query(this.queries.fetchRecords(i),t)})}checkDependencies(){return ri(this,void 0,void 0,function*(){if(!this.deps||this.deps.length===0)return;if(Number(process.env.IS_NODE_RUNTIME||"0")!==1)throw new zO.default();this.deps.forEach(e=>{let t=!1;switch(e.type){case tl.CONSTANTS.DEPENDENCY_PACKAGE:try{const{version:r}=JSON.parse(QO.default.readFileSync(this.resolveDep(e.name+"/package.json")).toString());if(e.version&&r!==e.version)throw t=!0,new Error(`Version not matching. We need to upgrade ${e.name}`);this.requireDep(e.name)}catch(r){throw new XO.default(this.deps,this.credentials,t)}break}})})}getChildrenForItem(e){return this.log.error(`###### Attention ######getChildrenForItem not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}searchItems(e,t,r){return this.log.error(`###### Attention ######searchItems not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}toAbsolutePath(e){return ri(this,void 0,void 0,function*(){if(!Ng.default.isAbsolute(e)&&/\$\{workspaceFolder:(.+)}/g.test(e)){const t=e.match(/\$\{workspaceFolder:(.+)}/)[1];if(t){const r=yield this.getWorkspaceFolders(),n=r.find(i=>i.name===t);e=Ng.default.resolve(n.uri.replace(/^(\w+):\/\//,""),e.replace(/\$\{workspaceFolder:(.+)}/g,"./"))}}return e})}prepareMessage(e){return{message:e.toString(),date:new Date()}}}ct.default=tl;tl.CONSTANTS={DEPENDENCY_PACKAGE:"package",DEPENDENCY_NPM_SCRIPT:"npmscript"}});var Ag=v((vx,Og)=>{var KO=typeof global=="object"&&global&&global.Object===Object&&global;Og.exports=KO});var rl=v((yx,Lg)=>{var JO=Ag(),ZO=typeof self=="object"&&self&&self.Object===Object&&self,eA=JO||ZO||Function("return this")();Lg.exports=eA});var nl=v((Tx,Pg)=>{var tA=rl(),rA=tA.Symbol;Pg.exports=rA});var Mg=v((Rx,xg)=>{var Dg=nl(),kg=Object.prototype,nA=kg.hasOwnProperty,iA=kg.toString,ni=Dg?Dg.toStringTag:void 0;function sA(e){var t=nA.call(e,ni),r=e[ni];try{e[ni]=void 0;var n=!0}catch(s){}var i=iA.call(e);return n&&(t?e[ni]=r:delete e[ni]),i}xg.exports=sA});var Fg=v((bx,qg)=>{var oA=Object.prototype,aA=oA.toString;function cA(e){return aA.call(e)}qg.exports=cA});var Wg=v((_x,jg)=>{var Ug=nl(),lA=Mg(),uA=Fg(),hA="[object Null]",fA="[object Undefined]",Bg=Ug?Ug.toStringTag:void 0;function dA(e){return e==null?e===void 0?fA:hA:Bg&&Bg in Object(e)?lA(e):uA(e)}jg.exports=dA});var il=v((wx,Hg)=>{function pA(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}Hg.exports=pA});var $g=v((Sx,Gg)=>{var mA=Wg(),gA=il(),EA="[object AsyncFunction]",vA="[object Function]",yA="[object GeneratorFunction]",TA="[object Proxy]";function RA(e){if(!gA(e))return!1;var t=mA(e);return t==vA||t==yA||t==EA||t==TA}Gg.exports=RA});var zg=v((Cx,Vg)=>{var bA=rl(),_A=bA["__core-js_shared__"];Vg.exports=_A});var Qg=v((Nx,Xg)=>{var sl=zg(),Yg=function(){var e=/[^.]+$/.exec(sl&&sl.keys&&sl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wA(e){return!!Yg&&Yg in e}Xg.exports=wA});var Jg=v((Ix,Kg)=>{var SA=Function.prototype,CA=SA.toString;function NA(e){if(e!=null){try{return CA.call(e)}catch(t){}try{return e+""}catch(t){}}return""}Kg.exports=NA});var eE=v((Ox,Zg)=>{var IA=$g(),OA=Qg(),AA=il(),LA=Jg(),PA=/[\\^$.*+?()[\]{}|]/g,xA=/^\[object .+?Constructor\]$/,DA=Function.prototype,kA=Object.prototype,MA=DA.toString,qA=kA.hasOwnProperty,FA=RegExp("^"+MA.call(qA).replace(PA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jA(e){if(!AA(e)||OA(e))return!1;var t=IA(e)?FA:xA;return t.test(LA(e))}Zg.exports=jA});var rE=v((Ax,tE)=>{function UA(e,t){return e==null?void 0:e[t]}tE.exports=UA});var iE=v((Lx,nE)=>{var BA=eE(),WA=rE();function HA(e,t){var r=WA(e,t);return BA(r)?r:void 0}nE.exports=HA});var oE=v((Px,sE)=>{var GA=iE(),$A=function(){try{var e=GA(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();sE.exports=$A});var lE=v((xx,aE)=>{var cE=oE();function VA(e,t,r){t=="__proto__"&&cE?cE(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}aE.exports=VA});var hE=v((Dx,uE)=>{function zA(e,t){return e===t||e!==e&&t!==t}uE.exports=zA});var dE=v((kx,fE)=>{var XA=lE(),YA=hE(),QA=Object.prototype,KA=QA.hasOwnProperty;function JA(e,t,r){var n=e[t];(!(KA.call(e,t)&&YA(n,r))||r===void 0&&!(t in e))&&XA(e,t,r)}fE.exports=JA});var mE=v((Mx,pE)=>{function ZA(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var a=n<s?t[n]:void 0;r(o,e[n],a)}return o}pE.exports=ZA});var EE=v((qx,gE)=>{var e1=dE(),t1=mE();function r1(e,t){return t1(e||[],t||[],e1)}gE.exports=r1});const ol=e=>/[^a-z0-9_]/.test(e.label||e)?`"${e.label||e}"`:e.label||e;function n1(e){let t=[],r=typeof e=="string"?{label:e}:e;return r.database&&t.push(ol(r.database)),r.schema&&t.push(ol(r.schema)),t.push(ol(r.label)),t.join(".")}var al=n1;const vt=Kt(Ah()),it=Kt(Po()),i1=vt.default`
SELECT * FROM INFORMATION_SCHEMA.COLUMNS
WHERE
  TABLE_NAME = '${e=>e.label}'
  AND TABLE_CATALOG = '${e=>e.database}'
  AND TABLE_SCHEMA = '${e=>e.schema}'`,s1=vt.default`
SELECT
  C.COLUMN_NAME AS label,
  '${it.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  UPPER(C.DATA_TYPE || (
    CASE WHEN C.CHARACTER_MAXIMUM_LENGTH > 0 THEN (
      '(' || C.CHARACTER_MAXIMUM_LENGTH || ')'
    ) ELSE '' END
  )) AS "detail",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS "defaultValue",
  C.IS_NULLABLE AS "isNullable",
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA = '${e=>e.schema}'
  AND C.TABLE_NAME = '${e=>e.label}'
  AND C.TABLE_CATALOG = '${e=>e.database}'
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
`,o1=vt.default`
SELECT *
FROM ${e=>al(e.table)}
LIMIT ${e=>e.limit||50}
OFFSET ${e=>e.offset||0};
`,a1=vt.default`
SELECT count(1) AS total
FROM ${e=>al(e.table)};
`,c1=vt.default`
SELECT
  '${it.ContextValue.FUNCTION}' as type,
  f.proname AS name,
  f.proname AS label,
  quote_ident(f.proname) || '(' || oidvectortypes(f.proargtypes)::TEXT || ')' AS detail,
  n.nspname AS schema,
  current_database() AS database,
  quote_ident(n.nspname) || '.' || quote_ident(f.proname) AS signature,
  format_type(f.prorettype, null) AS "resultType",
  oidvectortypes(f.proargtypes) AS args,
  proargnames AS "argsNames",
  f.prosrc AS source,
  'function' as "iconName",
  '${it.ContextValue.NO_CHILD}' as "childType"
FROM
  pg_catalog.pg_proc AS f
INNER JOIN pg_catalog.pg_namespace AS n on n.oid = f.pronamespace
WHERE
  n.nspname = '${e=>e.schema}'
ORDER BY name
;`,vE=(e,t="BASE TABLE")=>vt.default`
SELECT
  T.TABLE_NAME AS label,
  '${e}' as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  ${e===it.ContextValue.VIEW?"TRUE":"FALSE"} AS isView
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA = '${r=>r.schema}'
  AND T.TABLE_CATALOG = '${r=>r.database}'
  AND T.TABLE_TYPE = '${t}'
ORDER BY
  T.TABLE_NAME;
`,l1=vt.default`
SELECT
  T.TABLE_NAME AS label,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN '${it.ContextValue.TABLE}' ELSE '${it.ContextValue.VIEW}' END) as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN FALSE ELSE TRUE END) AS "isView",
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN 'table' ELSE 'view' END) AS description,
  ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') as detail
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA !~ '^pg_'
  AND T.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.search?`AND (
    (T.TABLE_CATALOG || '.' || T.TABLE_SCHEMA || '.' || T.TABLE_NAME) ILIKE '%${e.search}%'
    OR ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') ILIKE '%${e.search}%'
    OR T.TABLE_NAME ILIKE '%${e.search}%'
  )`:""}
ORDER BY
  T.TABLE_NAME
LIMIT ${e=>e.limit||100};
`,u1=vt.default`
SELECT
  C.COLUMN_NAME AS label,
  '${it.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS defaultValue,
  C.IS_NULLABLE AS isNullable,
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA !~ '^pg_'
  AND C.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.tables.filter(t=>!!t.label).length?`AND LOWER(C.TABLE_NAME) IN (${e.tables.filter(t=>!!t.label).map(t=>`'${t.label}'`.toLowerCase()).join(", ")})`:""}
  ${e=>e.search?`AND (
      (C.TABLE_NAME || '.' || C.COLUMN_NAME) ILIKE '%${e.search}%'
      OR C.COLUMN_NAME ILIKE '%${e.search}%'
    )`:""}
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
LIMIT ${e=>e.limit||100}
`,h1=vE(it.ContextValue.TABLE),f1=vE(it.ContextValue.VIEW,"VIEW"),d1=vt.default`
SELECT
  '${it.ContextValue.MATERIALIZED_VIEW}' as type,
  (current_database())::information_schema.sql_identifier AS database,
  (nc.nspname)::information_schema.sql_identifier AS schema,
  (c.relname)::information_schema.sql_identifier AS label,
  'view' AS "iconName",
  '${it.ContextValue.NO_CHILD}' as "childType"
FROM pg_namespace nc,
  pg_class c
WHERE
  nc.nspname = '${e=>e.schema}'
  AND (
    (c.relnamespace = nc.oid)
    AND (c.relkind = 'm'::"char")
    AND (NOT pg_is_other_temp_schema(nc.oid))
    AND (
      pg_has_role(c.relowner, 'USAGE'::text)
      OR has_table_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'::text
      )
      OR has_any_column_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, REFERENCES'::text
      )
    )
  );
`,p1=vt.default`
SELECT
  db.*,
  db.datname as "label",
  db.datname as "database",
  '${it.ContextValue.DATABASE}' as "type",
  'database' as "detail"
FROM pg_catalog.pg_database db
WHERE
  datallowconn
  AND NOT datistemplate
  AND db.datname = CURRENT_DATABASE()
ORDER BY
  db.datname;
`,m1=vt.default`
SELECT
  schema_name AS label,
  schema_name AS schema,
  '${it.ContextValue.SCHEMA}' as "type",
  'group-by-ref-type' as "iconId",
  catalog_name as database
FROM information_schema.schemata
WHERE
  schema_name !~ '^pg_'
  AND schema_name <> 'information_schema'
  AND catalog_name = '${e=>e.database}'
`;var yE={describeTable:i1,countRecords:a1,fetchColumns:s1,fetchRecords:o1,fetchTables:h1,fetchViews:f1,fetchFunctions:c1,fetchDatabases:p1,fetchSchemas:m1,fetchMaterializedViews:d1,searchTables:l1,searchColumns:u1};const TE=/[\\^$.*+?()[\]{}|]/g,g1=RegExp(TE.source);function E1(e){return e&&g1.test(e)?e.replace(TE,"\\$&"):e||""}var ii=E1;var V;(function(e){e.WHITESPACE="whitespace",e.WORD="word",e.STRING="string",e.RESERVED="reserved",e.RESERVED_TOP_LEVEL="reserved-top-level",e.RESERVED_TOP_LEVEL_NO_INDENT="reserved-top-level-no-indent",e.RESERVED_NEWLINE="reserved-newline",e.OPERATOR="operator",e.NO_SPACE_OPERATOR="no-space-operator",e.OPEN_PAREN="open-paren",e.CLOSE_PAREN="close-paren",e.LINE_COMMENT="line-comment",e.BLOCK_COMMENT="block-comment",e.NUMBER="number",e.PLACEHOLDER="placeholder",e.SERVERVARIABLE="servervariable"})(V||(V={}));class cl{constructor(e){this.WHITESPACE_REGEX=/^(\s+)/u,this.NUMBER_REGEX=/^((-\s*)?[0-9]+(\.[0-9]+)?|0x[0-9a-fA-F]+|0b[01]+|([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}))\b/u,this.AMBIGUOS_OPERATOR_REGEX=/^(\?\||\?&)/u,this.OPERATOR_REGEX=/^(!=|<>|>>|<<|==|<=|>=|!<|!>|\|\|\/|\|\/|\|\||~~\*|~~|!~~\*|!~~|~\*|!~\*|!~|:=|&&|@>|<@|#-|@|.)/u,this.NO_SPACE_OPERATOR_REGEX=/^(::|->>|->|#>>|#>)/u,this.BLOCK_COMMENT_REGEX=/^(\/\*[^]*?(?:\*\/|$))/u,this.LINE_COMMENT_REGEX=this.createLineCommentRegex(e.lineCommentTypes),this.RESERVED_TOP_LEVEL_REGEX=this.createReservedWordRegex(e.reservedTopLevelWords),this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX=this.createReservedWordRegex(e.reservedTopLevelWordsNoIndent),this.RESERVED_NEWLINE_REGEX=this.createReservedWordRegex(e.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=this.createReservedWordRegex(e.reservedWords),this.WORD_REGEX=this.createWordRegex(e.specialWordChars),this.STRING_REGEX=this.createStringRegex(e.stringTypes),this.OPEN_PAREN_REGEX=this.createParenRegex(e.openParens),this.CLOSE_PAREN_REGEX=this.createParenRegex(e.closeParens),this.INDEXED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.namedPlaceholderTypes,this.createStringPattern(e.stringTypes))}createLineCommentRegex(e){return new RegExp(`^((?:${e.map(t=>ii(t)).join("|")})[^>]*?(?:\r
|\r|
|$))`,"u")}createReservedWordRegex(e){const t=e.join("|").replace(/ /gu,"\\s+");return new RegExp(`^(${t})\\b`,"iu")}createWordRegex(e){return new RegExp(`^([\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}${e.join("")}]+)`,"u")}createStringRegex(e){return new RegExp("^("+this.createStringPattern(e)+")","u")}createStringPattern(e){const t={"``":"((`[^`]*($|`))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^N'\\\\]*(?:\\\\.[^N'\\\\]*)*('|$))+)"};return e.map(r=>t[r]).join("|")}createParenRegex(e){return new RegExp("^("+e.map(t=>this.escapeParen(t)).join("|")+")","iu")}escapeParen(e){return e.length===1?ii(e):"\\b"+e+"\\b"}createPlaceholderRegex(e,t){if(!e||e.length===0)return null;const r=e.map(ii).join("|");return new RegExp(`^((?:${r})(?:${t}))`,"u")}tokenize(e){if(!e)return[];const t=[];let r;for(;e.length;)r=this.getNextToken(e,r),e=e.substring(r.value.length),t.push(r);return t}getNextToken(e,t){return this.getWhitespaceToken(e)||this.getCommentToken(e)||this.getStringToken(e)||this.getOpenParenToken(e)||this.getCloseParenToken(e)||this.getAmbiguosOperatorToken(e)||this.getNoSpaceOperatorToken(e)||this.getServerVariableToken(e)||this.getPlaceholderToken(e)||this.getNumberToken(e)||this.getReservedWordToken(e,t)||this.getWordToken(e)||this.getOperatorToken(e)}getWhitespaceToken(e){return this.getTokenOnFirstMatch({input:e,type:V.WHITESPACE,regex:this.WHITESPACE_REGEX})}getCommentToken(e){return this.getLineCommentToken(e)||this.getBlockCommentToken(e)}getLineCommentToken(e){return this.getTokenOnFirstMatch({input:e,type:V.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})}getBlockCommentToken(e){return this.getTokenOnFirstMatch({input:e,type:V.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})}getStringToken(e){return this.getTokenOnFirstMatch({input:e,type:V.STRING,regex:this.STRING_REGEX})}getOpenParenToken(e){return this.getTokenOnFirstMatch({input:e,type:V.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})}getCloseParenToken(e){return this.getTokenOnFirstMatch({input:e,type:V.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})}getPlaceholderToken(e){return this.getIdentNamedPlaceholderToken(e)||this.getStringNamedPlaceholderToken(e)||this.getIndexedPlaceholderToken(e)}getServerVariableToken(e){return this.getTokenOnFirstMatch({input:e,type:V.SERVERVARIABLE,regex:/(^@@\w+)/iu})}getIdentNamedPlaceholderToken(e){return this.getPlaceholderTokenWithKey({input:e,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:t=>t.slice(1)})}getStringNamedPlaceholderToken(e){return this.getPlaceholderTokenWithKey({input:e,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:t=>this.getEscapedPlaceholderKey({key:t.slice(2,-1),quoteChar:t.slice(-1)})})}getIndexedPlaceholderToken(e){return this.getPlaceholderTokenWithKey({input:e,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:t=>t.slice(1)})}getPlaceholderTokenWithKey({input:e,regex:t,parseKey:r}){const n=this.getTokenOnFirstMatch({input:e,regex:t,type:V.PLACEHOLDER});return n&&(n.key=r(n.value)),n}getEscapedPlaceholderKey({key:e,quoteChar:t}){return e.replace(new RegExp(ii("\\"+t),"gu"),t)}getNumberToken(e){return this.getTokenOnFirstMatch({input:e,type:V.NUMBER,regex:this.NUMBER_REGEX})}getOperatorToken(e){return this.getTokenOnFirstMatch({input:e,type:V.OPERATOR,regex:this.OPERATOR_REGEX})}getAmbiguosOperatorToken(e){return this.getTokenOnFirstMatch({input:e,type:V.OPERATOR,regex:this.AMBIGUOS_OPERATOR_REGEX})}getNoSpaceOperatorToken(e){return this.getTokenOnFirstMatch({input:e,type:V.NO_SPACE_OPERATOR,regex:this.NO_SPACE_OPERATOR_REGEX})}getReservedWordToken(e,t){return t&&t.value&&t.value==="."?void 0:this.getToplevelReservedToken(e)||this.getNewlineReservedToken(e)||this.getTopLevelReservedTokenNoIndent(e)||this.getPlainReservedToken(e)}getToplevelReservedToken(e){return this.getTokenOnFirstMatch({input:e,type:V.RESERVED_TOP_LEVEL,regex:this.RESERVED_TOP_LEVEL_REGEX})}getNewlineReservedToken(e){return this.getTokenOnFirstMatch({input:e,type:V.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})}getPlainReservedToken(e){return this.getTokenOnFirstMatch({input:e,type:V.RESERVED,regex:this.RESERVED_PLAIN_REGEX})}getTopLevelReservedTokenNoIndent(e){return this.getTokenOnFirstMatch({input:e,type:V.RESERVED_TOP_LEVEL_NO_INDENT,regex:this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX})}getWordToken(e){return this.getTokenOnFirstMatch({input:e,type:V.WORD,regex:this.WORD_REGEX})}getTokenOnFirstMatch({input:e,type:t,regex:r}){const n=e.match(r);if(n)return{type:t,value:n[1]}}}const v1=(e=[])=>e[e.length-1];var RE=v1;const ll="top-level",y1="block-level";class ul{constructor(e){this.indent=e;this.indentTypes=[];this.indent=e||"  "}getIndent(){return new Array(this.indentTypes.length).fill(this.indent).join("")}increaseTopLevel(){this.indentTypes.push(ll)}increaseBlockLevel(){this.indentTypes.push(y1)}decreaseTopLevel(){RE(this.indentTypes)===ll&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0;){const e=this.indentTypes.pop();if(e!==ll)break}}resetIndentation(){this.indentTypes=[]}}const T1=50;class hl{constructor(){this.level=0}beginIfPossible(e,t){this.level===0&&this.isInlineBlock(e,t)?this.level=1:this.level>0?this.level++:this.level=0}end(){this.level--}isActive(){return this.level>0}isInlineBlock(e,t){let r=0,n=0;for(let i=t;i<e.length;i++){const s=e[i];if(r+=s.value.length,r>T1)return!1;if(s.type===V.OPEN_PAREN)n++;else if(s.type===V.CLOSE_PAREN&&(n--,n===0))return!0;if(this.isForbiddenToken(s))return!1}return!1}isForbiddenToken({type:e,value:t}){return e===V.RESERVED_TOP_LEVEL||e===V.RESERVED_NEWLINE||e===V.LINE_COMMENT||e===V.BLOCK_COMMENT||t===";"}}class fl{constructor(e){this.params=e;this.index=0;this.params=e}get({key:e,value:t}){return this.params?e?this.params[e]:this.params[this.index++]:t}}const fn=e=>e.replace(/[ \t]+$/u,"");class dl{constructor(e,t,r){this.cfg=e;this.tokenizer=t;this.tokenOverride=r;this.tokens=[];this.previousReservedWord={type:null,value:null};this.previousNonWhiteSpace={type:null,value:null};this.index=0;this.indentation=new ul(this.cfg.indent),this.inlineBlock=new hl(),this.params=new fl(this.cfg.params)}format(e){this.tokens=this.tokenizer.tokenize(e);const t=this.getFormattedQueryFromTokens();return t.trim()}getFormattedQueryFromTokens(){let e="";return this.tokens.forEach((t,r)=>{this.index=r,this.tokenOverride&&(t=this.tokenOverride(t,this.previousReservedWord)||t),t.type===V.WHITESPACE?e=this.formatWhitespace(t,e):t.type===V.LINE_COMMENT?e=this.formatLineComment(t,e):t.type===V.BLOCK_COMMENT?e=this.formatBlockComment(t,e):t.type===V.RESERVED_TOP_LEVEL||t.type===V.RESERVED_TOP_LEVEL_NO_INDENT||t.type===V.RESERVED_NEWLINE||t.type===V.RESERVED?e=this.formatReserved(t,e):t.type===V.OPEN_PAREN?e=this.formatOpeningParentheses(t,e):t.type===V.CLOSE_PAREN?e=this.formatClosingParentheses(t,e):t.type===V.NO_SPACE_OPERATOR?e=this.formatWithoutSpaces(t,e):t.type===V.PLACEHOLDER||t.type===V.SERVERVARIABLE?e=this.formatPlaceholder(t,e):t.value===","?e=this.formatComma(t,e):t.value===":"?e=this.formatWithSpaceAfter(t,e):t.value==="."?e=this.formatWithoutSpaces(t,e):t.value===";"?e=this.formatQuerySeparator(t,e):e=this.formatWithSpaces(t,e),t.type!==V.WHITESPACE&&(this.previousNonWhiteSpace=t)}),e}formatWhitespace(e,t){return this.cfg.linesBetweenQueries==="preserve"&&/((\r\n|\n)(\r\n|\n)+)/u.test(e.value)&&this.previousToken().value===";"?t.replace(/(\n|\r\n)$/m,"")+e.value:t}formatReserved(e,t){return e.type===V.RESERVED_NEWLINE&&this.previousReservedWord&&this.previousReservedWord.value&&e.value.toUpperCase()==="AND"&&this.previousReservedWord.value.toUpperCase()==="BETWEEN"&&(e.type=V.RESERVED),e.type===V.RESERVED_TOP_LEVEL?t=this.formatTopLevelReservedWord(e,t):e.type===V.RESERVED_TOP_LEVEL_NO_INDENT?t=this.formatTopLevelReservedWordNoIndent(e,t):e.type===V.RESERVED_NEWLINE?t=this.formatNewlineReservedWord(e,t):t=this.formatWithSpaces(e,t),this.previousReservedWord=e,t}formatLineComment(e,t){return this.addNewline(t+e.value)}formatBlockComment(e,t){return this.addNewline(this.addNewline(t)+this.indentComment(e.value))}indentComment(e){return e.replace(/\n[ \t]*/gu,`
`+this.indentation.getIndent()+" ")}formatTopLevelReservedWordNoIndent(e,t){return this.indentation.decreaseTopLevel(),t=this.addNewline(t)+this.equalizeWhitespace(this.formatReservedWord(e.value)),this.addNewline(t)}formatTopLevelReservedWord(e,t){const r=this.previousNonWhiteSpace.value!==","&&!["GRANT"].includes(`${this.previousNonWhiteSpace.value}`.toUpperCase());return r&&(this.indentation.decreaseTopLevel(),t=this.addNewline(t)),t=t+this.equalizeWhitespace(this.formatReservedWord(e.value))+" ",r&&this.indentation.increaseTopLevel(),t}formatNewlineReservedWord(e,t){return this.addNewline(t)+this.equalizeWhitespace(this.formatReservedWord(e.value))+" "}equalizeWhitespace(e){return e.replace(/\s+/gu," ")}formatOpeningParentheses(e,t){e.value=this.formatCase(e.value);const r=this.previousToken().type;return r!==V.WHITESPACE&&r!==V.OPEN_PAREN&&r!==V.LINE_COMMENT&&(t=fn(t)),t+=e.value,this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),t=this.addNewline(t)),t}formatClosingParentheses(e,t){return e.value=this.formatCase(e.value),this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(e,t)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(e,this.addNewline(t)))}formatPlaceholder(e,t){return t+this.params.get(e)+" "}formatComma(e,t){return t=fn(t)+e.value+" ",this.inlineBlock.isActive()||/^LIMIT$/iu.test(this.previousReservedWord.value)?t:this.addNewline(t)}formatWithSpaceAfter(e,t){return fn(t)+e.value+" "}formatWithoutSpaces(e,t){return fn(t)+e.value}formatWithSpaces(e,t){const r=e.type===V.RESERVED?this.formatReservedWord(e.value):e.value;return t+r+" "}formatReservedWord(e){return this.formatCase(e)}formatQuerySeparator(e,t){this.indentation.resetIndentation();let r=`
`;return this.cfg.linesBetweenQueries!=="preserve"&&(r=`
`.repeat(this.cfg.linesBetweenQueries||1)),fn(t)+e.value+r}addNewline(e){return e=fn(e),e.endsWith(`
`)||(e+=`
`),e+this.indentation.getIndent()}previousToken(){return this.tokens[this.index-1]||{type:null,value:null}}formatCase(e){return this.cfg.reservedWordCase==="upper"?e.toUpperCase():this.cfg.reservedWordCase==="lower"?e.toLowerCase():e}}class $t{constructor(e){this.cfg=e}format(e){return new dl(this.cfg,this.tokenizer(),this.tokenOverride).format(e)}tokenize(e){return this.tokenizer().tokenize(e)}tokenizer(){return new cl(this.getTokenizerConfig())}}class bE extends $t{getTokenizerConfig(){return{reservedWords:R1,reservedTopLevelWords:b1,reservedNewlineWords:w1,reservedTopLevelWordsNoIndent:_1,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"]}}}const R1=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],b1=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],_1=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],w1=["AND","CROSS JOIN","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"];class _E extends $t{getTokenizerConfig(){return{reservedWords:S1,reservedTopLevelWords:C1,reservedNewlineWords:I1,reservedTopLevelWordsNoIndent:N1,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"],specialWordChars:[]}}}const S1=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],C1=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],N1=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],I1=["AND","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","XOR"];class wE extends $t{constructor(){super(...arguments);this.tokenOverride=(e,t)=>{if(e.type===V.RESERVED_TOP_LEVEL&&t.value&&e.value.toUpperCase()==="SET"&&t.value.toUpperCase()==="BY")return e.type=V.RESERVED,e}}getTokenizerConfig(){return{reservedWords:O1,reservedTopLevelWords:A1,reservedNewlineWords:P1,reservedTopLevelWordsNoIndent:L1,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"]}}}const O1=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BREADTH","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DEPTH","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","END","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SEARCH","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],A1=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UPDATE","VALUES","WHERE"],L1=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],P1=["AND","CROSS APPLY","CROSS JOIN","ELSE","END","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER APPLY","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","WHEN","XOR"];class SE extends $t{getTokenizerConfig(){return{reservedWords:x1,reservedTopLevelWords:D1,reservedNewlineWords:M1,reservedTopLevelWordsNoIndent:k1,stringTypes:['""',"N''","''","``","[]"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@",":","%","$"],lineCommentTypes:["#","--"],specialWordChars:[]}}}const x1=["ACCESSIBLE","ACTION","AGAINST","AGGREGATE","ALGORITHM","ALL","ALTER","ANALYSE","ANALYZE","AS","ASC","AUTOCOMMIT","AUTO_INCREMENT","BACKUP","BEGIN","BETWEEN","BINLOG","BOTH","CASCADE","CASE","CHANGE","CHANGED","CHARACTER SET","CHARSET","CHECK","CHECKSUM","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPRESSED","CONCURRENT","CONSTRAINT","CONTAINS","CONVERT","COUNT","CREATE","CROSS","CURRENT_TIMESTAMP","DATABASE","DATABASES","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DAY","DEFAULT","DEFINER","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO","DROP","DUMPFILE","DUPLICATE","DYNAMIC","ELSE","ENCLOSED","END","ENGINE","ENGINES","ENGINE_TYPE","ESCAPE","ESCAPED","EVENTS","EXEC","EXECUTE","EXISTS","EXPLAIN","EXTENDED","FAST","FETCH","FIELDS","FILE","FIRST","FIXED","FLUSH","FOR","FORCE","FOREIGN","FULL","FULLTEXT","FUNCTION","GLOBAL","GRANTS","GROUP_CONCAT","HEAP","HIGH_PRIORITY","HOSTS","HOUR","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IF","IFNULL","IGNORE","IN","INDEX","INDEXES","INFILE","INSERT","INSERT_ID","INSERT_METHOD","INTERVAL","INTO","INVOKER","IS","ISOLATION","KEY","KEYS","KILL","LAST_INSERT_ID","LEADING","LEVEL","LIKE","LINEAR","LINES","LOAD","LOCAL","LOCK","LOCKS","LOGS","LOW_PRIORITY","MARIA","MASTER","MASTER_CONNECT_RETRY","MASTER_HOST","MASTER_LOG_FILE","MATCH","MAX_CONNECTIONS_PER_HOUR","MAX_QUERIES_PER_HOUR","MAX_ROWS","MAX_UPDATES_PER_HOUR","MAX_USER_CONNECTIONS","MEDIUM","MERGE","MINUTE","MINUTE_SECOND","MIN_ROWS","MODE","MONTH","MRG_MYISAM","MYISAM","NAMES","NATURAL","NOT","NOW()","NULL","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPEN","OPTIMIZE","OPTION","OPTIONALLY","OUTFILE","PACK_KEYS","PAGE","PARTIAL","PARTITION","PARTITIONS","PASSWORD","PRIMARY","PRIVILEGES","PROCEDURE","PROCESS","PROCESSLIST","PURGE","QUICK","RAID0","RAID_CHUNKS","RAID_CHUNKSIZE","RAID_TYPE","RANGE","READ","READ_ONLY","READ_WRITE","REFERENCES","REGEXP","RELOAD","RENAME","REPAIR","REPEATABLE","REPLACE","REPLICATION","RESET","RESTORE","RESTRICT","RETURN","RETURNS","REVOKE","RLIKE","ROLLBACK","ROW","ROWS","ROW_FORMAT","SECOND","SECURITY","SEPARATOR","SERIALIZABLE","SESSION","SHARE","SHOW","SHUTDOWN","SLAVE","SONAME","SOUNDS","SQL","SQL_AUTO_IS_NULL","SQL_BIG_RESULT","SQL_BIG_SELECTS","SQL_BIG_TABLES","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQL_LOG_BIN","SQL_LOG_OFF","SQL_LOG_UPDATE","SQL_LOW_PRIORITY_UPDATES","SQL_MAX_JOIN_SIZE","SQL_NO_CACHE","SQL_QUOTE_SHOW_CREATE","SQL_SAFE_UPDATES","SQL_SELECT_LIMIT","SQL_SLAVE_SKIP_COUNTER","SQL_SMALL_RESULT","SQL_WARNINGS","START","STARTING","STATUS","STOP","STORAGE","STRAIGHT_JOIN","STRING","STRIPED","SUPER","TABLE","TABLES","TEMPORARY","TERMINATED","THEN","TO","TRAILING","TRANSACTIONAL","TRIGGER","TRUE","TRUNCATE","TYPE","TYPES","UNCOMMITTED","UNIQUE","UNLOCK","UNSIGNED","USAGE","USE","USING","VARIABLES","VIEW","WHEN","WITH","WORK","WRITE","YEAR_MONTH"],D1=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","CREATE OR REPLACE","DECLARE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GO","GRANT","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","MODIFY","ORDER BY","RETURNING","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],k1=["INTERSECT ALL","INTERSECT","MINUS","UNION ALL","UNION"],M1=["AND","CROSS APPLY","CROSS JOIN","ELSE","INNER JOIN","FULL JOIN","FULL OUTER JOIN","LEFT JOIN","LEFT OUTER JOIN","NATURAL JOIN","OR","OUTER APPLY","OUTER JOIN","RENAME","RIGHT JOIN","RIGHT OUTER JOIN","JOIN","WHEN","XOR"];class Vt{static parse(e,t="mysql"){t==="mssql"&&(e=e.replace(/^[ \t]*GO;?[ \t]*$/gmi,""));const r=";";for(var n=[],i=!0;i;){a==null&&(a=e);var s=Vt.getStatements(a,t,r),o=s[0];o!=null&&o.trim()!=""&&n.push(o);var a=s[1];if(a==null||a.trim()=="")break}return n}static getStatements(e,t,r){for(var n=Array.from(e),i=null,s=null,o=!1,a=null,c=!1,u=null,h=!1,d=null,g=[],C=0;C<n.length;C++){var N=n[C];if(C>0&&(i=n[C-1]),C<n.length&&(s=n[C+1]),i!="\\"&&(N=="'"||N=='"')&&c==!1&&o==!1){c=!0,u=N;continue}if((N=="#"&&s==" "||N=="-"&&s=="-"||N=="/"&&s=="*")&&c==!1){o=!0,a=N;continue}if(o==!0&&((a=="#"||a=="-")&&N==`
`||a=="/"&&N=="*"&&s=="/")){o=!1,a=null;continue}if(i!="\\"&&N==u&&c==!0){c=!1,u=null;continue}if(N.toLowerCase()=="d"&&o==!1&&c==!1){var U=Vt.getDelimiter(C,e,t);if(U!=null){var B=U[0],D=U[1];e=e.substring(D),g=Vt.getStatements(e,t,B);break}}if(N=="$"&&o==!1&&c==!1){var J=e.substring(C);if(h==!1){var k=Vt.getTag(J,t);k!=null&&(h=!0,d=k[0])}else{var k=Vt.getTag(J,t);if(k!=null){var T=k[0];T==d&&(h=!1)}}}if(t==="mssql"&&N.toLowerCase()==="g"&&`${n[C+1]||""}`.toLowerCase()==="o"&&typeof n[C+2]!="undefined"&&/go\b/gi.test(`${N}${n[C+1]}${n[C+2]}`)&&(N=`${N}${n[C+1]}`),(N.toLowerCase()===r.toLowerCase()||N.toLowerCase()==="go")&&c==!1&&o==!1&&h==!1){var m=C+1;if(t==="mssql"&&N.toLowerCase()==="go"){m=C,g=Vt.getQueryParts(e,m,2);break}g=Vt.getQueryParts(e,m,0);break}}return g.length==0&&(e!=null&&(e=e.trim()),g.push(e,null)),g}static getQueryParts(e,t,r=1){var n=e.substring(0,t),i=e.substring(t+r),s=[];return n!=null&&(n=n.trim()),s.push(n),s.push(i),s}static getDelimiter(e,t,r){if(r=="mysql"){var n="delimiter ",i=n.length,s=t.substring(e),o=s.toLowerCase().indexOf(n);if(o==0){var a=t.substring(e),c=a.indexOf(`
`);c==-1&&(c=t.length),a=a.substring(0,c),a=a.substring(i);var u=a.trim();if(u=Vt.clearTextUntilComment(u),u!=null){u=u.trim();var h=s.indexOf(u)+e+u.length,d=[];return d.push(u),d.push(h),d}else return null}else return null}}static getTag(e,t){if(t=="pg"){var r=e.match(/^(\$[a-zA-Z]*\$)/i);if(r!=null&&r.length>1){var n=[],i=r[1].trim(),s=e.indexOf(i);return n.push(i),n.push(s),n}else return null}}static isGoDelimiter(e,t,r){if(e=="mssql"){var n=/(?:\bgo\b\s*)/i.exec(t);return n!=null&&n.index==r}}static clearTextUntilComment(e){for(var t=null,r=Array.from(e),n=null,i=0;i<r.length;i++){var s=r[i];if(i<r.length&&(t=r[i+1]),s=="#"&&t==" "||s=="-"&&t=="-"||s=="/"&&t=="*")break;n==null&&(n=""),n+=s}return n}}var CE=Vt.parse;function NE(e,t="mysql"){return CE(e,t)}const IE=Kt(require("crypto")),q1=new Uint8Array(16);function pl(){return IE.default.randomFillSync(q1)}var OE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function F1(e){return typeof e=="string"&&OE.test(e)}var AE=F1;const We=[];for(let e=0;e<256;++e)We.push((e+256).toString(16).substr(1));function j1(e,t=0){const r=(We[e[t+0]]+We[e[t+1]]+We[e[t+2]]+We[e[t+3]]+"-"+We[e[t+4]]+We[e[t+5]]+"-"+We[e[t+6]]+We[e[t+7]]+"-"+We[e[t+8]]+We[e[t+9]]+"-"+We[e[t+10]]+We[e[t+11]]+We[e[t+12]]+We[e[t+13]]+We[e[t+14]]+We[e[t+15]]).toLowerCase();if(!AE(r))throw TypeError("Stringified UUID is invalid");return r}var LE=j1;function U1(e,t,r){e=e||{};const n=e.random||(e.rng||pl)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return LE(n)}var PE=U1;var ml=PE;const zt=Kt(lo()),Ee=Kt(Po()),xE=Kt(Ig()),DE=Kt(require("fs")),kE=Kt(EE()),gl=e=>e;zt.types.setTypeParser(zt.types.builtins.TIMESTAMP||1114,gl);zt.types.setTypeParser(zt.types.builtins.TIMESTAMPTZ||1184,gl);zt.types.setTypeParser(zt.types.builtins.DATE||1082,gl);class El extends xE.default{constructor(){super(...arguments);this.queries=yE;this.query=(e,t={})=>{const r=[];let n;const{requestId:i}=t;return this.open().then(s=>ft(this,[],function*(){n=yield s.connect(),n.on("notice",a=>r.push(this.prepareMessage(`${a.name.toUpperCase()}: ${a.message}`)));const o=yield n.query({text:e.toString(),rowMode:"array"});return n.release(),o})).then(s=>{const o=NE(e.toString(),"pg");return Array.isArray(s)||(s=[s]),s.map((a,c)=>{const u=this.getColumnNames(a.fields||[]);return{requestId:i,resultId:ml(),connId:this.getId(),cols:u,messages:r.concat([this.prepareMessage(`${a.command} successfully executed.${a.command.toLowerCase()!=="select"&&typeof a.rowCount=="number"?` ${a.rowCount} rows were affected.`:""}`)]),query:o[c],results:this.mapRows(a.rows,u)}})}).catch(s=>(n&&n.release(),[{connId:this.getId(),requestId:i,resultId:ml(),cols:[],messages:r.concat([this.prepareMessage([s&&s.message||s,s&&s.routine==="scanner_yyerror"&&s.position?`at character ${s.position}`:void 0].filter(Boolean).join(" "))]),error:!0,rawError:s,query:e,results:[]}]))};this.completionsCache=null;this.getStaticCompletions=()=>ft(this,[],function*(){if(this.completionsCache)return this.completionsCache;this.completionsCache={};const e=yield this.queryResults("SELECT UPPER(word) AS label, UPPER(catdesc) AS desc FROM pg_get_keywords();");return e.forEach(t=>{this.completionsCache[t.label]={label:t.label,detail:t.label,filterText:t.label,sortText:(["SELECT","CREATE","UPDATE","DELETE"].includes(t.label)?"2:":"")+t.label,documentation:{value:`\`\`\`yaml
WORD: ${t.label}
TYPE: ${t.desc}
\`\`\``,kind:"markdown"}}}),this.completionsCache})}open(){return ft(this,[],function*(){if(this.connection)return this.connection;try{const e=this.credentials.pgOptions||{},{ssl:t}=e,r=Ds(e,["ssl"]);let n=Ye({connectionTimeoutMillis:Number(`${this.credentials.connectionTimeout||0}`)*1e3},r);if(this.credentials.connectString?n=Ye({connectionString:this.credentials.connectString},n):n=Ye({database:this.credentials.database,host:this.credentials.server,password:this.credentials.password,port:this.credentials.port,user:this.credentials.username},n),t)if(typeof t=="object"){const o=Ye({},t);["ca","key","cert","pfx"].forEach(a=>{if(!o[a]){delete o[a];return}this.log.info(`Reading file ${o[a].replace(/^file:\/\//,"")}`),o[a]=DE.default.readFileSync(o[a].replace(/^file:\/\//,"")).toString()}),Object.keys(o).length>0&&(n.ssl=o)}else n.ssl=t||!1;const i=new zt.Pool(n),s=yield i.connect();return s.release(),this.connection=Promise.resolve(i),this.connection}catch(t){return Promise.reject(t)}})}close(){return ft(this,[],function*(){if(!this.connection)return Promise.resolve();const e=yield this.connection;this.connection=null,e.end()})}getColumnNames(e){return e.reduce((t,{name:r})=>{const n=t.filter(i=>i===r).length;return t.concat(n>0?`${r} (${n})`:r)},[])}mapRows(e,t){return e.map(r=>kE.default(t,r))}getColumns(e){return ft(this,[],function*(){const t=yield this.queryResults(this.queries.fetchColumns(e));return t.map(r=>Ye(Ye({},r),{iconName:r.isPk?"pk":r.isFk?"fk":null,childType:Ee.ContextValue.NO_CHILD,table:e}))})}testConnection(){return ft(this,[],function*(){const e=yield this.open(),t=yield e.connect();yield t.query("SELECT 1"),t.release()})}getChildrenForItem({item:e,parent:t}){return ft(this,[],function*(){switch(e.type){case Ee.ContextValue.CONNECTION:case Ee.ContextValue.CONNECTED_CONNECTION:return this.queryResults(this.queries.fetchDatabases());case Ee.ContextValue.TABLE:case Ee.ContextValue.VIEW:case Ee.ContextValue.MATERIALIZED_VIEW:return this.getColumns(e);case Ee.ContextValue.DATABASE:return[{label:"Schemas",type:Ee.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ee.ContextValue.SCHEMA}];case Ee.ContextValue.RESOURCE_GROUP:return this.getChildrenForGroup({item:e,parent:t});case Ee.ContextValue.SCHEMA:return[{label:"Tables",type:Ee.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ee.ContextValue.TABLE},{label:"Views",type:Ee.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ee.ContextValue.VIEW},{label:"Materialized Views",type:Ee.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ee.ContextValue.MATERIALIZED_VIEW},{label:"Functions",type:Ee.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ee.ContextValue.FUNCTION}]}return[]})}getChildrenForGroup({parent:e,item:t}){return ft(this,[],function*(){switch(t.childType){case Ee.ContextValue.SCHEMA:return this.queryResults(this.queries.fetchSchemas(e));case Ee.ContextValue.TABLE:return this.queryResults(this.queries.fetchTables(e));case Ee.ContextValue.VIEW:return this.queryResults(this.queries.fetchViews(e));case Ee.ContextValue.MATERIALIZED_VIEW:return this.queryResults(this.queries.fetchMaterializedViews(e));case Ee.ContextValue.FUNCTION:return this.queryResults(this.queries.fetchFunctions(e))}return[]})}searchItems(e,t,r={}){switch(e){case Ee.ContextValue.TABLE:return this.queryResults(this.queries.searchTables({search:t}));case Ee.ContextValue.COLUMN:return this.queryResults(this.queries.searchColumns(Ye({search:t},r)))}}}const ME=[{displayName:"PostgreSQL",value:"PostgreSQL"},{displayName:"AWS Redshift",value:"AWS Redshift"}];Nl(exports,{default:()=>W1});const B1={register(e){ME.forEach(({value:t})=>{e.getContext().drivers.set(t,El)})}};var W1=B1;
