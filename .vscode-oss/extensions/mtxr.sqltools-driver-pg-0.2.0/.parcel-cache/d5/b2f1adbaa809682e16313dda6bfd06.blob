var e=require("vscode").extensions,t=[{displayName:"PostgreSQL",value:"PostgreSQL"},{displayName:"AWS Redshift",value:"AWS Redshift"}];function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function s(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,s,n,o,a){try{var i=e[o](a),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(s,n)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var a=e.apply(t,r);function i(e){o(a,s,n,i,c,"next",e)}function c(e){o(a,s,n,i,c,"throw",e)}i(void 0)}))}}var i,c=(i=JSON.parse('{"name":"sqltools-driver-pg","displayName":"SQLTools PostgreSQL/Redshift Driver","description":"SQLTools PostgreSQL/Redshift Driver","version":"0.0.6","engines":{"vscode":"^1.42.0"},"publisher":"mtxr","license":"MIT","private":true,"repository":{"type":"git","url":"https://github.com/mtxr/vscode-sqltools.git","directory":"packages/drivers.pg"},"bugs":{"url":"https://github.com/mtxr/vscode-sqltools/labels/pg"},"keywords":["sqltools-driver","postgre","postgres","postgresql","redshift","aws redshift"],"galleryBanner":{"theme":"dark","color":"#333333"},"icon":"icon.png","categories":["Programming Languages","Snippets","Formatters","Other"],"extensionDependencies":["mtxr.sqltools"],"activationEvents":["*","onLanguage:sql","onCommand:sqltools.*"],"main":"./out/extension.js","ls":"./out/ls/plugin.js","targets":{"main":{"context":"node","includeNodeModules":{"vscode":false},"outputFormat":"commonjs"},"ls":{"context":"node","includeNodeModules":true,"outputFormat":"commonjs","engines":{"node":">=10.x"}}},"optimizers":{"*.js":["@parcel/optimizer-terser"]},"alias":{"pg-native":"pg/lib/native"},"scripts":{"clean":"rimraf -rf out dist *.vsix","predev":"yarn run clean","dev":"concurrently -k \\"npm:watch:*\\"","prebuild":"yarn run clean && yarn run ts","build":"NODE_ENV=production concurrently \\"npm:build:*\\"","prepackage":"yarn run build","package":"vsce package --yarn -o .","build:ext":"NODE_PATH=../../ parcel build ./src/extension.ts --target main --dist-dir out --no-cache","build:ls":"NODE_PATH=../../ parcel build ./src/ls/plugin.ts --target ls --dist-dir out","watch:tsc":"yarn run ts -w --noEmit --preserveWatchOutput","watch:ext":"NODE_PATH=../../ parcel watch ./src/extension.ts --target main --dist-dir out --no-hmr --no-cache","watch:ls":"NODE_PATH=../../ parcel watch ./src/ls/plugin.ts --target ls --dist-dir out --no-hmr","ts":"tsc -p ."},"devDependencies":{"@parcel/optimizer-terser":"^2.0.0-alpha.3","@sqltools/base-driver":"latest","@types/lodash":"^4.14.123","@types/pg":"^7.14.3","@types/vscode":"^1.42.0","@types/webpack-env":"^1.15.2","concurrently":"^5.2.0","lodash":"^4.17.13","parcel":"2.0.0-beta.1","pg":"^8.2.1","rimraf":"^3.0.2","typescript":"^3.7.3","vsce":"1.77.0"}}')).publisher,u=i.name;function l(){return(l=a(regeneratorRuntime.mark((function r(n){var o,i,l,p;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.getExtension("mtxr.sqltools")){r.next=3;break}throw new Error("SQLTools not installed");case 3:return r.next=5,o.activate();case 5:return i=o.exports,l="".concat(c,".").concat(u),p={extensionId:l,name:"".concat("PostgreSQL/Redshift"," Plugin"),type:"driver",register:function(e){return a(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.resourcesMap().set("driver/".concat(t[0].value,"/icons"),{active:n.asAbsolutePath("icons/pg/active.png"),default:n.asAbsolutePath("icons/pg/default.png"),inactive:n.asAbsolutePath("icons/pg/inactive.png")}),e.resourcesMap().set("driver/".concat(t[1].value,"/icons"),{active:n.asAbsolutePath("icons/redshift/active.png"),default:n.asAbsolutePath("icons/redshift/default.png"),inactive:n.asAbsolutePath("icons/redshift/inactive.png")}),t.forEach((function(t){var r=t.value;e.resourcesMap().set("driver/".concat(r,"/extension-id"),l),e.resourcesMap().set("driver/".concat(r,"/connection-schema"),n.asAbsolutePath("connection.schema.json")),e.resourcesMap().set("driver/".concat(r,"/ui-schema"),n.asAbsolutePath("ui.schema.json"))})),r.next=5,e.client.sendRequest("ls/RegisterPlugin",{path:n.asAbsolutePath("out/ls/plugin.js")});case 5:case"end":return r.stop()}}),r)})))()}},i.registerPlugin(p),r.abrupt("return",{driverName:"PostgreSQL/Redshift",parseBeforeSaveConnection:function(e){var t=e.connInfo,r=["connectionMethod","id","usePassword"];return t.usePassword&&(t.usePassword.toString().toLowerCase().includes("ask")?r.push("password"):t.usePassword.toString().toLowerCase().includes("empty")?(t.password="",r.push("askForPassword")):t.usePassword.toString().toLowerCase().includes("save")&&r.push("askForPassword")),r.forEach((function(e){return delete t[e]})),t},parseBeforeEditConnection:function(e){var t=e.connInfo,r=s(s({},t),{},{connectionMethod:"Server and Port"});return t.socketPath?r.connectionMethod="Socket File":t.connectString&&(r.connectionMethod="Connection String"),t.askForPassword?(r.usePassword="Ask on connect",delete r.password):"string"==typeof t.password&&(delete r.askForPassword,r.usePassword=t.password?"Save password":"Use empty password"),r},driverAliases:t});case 10:case"end":return r.stop()}}),r)})))).apply(this,arguments)}exports.activate=function(e){return l.apply(this,arguments)},exports.deactivate=function(){};
//# sourceMappingURL=extension.js.map
