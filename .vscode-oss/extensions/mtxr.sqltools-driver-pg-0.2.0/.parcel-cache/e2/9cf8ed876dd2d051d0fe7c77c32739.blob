{"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxOA;AAEA;AACA;AACA;AAGA,IAAIkZ,OAAO,GAAG7e,OAAO,CAAC,SAAD,CAArB;;AACA,IAAI8e,OAAO,GAAG9e,OAAO,CAAC,gBAAD,CAAP,CAA0B+e,aAAxC;;AAEAje,MAAM,CAACC,OAAP,GAAiB4O,KAAjB,C,CAEA;;AAEA,SAASA,KAAT,CAAgBqP,OAAhB,EAAyBC,MAAzB,EAAiC3e,OAAjC,EAA0C;AACxC,MAAI4e,OAAO,GAAG,IAAIJ,OAAJ,EAAd;AACA,MAAIK,KAAK,GAAG,EAAZ;AACA,MAAIC,SAAS,GAAG9e,OAAO,IAAIA,OAAO,CAAC8e,SAAnC;AACA,MAAIC,QAAQ,GAAG/e,OAAO,IAAIA,OAAO,CAAC+e,QAAR,KAAqB,KAAhC,GAAwC,KAAxC,GAAgD,IAA/D;AACA,MAAG,eAAe,OAAOL,OAAzB,EACEC,MAAM,GAAGD,OAAT,EAAkBA,OAAO,GAAG,IAA5B;AACF,MAAI,CAACA,OAAL,EACEA,OAAO,GAAG,OAAV;;AAEF,WAASla,IAAT,CAAcjC,MAAd,EAAsByc,KAAtB,EAA6B;AAC3B,QAAGL,MAAH,EAAW;AACT,UAAI;AACFK,QAAAA,KAAK,GAAGL,MAAM,CAACK,KAAD,CAAd;AACD,OAFD,CAGA,OAAOplB,GAAP,EAAY;AACV,eAAO2I,MAAM,CAACiC,IAAP,CAAY,OAAZ,EAAqB5K,GAArB,CAAP;AACD;;AACD,UAAG,gBAAgB,OAAOolB,KAA1B,EACEzc,MAAM,CAAC0c,KAAP,CAAaD,KAAb;AACH,KATD,MAWEzc,MAAM,CAAC0c,KAAP,CAAaD,KAAb;AACH;;AAED,WAASE,IAAT,CAAe3c,MAAf,EAAuB8G,MAAvB,EAA+B;AAC7B,QAAI8V,MAAM,GAAG,CAAC,CAACN,KAAK,IAAI,IAAT,GAAgBA,KAAhB,GAAwB,EAAzB,IAA+BxV,MAAhC,EAAwCgG,KAAxC,CAA8CqP,OAA9C,CAAb;AACAG,IAAAA,KAAK,GAAGM,MAAM,CAACC,GAAP,EAAR;AAEA,QAAIN,SAAS,IAAID,KAAK,CAAC5hB,MAAN,GAAe6hB,SAAhC,EACE,OAAOvc,MAAM,CAACiC,IAAP,CAAY,OAAZ,EAAqB,IAAIZ,KAAJ,CAAU,wBAAV,CAArB,CAAP;;AAEF,SAAK,IAAI9K,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqmB,MAAM,CAACliB,MAA3B,EAAmCnE,CAAC,EAApC,EAAwC;AACtC,UAAIkmB,KAAK,GAAGG,MAAM,CAACrmB,CAAD,CAAlB;AACA0L,MAAAA,IAAI,CAACjC,MAAD,EAASyc,KAAT,CAAJ;AACD;AACF;;AAED,SAAOT,OAAO,CAAC,UAAUP,CAAV,EAAa;AAC1BkB,IAAAA,IAAI,CAAC,IAAD,EAAON,OAAO,CAACS,KAAR,CAAcrB,CAAd,CAAP,CAAJ;AACD,GAFa,EAGd,YAAY;AACV,QAAGY,OAAO,CAAChiB,GAAX,EACEsiB,IAAI,CAAC,IAAD,EAAON,OAAO,CAAChiB,GAAR,EAAP,CAAJ;AACF,QAAGmiB,QAAQ,IAAIF,KAAK,IAAI,IAAxB,EACEra,IAAI,CAAC,IAAD,EAAOqa,KAAP,CAAJ;AACF,SAAKI,KAAL,CAAW,IAAX;AACD,GATa,CAAd;AAUD;;AC9DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3GA;AACA;;;;;;;;AAQA,IAAIroB,KAAK,GAAG8I,OAAO,CAAC,UAAD,CAAnB;;AAEA,SAAS6B,aAAT,CAAuB+d,SAAvB,EAAkC;AAChC,OAAKrd,MAAL,GAAcqd,SAAS,IAAI1oB,KAA3B;AACA,OAAKyB,IAAL,GAAY,EAAZ;AACA,OAAKwK,MA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,CAACC,OAAP,GAAiBb,UAAjB;;ACpNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClZA;;AACAY,MAAM,CAACC,OAAP,GAAiBf,OAAO,CAAC,UAAD,CAAxB;;ACDA;AACA;;;;;;;AAQA;;AACA,IAAIglB,MAAM,GAAGhlB,OAAO,CAAC,WAAD,CAApB;;AACA,IAAI6B,aAAa,GAAG7B,OAAO,CAAC,mBAAD,CAA3B;;AACA,IAAIilB,MAAM,GAAGjlB,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIklB,GAA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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtqCA5G,MAAM,CAACC,OAAP,GAAiBsJ,IAAI,CAACkE,KAAL,CAAW,q+BAAX,CAAjB;;ACAA;AACA;;;;;;;;AAQA,IAAI/M,YAAY,GAAGxB,OAAO,CAAC,QAAD,CAAP,CAAkBwB,YAArC;;AACA,IAAIC,IAAI,GAAGzB,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAI0B,KAAK,GAAG1B,OAAO,CAAC,UAAD,CAAnB;;AA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AAnB;AACAvtB,EAAAA,KAAK,CAACvC,IAAN,CAAWqwB,aAAa,CAACG,QAAQ,CAAC9tB,KAAV,CAAxB;AACA,SAAOH,KAAK,CAACJ,IAAN,CAAW,GAAX,CAAP;AACD;;eAEcouB,e;;;ACjBf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3BA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACRA;AACA;AACA;AACA;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnBA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACj9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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AO,CAAC;AACJ2xC,QAAAA,WAAW,EAAE,MAAM;AAAE,iBAAOH,SAAP;AAAmB;AADpC,OAAD,CAAP;AAGH,KALD;AAMH,GAfM,CAAP;AAgBH;;AACDxtC,OAAO,CAAC8tC,2BAAR,GAAsCA,2BAAtC;;AACA,SAASC,2BAAT,CAAqC3yC,IAArC,EAA2C6G,QAAQ,GAAG,OAAtD,EAA+D;AAC3D,QAAMihB,MAAM,GAAG+pB,KAAK,CAACY,gBAAN,CAAuBzyC,IAAvB,EAA6B,WAA7B,CAAf;AACA,SAAO,CACH,IAAIkgC,eAAe,CAACI,mBAApB,CAAwCxY,MAAxC,EAAgDjhB,QAAhD,CADG,EAEH,IAAI05B,eAAe,CAACI,mBAApB,CAAwC7Y,MAAxC,EAAgDjhB,QAAhD,CAFG,CAAP;AAIH;;AACDjC,OAAO,CAAC+tC,2BAAR,GAAsCA,2BAAtC;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5qBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3HA;AACA;AACA;AACA;AACA;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1CA;;AACA,MAAMC,IAA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H,IAAP,KAAgB,QAApB,EAA8B;AAC7B,UAAM,IAAIwM,SAAJ,CAAe,wBAAuB,OAAOxM,IAAK,EAAlD,CAAN;AACA;;AAED+H,EAAAA,OAAO,GAAGU,MAAM,CAACmf,MAAP,CAAc;AAAC+vB,IAAAA,MAAM,EAAE;AAAT,GAAd,EAAkC5vC,OAAlC,CAAV;;AAEA,MAAIA,OAAO,CAAC4vC,MAAZ,EAAoB;AACnB;AACA33C,IAAAA,IAAI,IAAK,IAAG+H,OAAO,CAAC4vC,MAAO,EAA3B;AACA;;AAED,MAAIvvC,OAAO,CAAC+L,QAAR,KAAqB,QAAzB,EAAmC;AAClC,WAAOwiC,KAAK,CAAC32C,IAAD,CAAZ;AACA;;AAED,MAAIoI,OAAO,CAAC+L,QAAR,KAAqB,OAAzB,EAAkC;AACjC,WAAO4iC,OAAO,CAAC/2C,IAAD,CAAd;AACA;;AAED,SAAOo3C,KAAK,CAACp3C,IAAD,CAAZ;AACA,CArBD;;AAuBAuI,MAAM,CAACC,OAAP,GAAiBkvC,QAAjB,C,CACA;;AACAnvC,MAAM,CAACC,OAAP,CAAes2B,OAAf,GAAyB4Y,QAAzB;;ACzEA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACTA;AACA;AACA;AACA;AACA;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AEpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9LA;;AACA,MAAMtzC,EAAE,GAAGqD,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAM+uC,IAAI,GAAG/uC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;AAACmwC,EAAAA;AAAD,IAAcnwC,OAAO,CAAC,MAAD,CAA3B;;AACA,MAAMilB,MAAM,GAAGjlB,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMowC,wBAAwB,GAAGnrB,MAAM,CAACorB,SAAP,CAAiB1vC,OAAO,CAAC2kB,OAAzB,EAAkC,WAAlC,CAAjC,C,CAEA;AACA;;AACA,MAAMgrB,SAAS,GAAGC,GAAG,IAAI;AACxB,MAAI5vC,OAAO,CAAC+L,QAAR,KAAqB,OAAzB,EAAkC;AACjC,UAAM8jC,2BAA2B,GAAG,YAAYhhC,IAAZ,CAAiB+gC,GAAG,CAAC7zC,OAAJ,CAAYqyC,IAAI,CAACxgC,KAAL,CAAWgiC,GAAX,EAAgBE,IAA5B,EAAkC,EAAlC,CAAjB,CAApC;;AAEA,QAAID,2BAAJ,EAAiC;AAChC,YAAM/1C,KAAK,GAAG,IAAIyJ,KAAJ,CAAW,qCAAoCqsC,GAAI,EAAnD,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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3jDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AAEA;;AAEA,IAAI,OAAOC,iBAAP,KAA6B,WAA7B,IAA4C,OAAOC,OAAP,KAAmB,WAAnE,EAAgF;AAC9E,QAAMC,GAAG,GAAG,IAAIC,UAAJ,CAAe,IAAIH,iBAAJ,CAAsB,CAAtB,CAAf,CAAZ;;AAEA,WAASI,KAAT,CAAgBpkC,EAAhB,EAAoB;AAClB;AACA,UAAMqkC,KAAK,GAAGrkC,EAAE,GAAG,CAAL,IAAUA,EAAE,GAAGiF,QAA7B;;AACA,QAAIo/B,KAAK,KAAK,KAAd,EAAqB;AACnB,UAAI,OAAOrkC,EAAP,KAAc,QAAd,IAA0B,OAAOA,EAAP,KAAc,QAA5C,EAAsD;AACpD,cAAMpN,SAAS,CAAC,4BAAD,CAAf;AACD;;AACD,YAAM0xC,UAAU,CAAC,0EAAD,CAAhB;AACD;;AAEDL,IAAAA,OAAO,CAACM,IAAR,CAAaL,GAAb,EAAkB,CAAlB,EAAqB,CAArB,EAAwBz6C,MAAM,CAACuW,EAAD,CAA9B;AACD;;AACDrR,EAAAA,MAAM,CAACC,OAAP,GAAiBw1C,KAAjB;AACD,CAhBD,MAgBO;AAEL,WAASA,KAAT,CAAgBpkC,EAAhB,EAAoB;AAClB;AACA,UAAMqkC,KAAK,GAAGrkC,EAAE,GAAG,CAAL,IAAUA,EAAE,GAAGiF,QAA7B;;AACA,QAAIo/B,KAAK,KAAK,KAAd,EAAqB;AACnB,UAAI,OAAOrkC,EAAP,KAAc,QAAd,IAA0B,OAAOA,EAAP,KAAc,QAA5C,EAAsD;AACpD,cAAMpN,SAAS,CAAC,4BAAD,CAAf;AACD;;AACD,YAAM0xC,UAAU,CAAC,0EAAD,CAAhB;AACD;;AACD,UAAMlhC,MAAM,GAAGxL,IAAI,CAAC0uB,GAAL,KAAa78B,MAAM,CAACuW,EAAD,CAAlC;;AACA,WAAOoD,MAAM,GAAGxL,IAAI,CAAC0uB,GAAL,EAAhB,EAA2B,CAAE;AAC9B;;AAED33B,EAAAA,MAAM,CAACC,OAAP,GAAiBw1C,KAAjB;AAED;;ACrCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrJA;;AACA,MAAMI,UAAU,GAAG32C,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAM;AAAC42C,EAAAA,MAAM,EAAEC,WAAT;AAAsBC,EAAAA,MAAM,EAAEC;AAA9B,IAA6C/2C,OAAO,CAAC,gBAAD,CAA1D;;AACA,MAAM;AACLg3C,EAAAA,gBADK;AAELC,EAAAA;AAFK,IAGFj3C,OAAO,CAAC,QAAD,CAHX;;AAKA,MAAM;AAAC/G,EAAAA;AAAD,IAAYD,KAAlB,C,CAEA;;AACA,MAAMk+C,YAAY,GAAG,CACpB,MADoB,EAEpB,MAFoB,EAGpB,SAHoB,EAIpB,SAJoB,CAArB;AAOA,MAAMC,MAAM,GAAGn2C,MAAM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,OAAO,CAACR,IAAR,CAAanjB,GAAb,GAAmB,UAAUmjB,IAAV,EAAgB;AAClC,QAAM5zC,GAAG,GAAG6B,IAAI,CAACoH,KAAL,CAAW2qC,IAAI,CAAC,CAAD,CAAJ,GAAU,GAAV,GAAgB,GAA3B,IAAkC,IAA9C;AACA,QAAMyE,OAAO,GAAG,CAACr4C,GAAG,IAAI,EAAR,KAAeA,GAAG,IAAI,CAAtB,IAA2BA,GAA3C;AAEA,QAAMgD,MAAM,GAAGq1C,OAAO,CAAC5oD,QAAR,CAAiB,EAAjB,EAAqBJ,WAArB,EAAf;AACA,SAAO,SAASkX,SAAT,CAAmBvD,MAAM,CAAC5O,MAA1B,IAAoC4O,MAA3C;AACA,CAND;;AAQAoxC,OAAO,CAAC7D,GAAR,CAAYqD,IAAZ,GAAmB,UAAUrD,GAAV,EAAe;AACjC,QAAMvwC,GAAG,GAAG,CAACuwC,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAZ,GAAkBA,GAAG,CAAC,CAAD,CAAtB,IAA6B,CAAzC;AACA,SAAO,CAACvwC,GAAG,GAAG,GAAN,GAAY,GAAb,CAAP;AACA,CAHD;;ACn0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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AtB,EAAkC;AAC9B,QAAIl5C,MAAM,GAAG,IAAIi5C,MAAJ,EAAb,CAD8B,CAE9B;AACA;AACA;;AACA,QAAIkD,OAAO,GAAG,IAAIqB,OAAJ,EAAd;AACA,QAAIC,WAAW,GAAG,IAAIvB,eAAJ,CAAoBC,OAApB,CAAlB;AACAA,IAAAA,OAAO,CAACuB,YAAR,GAAuBD,WAAvB;AACA,QAAIz2B,IAAI,GAAGhnB,MAAM,CAAC5C,KAAP,CAAa87C,UAAb,CAAX;AACA,WAAOuE,WAAW,CAAClvD,MAAZ,CAAmBy4B,IAAnB,EAAyB1yB,IAAzB,CAAP;AACH;;AAED1E,EAAAA,OAAO,CAACiqB,QAAR,GAAmBA,QAAnB;AACAjqB,EAAAA,OAAO,CAAC8yD,OAAR,GAAkBA,OAAlB;AACA9yD,EAAAA,OAAO,CAACrB,MAAR,GAAiBA,MAAjB;AACAqB,EAAAA,OAAO,CAACykD,eAAR,GAA0BA,eAA1B;AACD,CAloDD,EAkoDG,OAAOzkD,OAAP,KAAmB,WAAnB,GAAiC,KAAK+yD,QAAL,GAAgB,EAAjD,GAAsD/yD,OAloDzD;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvXA;;;;;;;;;;;;;AAcA,CAAC,UAASuB,MAAT,EAAiB;AAChB;;AAEA,MAAIyxD,UAAU,GAAI,YAAW;AACzB,QAAI1lC,KAAK,GAAG,kEAAZ;AACA,QAAI2lC,QAAQ,GAAG,sIAAf;AACA,QAAIC,YAAY,GAAG,aAAnB,CAHyB,CAKzB;;AACA,WAAO,UAAUvpD,IAAV,EAAgB8L,IAAhB,EAAsB09C,GAAtB,EAA2BC,GAA3B,EAAgC;AAErC;AACA,UAAI3+C,SAAS,CAACjY,MAAV,KAAqB,CAArB,IAA0B62D,MAAM,CAAC1pD,IAAD,CAAN,KAAiB,QAA3C,IAAuD,CAAC,KAAK8E,IAAL,CAAU9E,IAAV,CAA5D,EAA6E;AAC3E8L,QAAAA,IAAI,GAAG9L,IAAP;AACAA,QAAAA,IAAI,GAAGrQ,SAAP;AACD;;AAEDqQ,MAAAA,IAAI,GAAGA,IAAI,IAAI,IAAIX,IAAJ,EAAf;;AAEA,UAAG,EAAEW,IAAI,YAAYX,IAAlB,CAAH,EAA4B;A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","sources":["./src/ls/plugin.ts","./src/ls/driver.ts","../../node_modules/pg/lib/index.js","../../node_modules/pg/lib/client.js","../../node_modules/pg/lib/utils.js","../../node_modules/pg/lib/defaults.js","../../node_modules/pg-types/index.js","../../node_modules/pg-types/lib/textParsers.js","../../node_modules/postgres-array/index.js","../../node_modules/pg-types/lib/arrayParser.js","../../node_modules/postgres-date/index.js","../../node_modules/postgres-interval/index.js","../../node_modules/xtend/mutable.js","../../node_modules/postgres-bytea/index.js","../../node_modules/pg-types/lib/binaryParsers.js","../../node_modules/pg-int8/index.js","../../node_modules/pg-types/lib/builtins.js","../../node_modules/pg/lib/sasl.js","../../node_modules/pgpass/lib/index.js","../../node_modules/pgpass/lib/helper.js","../../node_modules/split/index.js","../../node_modules/through/index.js","../../node_modules/pg/lib/type-overrides.js","../../node_modules/pg/lib/connection-parameters.js","../../node_modules/pg-connection-string/index.js","../../node_modules/pg/lib/query.js","../../node_modules/pg/lib/result.js","../../node_modules/pg/lib/connection.js","../../node_modules/pg-protocol/dist/index.js","../../node_modules/pg-protocol/dist/serializer.js","../../node_modules/pg-protocol/dist/buffer-writer.js","../../node_modules/pg-protocol/dist/parser.js","../../node_modules/pg-protocol/dist/messages.js","../../node_modules/pg-protocol/dist/buffer-reader.js","../../node_modules/pg-pool/index.js","../../node_modules/pg/lib/native/index.js","../../node_modules/pg/lib/native/client.js","../../node_modules/pg/node_modules/semver/semver.js","../../node_modules/pg/package.json","../../node_modules/pg/lib/native/query.js","./src/ls/queries.ts","./node_modules/@sqltools/base-driver/dist/lib/factory.js","./src/escape-table.ts","./node_modules/@sqltools/types/index.js","../../node_modules/lodash/zipObject.js","../../node_modules/lodash/_assignValue.js","../../node_modules/lodash/_baseAssignValue.js","../../node_modules/lodash/_defineProperty.js","../../node_modules/lodash/_getNative.js","../../node_modules/lodash/_baseIsNative.js","../../node_modules/lodash/isFunction.js","../../node_modules/lodash/_baseGetTag.js","../../node_modules/lodash/_Symbol.js","../../node_modules/lodash/_root.js","../../node_modules/lodash/_freeGlobal.js","../../node_modules/lodash/_getRawTag.js","../../node_modules/lodash/_objectToString.js","../../node_modules/lodash/isObject.js","../../node_modules/lodash/_isMasked.js","../../node_modules/lodash/_coreJsData.js","../../node_modules/lodash/_toSource.js","../../node_modules/lodash/_getValue.js","../../node_modules/lodash/eq.js","../../node_modules/lodash/_baseZipObject.js","../../node_modules/@sqltools/util/query/index.ts","../../node_modules/@sqltools/formatter/src/sqlFormatter.ts","../../node_modules/@sqltools/formatter/src/languages/Db2Formatter.ts","../../node_modules/@sqltools/formatter/src/languages/utils/abstract.ts","../../node_modules/@sqltools/formatter/src/core/Tokenizer.ts","../../node_modules/@sqltools/formatter/src/core/escapeRegExp.ts","../../node_modules/@sqltools/formatter/src/core/types.ts","../../node_modules/@sqltools/formatter/src/core/Formatter.ts","../../node_modules/@sqltools/formatter/src/core/Indentation.ts","../../node_modules/@sqltools/formatter/src/core/last.ts","../../node_modules/@sqltools/formatter/src/core/InlineBlock.ts","../../node_modules/@sqltools/formatter/src/core/Params.ts","../../node_modules/@sqltools/formatter/src/languages/N1qlFormatter.ts","../../node_modules/@sqltools/formatter/src/languages/PlSqlFormatter.ts","../../node_modules/@sqltools/formatter/src/languages/StandardSqlFormatter.ts","../../node_modules/@sqltools/util/query/parse.ts","../../node_modules/@sqltools/util/internal-id.ts","../../node_modules/@sqltools/util/node_modules/uuid/dist/index.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/v1.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/rng.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/bytesToUuid.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/v3.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/v35.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/md5.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/v4.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/v5.js","../../node_modules/@sqltools/util/node_modules/uuid/dist/sha1.js","./node_modules/@sqltools/base-driver/dist/index.js","./node_modules/@sqltools/base-driver/dist/lib/exception/electron-not-supported.js","./node_modules/@sqltools/base-driver/dist/lib/exception/response-error.js","../../node_modules/vscode-languageserver/lib/main.js","../../node_modules/vscode-languageserver-protocol/lib/main.js","../../node_modules/vscode-jsonrpc/lib/main.js","../../node_modules/vscode-jsonrpc/lib/is.js","../../node_modules/vscode-jsonrpc/lib/messages.js","../../node_modules/vscode-jsonrpc/lib/messageReader.js","../../node_modules/vscode-jsonrpc/lib/events.js","../../node_modules/vscode-jsonrpc/lib/messageWriter.js","../../node_modules/vscode-jsonrpc/lib/cancellation.js","../../node_modules/vscode-jsonrpc/lib/linkedMap.js","../../node_modules/vscode-jsonrpc/lib/pipeSupport.js","../../node_modules/vscode-jsonrpc/lib/socketSupport.js","../../node_modules/vscode-languageserver-types/lib/umd/main.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.js","../../node_modules/vscode-languageserver-protocol/lib/utils/is.js","../../node_modules/vscode-languageserver-protocol/lib/messages.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.implementation.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.typeDefinition.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.workspaceFolders.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.configuration.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.colorProvider.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.foldingRange.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.declaration.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.selectionRange.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.progress.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.callHierarchy.proposed.js","../../node_modules/vscode-languageserver-protocol/lib/protocol.sematicTokens.proposed.js","../../node_modules/vscode-languageserver/lib/configuration.js","../../node_modules/vscode-languageserver/lib/utils/is.js","../../node_modules/vscode-languageserver/lib/workspaceFolders.js","../../node_modules/vscode-languageserver/lib/progress.js","../../node_modules/vscode-languageserver/lib/utils/uuid.js","../../node_modules/vscode-languageserver/lib/files.js","../../node_modules/vscode-languageserver/lib/callHierarchy.proposed.js","../../node_modules/vscode-languageserver/lib/sematicTokens.proposed.js","./node_modules/@sqltools/base-driver/dist/lib/notification.js","./node_modules/@sqltools/base-driver/dist/lib/exception/missing-module.js","./node_modules/@sqltools/base-driver/dist/lib/require.js","../../node_modules/env-paths/index.js","../../node_modules/resolve/index.js","../../node_modules/resolve/lib/async.js","../../node_modules/resolve/lib/caller.js","../../node_modules/resolve/lib/node-modules-paths.js","../../node_modules/path-parse/index.js","../../node_modules/resolve/lib/normalize-options.js","../../node_modules/resolve/lib/is-core.js","../../node_modules/resolve/lib/core.js","../../node_modules/resolve/lib/core.json","../../node_modules/resolve/lib/sync.js","../../node_modules/make-dir/index.js","../../node_modules/make-dir/node_modules/semver/semver.js","./node_modules/@sqltools/log/dist/index.js","./node_modules/@sqltools/log/dist/lib/vscode.js","./node_modules/@sqltools/log/dist/lib/factory.js","../../node_modules/pino/pino.js","../../node_modules/pino-std-serializers/index.js","../../node_modules/pino-std-serializers/lib/err.js","../../node_modules/pino-std-serializers/lib/req.js","../../node_modules/pino-std-serializers/lib/res.js","../../node_modules/pino/lib/redaction.js","../../node_modules/fast-redact/index.js","../../node_modules/fast-redact/lib/validator.js","../../node_modules/fast-redact/lib/parse.js","../../node_modules/fast-redact/lib/rx.js","../../node_modules/fast-redact/lib/redactor.js","../../node_modules/fast-redact/lib/restorer.js","../../node_modules/fast-redact/lib/modifiers.js","../../node_modules/fast-redact/lib/state.js","../../node_modules/pino/lib/symbols.js","../../node_modules/pino/lib/time.js","../../node_modules/pino/lib/proto.js","../../node_modules/sonic-boom/index.js","../../node_modules/flatstr/index.js","../../node_modules/atomic-sleep/index.js","../../node_modules/pino/lib/levels.js","../../node_modules/pino/lib/tools.js","../../node_modules/quick-format-unescaped/index.js","../../node_modules/fast-safe-stringify/index.js","../../node_modules/pino-pretty/index.js","../../node_modules/pino-pretty/node_modules/chalk/source/index.js","../../node_modules/pino-pretty/node_modules/ansi-styles/index.js","../../node_modules/pino-pretty/node_modules/color-convert/index.js","../../node_modules/pino-pretty/node_modules/color-convert/conversions.js","../../node_modules/color-name/index.js","../../node_modules/pino-pretty/node_modules/color-convert/route.js","../../node_modules/pino-pretty/node_modules/supports-color/index.js","../../node_modules/pino-pretty/node_modules/has-flag/index.js","../../node_modules/pino-pretty/node_modules/chalk/source/util.js","../../node_modules/pino-pretty/node_modules/chalk/source/templates.js","../../node_modules/jmespath/jmespath.js","../../node_modules/pino-pretty/lib/colors.js","../../node_modules/pino-pretty/lib/constants.js","../../node_modules/pino-pretty/lib/utils.js","../../node_modules/dateformat/lib/dateformat.js","../../node_modules/@hapi/bourne/lib/index.js","../../node_modules/pino/lib/meta.js","../../node_modules/pino/package.json","./node_modules/@sqltools/log/dist/lib/general.js","./src/constants.ts"],"sourcesContent":[null,null,"'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nvar Client = require('./client')\nvar defaults = require('./defaults')\nvar Connection = require('./connection')\nvar Pool = require('pg-pool')\n\nconst poolFactory = (Client) => {\n  return class BoundPool extends Pool {\n    constructor(options) {\n      super(options, Client)\n    }\n  }\n}\n\nvar PG = function (clientConstructor) {\n  this.defaults = defaults\n  this.Client = clientConstructor\n  this.Query = this.Client.Query\n  this.Pool = poolFactory(this.Client)\n  this._pools = []\n  this.Connection = Connection\n  this.types = require('pg-types')\n}\n\nif (typeof process.env.NODE_PG_FORCE_NATIVE !== 'undefined') {\n  module.exports = new PG(require('./native'))\n} else {\n  module.exports = new PG(Client)\n\n  // lazy require native module...the native module may not have installed\n  Object.defineProperty(module.exports, 'native', {\n    configurable: true,\n    enumerable: false,\n    get() {\n      var native = null\n      try {\n        native = new PG(require('./native'))\n      } catch (err) {\n        if (err.code !== 'MODULE_NOT_FOUND') {\n          throw err\n        }\n        /* eslint-disable no-console */\n        console.error(err.message)\n        /* eslint-enable no-console */\n      }\n\n      // overwrite module.exports.native so that getter is never called again\n      Object.defineProperty(module.exports, 'native', {\n        value: native,\n      })\n\n      return native\n    },\n  })\n}\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nvar EventEmitter = require('events').EventEmitter\nvar util = require('util')\nvar utils = require('./utils')\nvar sasl = require('./sasl')\nvar pgPass = require('pgpass')\nvar TypeOverrides = require('./type-overrides')\n\nvar ConnectionParameters = require('./connection-parameters')\nvar Query = require('./query')\nvar defaults = require('./defaults')\nvar Connection = require('./connection')\n\nvar Client = function (config) {\n  EventEmitter.call(this)\n\n  this.connectionParameters = new ConnectionParameters(config)\n  this.user = this.connectionParameters.user\n  this.database = this.connectionParameters.database\n  this.port = this.connectionParameters.port\n  this.host = this.connectionParameters.host\n\n  // \"hiding\" the password so it doesn't show up in stack traces\n  // or if the client is console.logged\n  Object.defineProperty(this, 'password', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: this.connectionParameters.password,\n  })\n\n  this.replication = this.connectionParameters.replication\n\n  var c = config || {}\n\n  this._Promise = c.Promise || global.Promise\n  this._types = new TypeOverrides(c.types)\n  this._ending = false\n  this._connecting = false\n  this._connected = false\n  this._connectionError = false\n  this._queryable = true\n\n  this.connection =\n    c.connection ||\n    new Connection({\n      stream: c.stream,\n      ssl: this.connectionParameters.ssl,\n      keepAlive: c.keepAlive || false,\n      keepAliveInitialDelayMillis: c.keepAliveInitialDelayMillis || 0,\n      encoding: this.connectionParameters.client_encoding || 'utf8',\n    })\n  this.queryQueue = []\n  this.binary = c.binary || defaults.binary\n  this.processID = null\n  this.secretKey = null\n  this.ssl = this.connectionParameters.ssl || false\n  this._connectionTimeoutMillis = c.connectionTimeoutMillis || 0\n}\n\nutil.inherits(Client, EventEmitter)\n\nClient.prototype._errorAllQueries = function (err) {\n  const enqueueError = (query) => {\n    process.nextTick(() => {\n      query.handleError(err, this.connection)\n    })\n  }\n\n  if (this.activeQuery) {\n    enqueueError(this.activeQuery)\n    this.activeQuery = null\n  }\n\n  this.queryQueue.forEach(enqueueError)\n  this.queryQueue.length = 0\n}\n\nClient.prototype._connect = function (callback) {\n  var self = this\n  var con = this.connection\n  if (this._connecting || this._connected) {\n    const err = new Error('Client has already been connected. You cannot reuse a client.')\n    process.nextTick(() => {\n      callback(err)\n    })\n    return\n  }\n  this._connecting = true\n\n  var connectionTimeoutHandle\n  if (this._connectionTimeoutMillis > 0) {\n    connectionTimeoutHandle = setTimeout(() => {\n      con._ending = true\n      con.stream.destroy(new Error('timeout expired'))\n    }, this._connectionTimeoutMillis)\n  }\n\n  if (this.host && this.host.indexOf('/') === 0) {\n    con.connect(this.host + '/.s.PGSQL.' + this.port)\n  } else {\n    con.connect(this.port, this.host)\n  }\n\n  // once connection is established send startup message\n  con.on('connect', function () {\n    if (self.ssl) {\n      con.requestSsl()\n    } else {\n      con.startup(self.getStartupConf())\n    }\n  })\n\n  con.on('sslconnect', function () {\n    con.startup(self.getStartupConf())\n  })\n\n  function checkPgPass(cb) {\n    return function (msg) {\n      if (typeof self.password === 'function') {\n        self._Promise\n          .resolve()\n          .then(() => self.password())\n          .then((pass) => {\n            if (pass !== undefined) {\n              if (typeof pass !== 'string') {\n                con.emit('error', new TypeError('Password must be a string'))\n                return\n              }\n              self.connectionParameters.password = self.password = pass\n            } else {\n              self.connectionParameters.password = self.password = null\n            }\n            cb(msg)\n          })\n          .catch((err) => {\n            con.emit('error', err)\n          })\n      } else if (self.password !== null) {\n        cb(msg)\n      } else {\n        pgPass(self.connectionParameters, function (pass) {\n          if (undefined !== pass) {\n            self.connectionParameters.password = self.password = pass\n          }\n          cb(msg)\n        })\n      }\n    }\n  }\n\n  // password request handling\n  con.on(\n    'authenticationCleartextPassword',\n    checkPgPass(function () {\n      con.password(self.password)\n    })\n  )\n\n  // password request handling\n  con.on(\n    'authenticationMD5Password',\n    checkPgPass(function (msg) {\n      con.password(utils.postgresMd5PasswordHash(self.user, self.password, msg.salt))\n    })\n  )\n\n  // password request handling (SASL)\n  var saslSession\n  con.on(\n    'authenticationSASL',\n    checkPgPass(function (msg) {\n      saslSession = sasl.startSession(msg.mechanisms)\n\n      con.sendSASLInitialResponseMessage(saslSession.mechanism, saslSession.response)\n    })\n  )\n\n  // password request handling (SASL)\n  con.on('authenticationSASLContinue', function (msg) {\n    sasl.continueSession(saslSession, self.password, msg.data)\n\n    con.sendSCRAMClientFinalMessage(saslSession.response)\n  })\n\n  // password request handling (SASL)\n  con.on('authenticationSASLFinal', function (msg) {\n    sasl.finalizeSession(saslSession, msg.data)\n\n    saslSession = null\n  })\n\n  con.once('backendKeyData', function (msg) {\n    self.processID = msg.processID\n    self.secretKey = msg.secretKey\n  })\n\n  const connectingErrorHandler = (err) => {\n    if (this._connectionError) {\n      return\n    }\n    this._connectionError = true\n    clearTimeout(connectionTimeoutHandle)\n    if (callback) {\n      return callback(err)\n    }\n    this.emit('error', err)\n  }\n\n  const connectedErrorHandler = (err) => {\n    this._queryable = false\n    this._errorAllQueries(err)\n    this.emit('error', err)\n  }\n\n  const connectedErrorMessageHandler = (msg) => {\n    const activeQuery = this.activeQuery\n\n    if (!activeQuery) {\n      connectedErrorHandler(msg)\n      return\n    }\n\n    this.activeQuery = null\n    activeQuery.handleError(msg, con)\n  }\n\n  con.on('error', connectingErrorHandler)\n  con.on('errorMessage', connectingErrorHandler)\n\n  // hook up query handling events to connection\n  // after the connection initially becomes ready for queries\n  con.once('readyForQuery', function () {\n    self._connecting = false\n    self._connected = true\n    self._attachListeners(con)\n    con.removeListener('error', connectingErrorHandler)\n    con.removeListener('errorMessage', connectingErrorHandler)\n    con.on('error', connectedErrorHandler)\n    con.on('errorMessage', connectedErrorMessageHandler)\n    clearTimeout(connectionTimeoutHandle)\n\n    // process possible callback argument to Client#connect\n    if (callback) {\n      callback(null, self)\n      // remove callback for proper error handling\n      // after the connect event\n      callback = null\n    }\n    self.emit('connect')\n  })\n\n  con.on('readyForQuery', function () {\n    var activeQuery = self.activeQuery\n    self.activeQuery = null\n    self.readyForQuery = true\n    if (activeQuery) {\n      activeQuery.handleReadyForQuery(con)\n    }\n    self._pulseQueryQueue()\n  })\n\n  con.once('end', () => {\n    const error = this._ending ? new Error('Connection terminated') : new Error('Connection terminated unexpectedly')\n\n    clearTimeout(connectionTimeoutHandle)\n    this._errorAllQueries(error)\n\n    if (!this._ending) {\n      // if the connection is ended without us calling .end()\n      // on this client then we have an unexpected disconnection\n      // treat this as an error unless we've already emitted an error\n      // during connection.\n      if (this._connecting && !this._connectionError) {\n        if (callback) {\n          callback(error)\n        } else {\n          connectedErrorHandler(error)\n        }\n      } else if (!this._connectionError) {\n        connectedErrorHandler(error)\n      }\n    }\n\n    process.nextTick(() => {\n      this.emit('end')\n    })\n  })\n\n  con.on('notice', function (msg) {\n    self.emit('notice', msg)\n  })\n}\n\nClient.prototype.connect = function (callback) {\n  if (callback) {\n    this._connect(callback)\n    return\n  }\n\n  return new this._Promise((resolve, reject) => {\n    this._connect((error) => {\n      if (error) {\n        reject(error)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\n\nClient.prototype._attachListeners = function (con) {\n  const self = this\n  // delegate rowDescription to active query\n  con.on('rowDescription', function (msg) {\n    self.activeQuery.handleRowDescription(msg)\n  })\n\n  // delegate dataRow to active query\n  con.on('dataRow', function (msg) {\n    self.activeQuery.handleDataRow(msg)\n  })\n\n  // delegate portalSuspended to active query\n  // eslint-disable-next-line no-unused-vars\n  con.on('portalSuspended', function (msg) {\n    self.activeQuery.handlePortalSuspended(con)\n  })\n\n  // delegate emptyQuery to active query\n  // eslint-disable-next-line no-unused-vars\n  con.on('emptyQuery', function (msg) {\n    self.activeQuery.handleEmptyQuery(con)\n  })\n\n  // delegate commandComplete to active query\n  con.on('commandComplete', function (msg) {\n    self.activeQuery.handleCommandComplete(msg, con)\n  })\n\n  // if a prepared statement has a name and properly parses\n  // we track that its already been executed so we don't parse\n  // it again on the same client\n  // eslint-disable-next-line no-unused-vars\n  con.on('parseComplete', function (msg) {\n    if (self.activeQuery.name) {\n      con.parsedStatements[self.activeQuery.name] = self.activeQuery.text\n    }\n  })\n\n  // eslint-disable-next-line no-unused-vars\n  con.on('copyInResponse', function (msg) {\n    self.activeQuery.handleCopyInResponse(self.connection)\n  })\n\n  con.on('copyData', function (msg) {\n    self.activeQuery.handleCopyData(msg, self.connection)\n  })\n\n  con.on('notification', function (msg) {\n    self.emit('notification', msg)\n  })\n}\n\nClient.prototype.getStartupConf = function () {\n  var params = this.connectionParameters\n\n  var data = {\n    user: params.user,\n    database: params.database,\n  }\n\n  var appName = params.application_name || params.fallback_application_name\n  if (appName) {\n    data.application_name = appName\n  }\n  if (params.replication) {\n    data.replication = '' + params.replication\n  }\n  if (params.statement_timeout) {\n    data.statement_timeout = String(parseInt(params.statement_timeout, 10))\n  }\n  if (params.idle_in_transaction_session_timeout) {\n    data.idle_in_transaction_session_timeout = String(parseInt(params.idle_in_transaction_session_timeout, 10))\n  }\n  if (params.options) {\n    data.options = params.options\n  }\n\n  return data\n}\n\nClient.prototype.cancel = function (client, query) {\n  if (client.activeQuery === query) {\n    var con = this.connection\n\n    if (this.host && this.host.indexOf('/') === 0) {\n      con.connect(this.host + '/.s.PGSQL.' + this.port)\n    } else {\n      con.connect(this.port, this.host)\n    }\n\n    // once connection is established send cancel message\n    con.on('connect', function () {\n      con.cancel(client.processID, client.secretKey)\n    })\n  } else if (client.queryQueue.indexOf(query) !== -1) {\n    client.queryQueue.splice(client.queryQueue.indexOf(query), 1)\n  }\n}\n\nClient.prototype.setTypeParser = function (oid, format, parseFn) {\n  return this._types.setTypeParser(oid, format, parseFn)\n}\n\nClient.prototype.getTypeParser = function (oid, format) {\n  return this._types.getTypeParser(oid, format)\n}\n\n// Ported from PostgreSQL 9.2.4 source code in src/interfaces/libpq/fe-exec.c\nClient.prototype.escapeIdentifier = function (str) {\n  return '\"' + str.replace(/\"/g, '\"\"') + '\"'\n}\n\n// Ported from PostgreSQL 9.2.4 source code in src/interfaces/libpq/fe-exec.c\nClient.prototype.escapeLiteral = function (str) {\n  var hasBackslash = false\n  var escaped = \"'\"\n\n  for (var i = 0; i < str.length; i++) {\n    var c = str[i]\n    if (c === \"'\") {\n      escaped += c + c\n    } else if (c === '\\\\') {\n      escaped += c + c\n      hasBackslash = true\n    } else {\n      escaped += c\n    }\n  }\n\n  escaped += \"'\"\n\n  if (hasBackslash === true) {\n    escaped = ' E' + escaped\n  }\n\n  return escaped\n}\n\nClient.prototype._pulseQueryQueue = function () {\n  if (this.readyForQuery === true) {\n    this.activeQuery = this.queryQueue.shift()\n    if (this.activeQuery) {\n      this.readyForQuery = false\n      this.hasExecuted = true\n\n      const queryError = this.activeQuery.submit(this.connection)\n      if (queryError) {\n        process.nextTick(() => {\n          this.activeQuery.handleError(queryError, this.connection)\n          this.readyForQuery = true\n          this._pulseQueryQueue()\n        })\n      }\n    } else if (this.hasExecuted) {\n      this.activeQuery = null\n      this.emit('drain')\n    }\n  }\n}\n\nClient.prototype.query = function (config, values, callback) {\n  // can take in strings, config object or query object\n  var query\n  var result\n  var readTimeout\n  var readTimeoutTimer\n  var queryCallback\n\n  if (config === null || config === undefined) {\n    throw new TypeError('Client was passed a null or undefined query')\n  } else if (typeof config.submit === 'function') {\n    readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n    result = query = config\n    if (typeof values === 'function') {\n      query.callback = query.callback || values\n    }\n  } else {\n    readTimeout = this.connectionParameters.query_timeout\n    query = new Query(config, values, callback)\n    if (!query.callback) {\n      result = new this._Promise((resolve, reject) => {\n        query.callback = (err, res) => (err ? reject(err) : resolve(res))\n      })\n    }\n  }\n\n  if (readTimeout) {\n    queryCallback = query.callback\n\n    readTimeoutTimer = setTimeout(() => {\n      var error = new Error('Query read timeout')\n\n      process.nextTick(() => {\n        query.handleError(error, this.connection)\n      })\n\n      queryCallback(error)\n\n      // we already returned an error,\n      // just do nothing if query completes\n      query.callback = () => {}\n\n      // Remove from queue\n      var index = this.queryQueue.indexOf(query)\n      if (index > -1) {\n        this.queryQueue.splice(index, 1)\n      }\n\n      this._pulseQueryQueue()\n    }, readTimeout)\n\n    query.callback = (err, res) => {\n      clearTimeout(readTimeoutTimer)\n      queryCallback(err, res)\n    }\n  }\n\n  if (this.binary && !query.binary) {\n    query.binary = true\n  }\n\n  if (query._result && !query._result._types) {\n    query._result._types = this._types\n  }\n\n  if (!this._queryable) {\n    process.nextTick(() => {\n      query.handleError(new Error('Client has encountered a connection error and is not queryable'), this.connection)\n    })\n    return result\n  }\n\n  if (this._ending) {\n    process.nextTick(() => {\n      query.handleError(new Error('Client was closed and is not queryable'), this.connection)\n    })\n    return result\n  }\n\n  this.queryQueue.push(query)\n  this._pulseQueryQueue()\n  return result\n}\n\nClient.prototype.end = function (cb) {\n  this._ending = true\n\n  // if we have never connected, then end is a noop, callback immediately\n  if (!this.connection._connecting) {\n    if (cb) {\n      cb()\n    } else {\n      return this._Promise.resolve()\n    }\n  }\n\n  if (this.activeQuery || !this._queryable) {\n    // if we have an active query we need to force a disconnect\n    // on the socket - otherwise a hung query could block end forever\n    this.connection.stream.destroy()\n  } else {\n    this.connection.end()\n  }\n\n  if (cb) {\n    this.connection.once('end', cb)\n  } else {\n    return new this._Promise((resolve) => {\n      this.connection.once('end', resolve)\n    })\n  }\n}\n\n// expose a Query constructor\nClient.Query = Query\n\nmodule.exports = Client\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nconst crypto = require('crypto')\n\nconst defaults = require('./defaults')\n\nfunction escapeElement(elementRepresentation) {\n  var escaped = elementRepresentation.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"')\n\n  return '\"' + escaped + '\"'\n}\n\n// convert a JS array to a postgres array literal\n// uses comma separator so won't work for types like box that use\n// a different array separator.\nfunction arrayString(val) {\n  var result = '{'\n  for (var i = 0; i < val.length; i++) {\n    if (i > 0) {\n      result = result + ','\n    }\n    if (val[i] === null || typeof val[i] === 'undefined') {\n      result = result + 'NULL'\n    } else if (Array.isArray(val[i])) {\n      result = result + arrayString(val[i])\n    } else if (val[i] instanceof Buffer) {\n      result += '\\\\\\\\x' + val[i].toString('hex')\n    } else {\n      result += escapeElement(prepareValue(val[i]))\n    }\n  }\n  result = result + '}'\n  return result\n}\n\n// converts values from javascript types\n// to their 'raw' counterparts for use as a postgres parameter\n// note: you can override this function to provide your own conversion mechanism\n// for complex types, etc...\nvar prepareValue = function (val, seen) {\n  if (val instanceof Buffer) {\n    return val\n  }\n  if (ArrayBuffer.isView(val)) {\n    var buf = Buffer.from(val.buffer, val.byteOffset, val.byteLength)\n    if (buf.length === val.byteLength) {\n      return buf\n    }\n    return buf.slice(val.byteOffset, val.byteOffset + val.byteLength) // Node.js v4 does not support those Buffer.from params\n  }\n  if (val instanceof Date) {\n    if (defaults.parseInputDatesAsUTC) {\n      return dateToStringUTC(val)\n    } else {\n      return dateToString(val)\n    }\n  }\n  if (Array.isArray(val)) {\n    return arrayString(val)\n  }\n  if (val === null || typeof val === 'undefined') {\n    return null\n  }\n  if (typeof val === 'object') {\n    return prepareObject(val, seen)\n  }\n  return val.toString()\n}\n\nfunction prepareObject(val, seen) {\n  if (val && typeof val.toPostgres === 'function') {\n    seen = seen || []\n    if (seen.indexOf(val) !== -1) {\n      throw new Error('circular reference detected while preparing \"' + val + '\" for query')\n    }\n    seen.push(val)\n\n    return prepareValue(val.toPostgres(prepareValue), seen)\n  }\n  return JSON.stringify(val)\n}\n\nfunction pad(number, digits) {\n  number = '' + number\n  while (number.length < digits) {\n    number = '0' + number\n  }\n  return number\n}\n\nfunction dateToString(date) {\n  var offset = -date.getTimezoneOffset()\n\n  var year = date.getFullYear()\n  var isBCYear = year < 1\n  if (isBCYear) year = Math.abs(year) + 1 // negative years are 1 off their BC representation\n\n  var ret =\n    pad(year, 4) +\n    '-' +\n    pad(date.getMonth() + 1, 2) +\n    '-' +\n    pad(date.getDate(), 2) +\n    'T' +\n    pad(date.getHours(), 2) +\n    ':' +\n    pad(date.getMinutes(), 2) +\n    ':' +\n    pad(date.getSeconds(), 2) +\n    '.' +\n    pad(date.getMilliseconds(), 3)\n\n  if (offset < 0) {\n    ret += '-'\n    offset *= -1\n  } else {\n    ret += '+'\n  }\n\n  ret += pad(Math.floor(offset / 60), 2) + ':' + pad(offset % 60, 2)\n  if (isBCYear) ret += ' BC'\n  return ret\n}\n\nfunction dateToStringUTC(date) {\n  var year = date.getUTCFullYear()\n  var isBCYear = year < 1\n  if (isBCYear) year = Math.abs(year) + 1 // negative years are 1 off their BC representation\n\n  var ret =\n    pad(year, 4) +\n    '-' +\n    pad(date.getUTCMonth() + 1, 2) +\n    '-' +\n    pad(date.getUTCDate(), 2) +\n    'T' +\n    pad(date.getUTCHours(), 2) +\n    ':' +\n    pad(date.getUTCMinutes(), 2) +\n    ':' +\n    pad(date.getUTCSeconds(), 2) +\n    '.' +\n    pad(date.getUTCMilliseconds(), 3)\n\n  ret += '+00:00'\n  if (isBCYear) ret += ' BC'\n  return ret\n}\n\nfunction normalizeQueryConfig(config, values, callback) {\n  // can take in strings or config objects\n  config = typeof config === 'string' ? { text: config } : config\n  if (values) {\n    if (typeof values === 'function') {\n      config.callback = values\n    } else {\n      config.values = values\n    }\n  }\n  if (callback) {\n    config.callback = callback\n  }\n  return config\n}\n\nconst md5 = function (string) {\n  return crypto.createHash('md5').update(string, 'utf-8').digest('hex')\n}\n\n// See AuthenticationMD5Password at https://www.postgresql.org/docs/current/static/protocol-flow.html\nconst postgresMd5PasswordHash = function (user, password, salt) {\n  var inner = md5(password + user)\n  var outer = md5(Buffer.concat([Buffer.from(inner), salt]))\n  return 'md5' + outer\n}\n\nmodule.exports = {\n  prepareValue: function prepareValueWrapper(value) {\n    // this ensures that extra arguments do not get passed into prepareValue\n    // by accident, eg: from calling values.map(utils.prepareValue)\n    return prepareValue(value)\n  },\n  normalizeQueryConfig,\n  postgresMd5PasswordHash,\n  md5,\n}\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nmodule.exports = {\n  // database host. defaults to localhost\n  host: 'localhost',\n\n  // database user's name\n  user: process.platform === 'win32' ? process.env.USERNAME : process.env.USER,\n\n  // name of database to connect\n  database: undefined,\n\n  // database user's password\n  password: null,\n\n  // a Postgres connection string to be used instead of setting individual connection items\n  // NOTE:  Setting this value will cause it to override any other value (such as database or user) defined\n  // in the defaults object.\n  connectionString: undefined,\n\n  // database port\n  port: 5432,\n\n  // number of rows to return at a time from a prepared statement's\n  // portal. 0 will return all rows at once\n  rows: 0,\n\n  // binary result mode\n  binary: false,\n\n  // Connection pool options - see https://github.com/brianc/node-pg-pool\n\n  // number of connections to use in connection pool\n  // 0 will disable connection pooling\n  max: 10,\n\n  // max milliseconds a client can go unused before it is removed\n  // from the pool and destroyed\n  idleTimeoutMillis: 30000,\n\n  client_encoding: '',\n\n  ssl: false,\n\n  application_name: undefined,\n\n  fallback_application_name: undefined,\n\n  options: undefined,\n\n  parseInputDatesAsUTC: false,\n\n  // max milliseconds any query using this connection will execute for before timing out in error.\n  // false=unlimited\n  statement_timeout: false,\n\n  // Terminate any session with an open transaction that has been idle for longer than the specified duration in milliseconds\n  // false=unlimited\n  idle_in_transaction_session_timeout: false,\n\n  // max milliseconds to wait for query to complete (client side)\n  query_timeout: false,\n\n  connect_timeout: 0,\n\n  keepalives: 1,\n\n  keepalives_idle: 0,\n}\n\nvar pgTypes = require('pg-types')\n// save default parsers\nvar parseBigInteger = pgTypes.getTypeParser(20, 'text')\nvar parseBigIntegerArray = pgTypes.getTypeParser(1016, 'text')\n\n// parse int8 so you can get your count values as actual numbers\nmodule.exports.__defineSetter__('parseInt8', function (val) {\n  pgTypes.setTypeParser(20, 'text', val ? pgTypes.getTypeParser(23, 'text') : parseBigInteger)\n  pgTypes.setTypeParser(1016, 'text', val ? pgTypes.getTypeParser(1007, 'text') : parseBigIntegerArray)\n})\n","var textParsers = require('./lib/textParsers');\nvar binaryParsers = require('./lib/binaryParsers');\nvar arrayParser = require('./lib/arrayParser');\nvar builtinTypes = require('./lib/builtins');\n\nexports.getTypeParser = getTypeParser;\nexports.setTypeParser = setTypeParser;\nexports.arrayParser = arrayParser;\nexports.builtins = builtinTypes;\n\nvar typeParsers = {\n  text: {},\n  binary: {}\n};\n\n//the empty parse function\nfunction noParse (val) {\n  return String(val);\n};\n\n//returns a function used to convert a specific type (specified by\n//oid) into a result javascript type\n//note: the oid can be obtained via the following sql query:\n//SELECT oid FROM pg_type WHERE typname = 'TYPE_NAME_HERE';\nfunction getTypeParser (oid, format) {\n  format = format || 'text';\n  if (!typeParsers[format]) {\n    return noParse;\n  }\n  return typeParsers[format][oid] || noParse;\n};\n\nfunction setTypeParser (oid, format, parseFn) {\n  if(typeof format == 'function') {\n    parseFn = format;\n    format = 'text';\n  }\n  typeParsers[format][oid] = parseFn;\n};\n\ntextParsers.init(function(oid, converter) {\n  typeParsers.text[oid] = converter;\n});\n\nbinaryParsers.init(function(oid, converter) {\n  typeParsers.binary[oid] = converter;\n});\n","var array = require('postgres-array')\nvar arrayParser = require('./arrayParser');\nvar parseDate = require('postgres-date');\nvar parseInterval = require('postgres-interval');\nvar parseByteA = require('postgres-bytea');\n\nfunction allowNull (fn) {\n  return function nullAllowed (value) {\n    if (value === null) return value\n    return fn(value)\n  }\n}\n\nfunction parseBool (value) {\n  if (value === null) return value\n  return value === 'TRUE' ||\n    value === 't' ||\n    value === 'true' ||\n    value === 'y' ||\n    value === 'yes' ||\n    value === 'on' ||\n    value === '1';\n}\n\nfunction parseBoolArray (value) {\n  if (!value) return null\n  return array.parse(value, parseBool)\n}\n\nfunction parseBaseTenInt (string) {\n  return parseInt(string, 10)\n}\n\nfunction parseIntegerArray (value) {\n  if (!value) return null\n  return array.parse(value, allowNull(parseBaseTenInt))\n}\n\nfunction parseBigIntegerArray (value) {\n  if (!value) return null\n  return array.parse(value, allowNull(function (entry) {\n    return parseBigInteger(entry).trim()\n  }))\n}\n\nvar parsePointArray = function(value) {\n  if(!value) { return null; }\n  var p = arrayParser.create(value, function(entry) {\n    if(entry !== null) {\n      entry = parsePoint(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseFloatArray = function(value) {\n  if(!value) { return null; }\n  var p = arrayParser.create(value, function(entry) {\n    if(entry !== null) {\n      entry = parseFloat(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseStringArray = function(value) {\n  if(!value) { return null; }\n\n  var p = arrayParser.create(value);\n  return p.parse();\n};\n\nvar parseDateArray = function(value) {\n  if (!value) { return null; }\n\n  var p = arrayParser.create(value, function(entry) {\n    if (entry !== null) {\n      entry = parseDate(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseIntervalArray = function(value) {\n  if (!value) { return null; }\n\n  var p = arrayParser.create(value, function(entry) {\n    if (entry !== null) {\n      entry = parseInterval(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseByteAArray = function(value) {\n  if (!value) { return null; }\n\n  return array.parse(value, allowNull(parseByteA));\n};\n\nvar parseInteger = function(value) {\n  return parseInt(value, 10);\n};\n\nvar parseBigInteger = function(value) {\n  var valStr = String(value);\n  if (/^\\d+$/.test(valStr)) { return valStr; }\n  return value;\n};\n\nvar parseJsonArray = function(value) {\n  if (!value) { return null; }\n\n  return array.parse(value, allowNull(JSON.parse));\n};\n\nvar parsePoint = function(value) {\n  if (value[0] !== '(') { return null; }\n\n  value = value.substring( 1, value.length - 1 ).split(',');\n\n  return {\n    x: parseFloat(value[0])\n  , y: parseFloat(value[1])\n  };\n};\n\nvar parseCircle = function(value) {\n  if (value[0] !== '<' && value[1] !== '(') { return null; }\n\n  var point = '(';\n  var radius = '';\n  var pointParsed = false;\n  for (var i = 2; i < value.length - 1; i++){\n    if (!pointParsed) {\n      point += value[i];\n    }\n\n    if (value[i] === ')') {\n      pointParsed = true;\n      continue;\n    } else if (!pointParsed) {\n      continue;\n    }\n\n    if (value[i] === ','){\n      continue;\n    }\n\n    radius += value[i];\n  }\n  var result = parsePoint(point);\n  result.radius = parseFloat(radius);\n\n  return result;\n};\n\nvar init = function(register) {\n  register(20, parseBigInteger); // int8\n  register(21, parseInteger); // int2\n  register(23, parseInteger); // int4\n  register(26, parseInteger); // oid\n  register(700, parseFloat); // float4/real\n  register(701, parseFloat); // float8/double\n  register(16, parseBool);\n  register(1082, parseDate); // date\n  register(1114, parseDate); // timestamp without timezone\n  register(1184, parseDate); // timestamp\n  register(600, parsePoint); // point\n  register(651, parseStringArray); // cidr[]\n  register(718, parseCircle); // circle\n  register(1000, parseBoolArray);\n  register(1001, parseByteAArray);\n  register(1005, parseIntegerArray); // _int2\n  register(1007, parseIntegerArray); // _int4\n  register(1028, parseIntegerArray); // oid[]\n  register(1016, parseBigIntegerArray); // _int8\n  register(1017, parsePointArray); // point[]\n  register(1021, parseFloatArray); // _float4\n  register(1022, parseFloatArray); // _float8\n  register(1231, parseFloatArray); // _numeric\n  register(1014, parseStringArray); //char\n  register(1015, parseStringArray); //varchar\n  register(1008, parseStringArray);\n  register(1009, parseStringArray);\n  register(1040, parseStringArray); // macaddr[]\n  register(1041, parseStringArray); // inet[]\n  register(1115, parseDateArray); // timestamp without time zone[]\n  register(1182, parseDateArray); // _date\n  register(1185, parseDateArray); // timestamp with time zone[]\n  register(1186, parseInterval);\n  register(1187, parseIntervalArray);\n  register(17, parseByteA);\n  register(114, JSON.parse.bind(JSON)); // json\n  register(3802, JSON.parse.bind(JSON)); // jsonb\n  register(199, parseJsonArray); // json[]\n  register(3807, parseJsonArray); // jsonb[]\n  register(3907, parseStringArray); // numrange[]\n  register(2951, parseStringArray); // uuid[]\n  register(791, parseStringArray); // money[]\n  register(1183, parseStringArray); // time[]\n  register(1270, parseStringArray); // timetz[]\n};\n\nmodule.exports = {\n  init: init\n};\n","'use strict'\n\nexports.parse = function (source, transform) {\n  return new ArrayParser(source, transform).parse()\n}\n\nclass ArrayParser {\n  constructor (source, transform) {\n    this.source = source\n    this.transform = transform || identity\n    this.position = 0\n    this.entries = []\n    this.recorded = []\n    this.dimension = 0\n  }\n\n  isEof () {\n    return this.position >= this.source.length\n  }\n\n  nextCharacter () {\n    var character = this.source[this.position++]\n    if (character === '\\\\') {\n      return {\n        value: this.source[this.position++],\n        escaped: true\n      }\n    }\n    return {\n      value: character,\n      escaped: false\n    }\n  }\n\n  record (character) {\n    this.recorded.push(character)\n  }\n\n  newEntry (includeEmpty) {\n    var entry\n    if (this.recorded.length > 0 || includeEmpty) {\n      entry = this.recorded.join('')\n      if (entry === 'NULL' && !includeEmpty) {\n        entry = null\n      }\n      if (entry !== null) entry = this.transform(entry)\n      this.entries.push(entry)\n      this.recorded = []\n    }\n  }\n\n  consumeDimensions () {\n    if (this.source[0] === '[') {\n      while (!this.isEof()) {\n        var char = this.nextCharacter()\n        if (char.value === '=') break\n      }\n    }\n  }\n\n  parse (nested) {\n    var character, parser, quote\n    this.consumeDimensions()\n    while (!this.isEof()) {\n      character = this.nextCharacter()\n      if (character.value === '{' && !quote) {\n        this.dimension++\n        if (this.dimension > 1) {\n          parser = new ArrayParser(this.source.substr(this.position - 1), this.transform)\n          this.entries.push(parser.parse(true))\n          this.position += parser.position - 2\n        }\n      } else if (character.value === '}' && !quote) {\n        this.dimension--\n        if (!this.dimension) {\n          this.newEntry()\n          if (nested) return this.entries\n        }\n      } else if (character.value === '\"' && !character.escaped) {\n        if (quote) this.newEntry(true)\n        quote = !quote\n      } else if (character.value === ',' && !quote) {\n        this.newEntry()\n      } else {\n        this.record(character.value)\n      }\n    }\n    if (this.dimension !== 0) {\n      throw new Error('array dimension not balanced')\n    }\n    return this.entries\n  }\n}\n\nfunction identity (value) {\n  return value\n}\n","var array = require('postgres-array');\n\nmodule.exports = {\n  create: function (source, transform) {\n    return {\n      parse: function() {\n        return array.parse(source, transform);\n      }\n    };\n  }\n};\n","'use strict'\n\nvar DATE_TIME = /(\\d{1,})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,})?.*?( BC)?$/\nvar DATE = /^(\\d{1,})-(\\d{2})-(\\d{2})( BC)?$/\nvar TIME_ZONE = /([Z+-])(\\d{2})?:?(\\d{2})?:?(\\d{2})?/\nvar INFINITY = /^-?infinity$/\n\nmodule.exports = function parseDate (isoDate) {\n  if (INFINITY.test(isoDate)) {\n    // Capitalize to Infinity before passing to Number\n    return Number(isoDate.replace('i', 'I'))\n  }\n  var matches = DATE_TIME.exec(isoDate)\n\n  if (!matches) {\n    // Force YYYY-MM-DD dates to be parsed as local time\n    return getDate(isoDate) || null\n  }\n\n  var isBC = !!matches[8]\n  var year = parseInt(matches[1], 10)\n  if (isBC) {\n    year = bcYearToNegativeYear(year)\n  }\n\n  var month = parseInt(matches[2], 10) - 1\n  var day = matches[3]\n  var hour = parseInt(matches[4], 10)\n  var minute = parseInt(matches[5], 10)\n  var second = parseInt(matches[6], 10)\n\n  var ms = matches[7]\n  ms = ms ? Math.round(1000 * parseFloat(ms)) : 0\n\n  var date\n  var offset = timeZoneOffset(isoDate)\n  if (offset != null) {\n    date = new Date(Date.UTC(year, month, day, hour, minute, second, ms))\n\n    // Account for years from 0 to 99 being interpreted as 1900-1999\n    // by Date.UTC / the multi-argument form of the Date constructor\n    if (is0To99(year)) {\n      date.setUTCFullYear(year)\n    }\n\n    date.setTime(date.getTime() - offset)\n  } else {\n    date = new Date(year, month, day, hour, minute, second, ms)\n\n    if (is0To99(year)) {\n      date.setFullYear(year)\n    }\n  }\n\n  return date\n}\n\nfunction getDate (isoDate) {\n  var matches = DATE.exec(isoDate)\n  if (!matches) {\n    return\n  }\n\n  var year = parseInt(matches[1], 10)\n  var isBC = !!matches[4]\n  if (isBC) {\n    year = bcYearToNegativeYear(year)\n  }\n\n  var month = parseInt(matches[2], 10) - 1\n  var day = matches[3]\n  // YYYY-MM-DD will be parsed as local time\n  var date = new Date(year, month, day)\n\n  if (is0To99(year)) {\n    date.setFullYear(year)\n  }\n\n  return date\n}\n\n// match timezones:\n// Z (UTC)\n// -05\n// +06:30\nfunction timeZoneOffset (isoDate) {\n  var zone = TIME_ZONE.exec(isoDate.split(' ')[1])\n  if (!zone) return\n  var type = zone[1]\n\n  if (type === 'Z') {\n    return 0\n  }\n  var sign = type === '-' ? -1 : 1\n  var offset = parseInt(zone[2], 10) * 3600 +\n    parseInt(zone[3] || 0, 10) * 60 +\n    parseInt(zone[4] || 0, 10)\n\n  return offset * sign * 1000\n}\n\nfunction bcYearToNegativeYear (year) {\n  // Account for numerical difference between representations of BC years\n  // See: https://github.com/bendrucker/postgres-date/issues/5\n  return -(year - 1)\n}\n\nfunction is0To99 (num) {\n  return num >= 0 && num < 100\n}\n","'use strict'\n\nvar extend = require('xtend/mutable')\n\nmodule.exports = PostgresInterval\n\nfunction PostgresInterval (raw) {\n  if (!(this instanceof PostgresInterval)) {\n    return new PostgresInterval(raw)\n  }\n  extend(this, parse(raw))\n}\nvar properties = ['seconds', 'minutes', 'hours', 'days', 'months', 'years']\nPostgresInterval.prototype.toPostgres = function () {\n  var filtered = properties.filter(this.hasOwnProperty, this)\n\n  // In addition to `properties`, we need to account for fractions of seconds.\n  if (this.milliseconds && filtered.indexOf('seconds') < 0) {\n    filtered.push('seconds')\n  }\n\n  if (filtered.length === 0) return '0'\n  return filtered\n    .map(function (property) {\n      var value = this[property] || 0\n\n      // Account for fractional part of seconds,\n      // remove trailing zeroes.\n      if (property === 'seconds' && this.milliseconds) {\n        value = (value + this.milliseconds / 1000).toFixed(6).replace(/\\.?0+$/, '')\n      }\n\n      return value + ' ' + property\n    }, this)\n    .join(' ')\n}\n\nvar propertiesISOEquivalent = {\n  years: 'Y',\n  months: 'M',\n  days: 'D',\n  hours: 'H',\n  minutes: 'M',\n  seconds: 'S'\n}\nvar dateProperties = ['years', 'months', 'days']\nvar timeProperties = ['hours', 'minutes', 'seconds']\n// according to ISO 8601\nPostgresInterval.prototype.toISOString = PostgresInterval.prototype.toISO = function () {\n  var datePart = dateProperties\n    .map(buildProperty, this)\n    .join('')\n\n  var timePart = timeProperties\n    .map(buildProperty, this)\n    .join('')\n\n  return 'P' + datePart + 'T' + timePart\n\n  function buildProperty (property) {\n    var value = this[property] || 0\n\n    // Account for fractional part of seconds,\n    // remove trailing zeroes.\n    if (property === 'seconds' && this.milliseconds) {\n      value = (value + this.milliseconds / 1000).toFixed(6).replace(/0+$/, '')\n    }\n\n    return value + propertiesISOEquivalent[property]\n  }\n}\n\nvar NUMBER = '([+-]?\\\\d+)'\nvar YEAR = NUMBER + '\\\\s+years?'\nvar MONTH = NUMBER + '\\\\s+mons?'\nvar DAY = NUMBER + '\\\\s+days?'\nvar TIME = '([+-])?([\\\\d]*):(\\\\d\\\\d):(\\\\d\\\\d)\\\\.?(\\\\d{1,6})?'\nvar INTERVAL = new RegExp([YEAR, MONTH, DAY, TIME].map(function (regexString) {\n  return '(' + regexString + ')?'\n})\n  .join('\\\\s*'))\n\n// Positions of values in regex match\nvar positions = {\n  years: 2,\n  months: 4,\n  days: 6,\n  hours: 9,\n  minutes: 10,\n  seconds: 11,\n  milliseconds: 12\n}\n// We can use negative time\nvar negatives = ['hours', 'minutes', 'seconds', 'milliseconds']\n\nfunction parseMilliseconds (fraction) {\n  // add omitted zeroes\n  var microseconds = fraction + '000000'.slice(fraction.length)\n  return parseInt(microseconds, 10) / 1000\n}\n\nfunction parse (interval) {\n  if (!interval) return {}\n  var matches = INTERVAL.exec(interval)\n  var isNegative = matches[8] === '-'\n  return Object.keys(positions)\n    .reduce(function (parsed, property) {\n      var position = positions[property]\n      var value = matches[position]\n      // no empty string\n      if (!value) return parsed\n      // milliseconds are actually microseconds (up to 6 digits)\n      // with omitted trailing zeroes.\n      value = property === 'milliseconds'\n        ? parseMilliseconds(value)\n        : parseInt(value, 10)\n      // no zeros\n      if (!value) return parsed\n      if (isNegative && ~negatives.indexOf(property)) {\n        value *= -1\n      }\n      parsed[property] = value\n      return parsed\n    }, {})\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nmodule.exports = function parseBytea (input) {\n  if (/^\\\\x/.test(input)) {\n    // new 'hex' style response (pg >9.0)\n    return new Buffer(input.substr(2), 'hex')\n  }\n  var output = ''\n  var i = 0\n  while (i < input.length) {\n    if (input[i] !== '\\\\') {\n      output += input[i]\n      ++i\n    } else {\n      if (/[0-7]{3}/.test(input.substr(i + 1, 3))) {\n        output += String.fromCharCode(parseInt(input.substr(i + 1, 3), 8))\n        i += 4\n      } else {\n        var backslashes = 1\n        while (i + backslashes < input.length && input[i + backslashes] === '\\\\') {\n          backslashes++\n        }\n        for (var k = 0; k < Math.floor(backslashes / 2); ++k) {\n          output += '\\\\'\n        }\n        i += Math.floor(backslashes / 2) * 2\n      }\n    }\n  }\n  return new Buffer(output, 'binary')\n}\n","var parseInt64 = require('pg-int8');\n\nvar parseBits = function(data, bits, offset, invert, callback) {\n  offset = offset || 0;\n  invert = invert || false;\n  callback = callback || function(lastValue, newValue, bits) { return (lastValue * Math.pow(2, bits)) + newValue; };\n  var offsetBytes = offset >> 3;\n\n  var inv = function(value) {\n    if (invert) {\n      return ~value & 0xff;\n    }\n\n    return value;\n  };\n\n  // read first (maybe partial) byte\n  var mask = 0xff;\n  var firstBits = 8 - (offset % 8);\n  if (bits < firstBits) {\n    mask = (0xff << (8 - bits)) & 0xff;\n    firstBits = bits;\n  }\n\n  if (offset) {\n    mask = mask >> (offset % 8);\n  }\n\n  var result = 0;\n  if ((offset % 8) + bits >= 8) {\n    result = callback(0, inv(data[offsetBytes]) & mask, firstBits);\n  }\n\n  // read bytes\n  var bytes = (bits + offset) >> 3;\n  for (var i = offsetBytes + 1; i < bytes; i++) {\n    result = callback(result, inv(data[i]), 8);\n  }\n\n  // bits to read, that are not a complete byte\n  var lastBits = (bits + offset) % 8;\n  if (lastBits > 0) {\n    result = callback(result, inv(data[bytes]) >> (8 - lastBits), lastBits);\n  }\n\n  return result;\n};\n\nvar parseFloatFromBits = function(data, precisionBits, exponentBits) {\n  var bias = Math.pow(2, exponentBits - 1) - 1;\n  var sign = parseBits(data, 1);\n  var exponent = parseBits(data, exponentBits, 1);\n\n  if (exponent === 0) {\n    return 0;\n  }\n\n  // parse mantissa\n  var precisionBitsCounter = 1;\n  var parsePrecisionBits = function(lastValue, newValue, bits) {\n    if (lastValue === 0) {\n      lastValue = 1;\n    }\n\n    for (var i = 1; i <= bits; i++) {\n      precisionBitsCounter /= 2;\n      if ((newValue & (0x1 << (bits - i))) > 0) {\n        lastValue += precisionBitsCounter;\n      }\n    }\n\n    return lastValue;\n  };\n\n  var mantissa = parseBits(data, precisionBits, exponentBits + 1, false, parsePrecisionBits);\n\n  // special cases\n  if (exponent == (Math.pow(2, exponentBits + 1) - 1)) {\n    if (mantissa === 0) {\n      return (sign === 0) ? Infinity : -Infinity;\n    }\n\n    return NaN;\n  }\n\n  // normale number\n  return ((sign === 0) ? 1 : -1) * Math.pow(2, exponent - bias) * mantissa;\n};\n\nvar parseInt16 = function(value) {\n  if (parseBits(value, 1) == 1) {\n    return -1 * (parseBits(value, 15, 1, true) + 1);\n  }\n\n  return parseBits(value, 15, 1);\n};\n\nvar parseInt32 = function(value) {\n  if (parseBits(value, 1) == 1) {\n    return -1 * (parseBits(value, 31, 1, true) + 1);\n  }\n\n  return parseBits(value, 31, 1);\n};\n\nvar parseFloat32 = function(value) {\n  return parseFloatFromBits(value, 23, 8);\n};\n\nvar parseFloat64 = function(value) {\n  return parseFloatFromBits(value, 52, 11);\n};\n\nvar parseNumeric = function(value) {\n  var sign = parseBits(value, 16, 32);\n  if (sign == 0xc000) {\n    return NaN;\n  }\n\n  var weight = Math.pow(10000, parseBits(value, 16, 16));\n  var result = 0;\n\n  var digits = [];\n  var ndigits = parseBits(value, 16);\n  for (var i = 0; i < ndigits; i++) {\n    result += parseBits(value, 16, 64 + (16 * i)) * weight;\n    weight /= 10000;\n  }\n\n  var scale = Math.pow(10, parseBits(value, 16, 48));\n  return ((sign === 0) ? 1 : -1) * Math.round(result * scale) / scale;\n};\n\nvar parseDate = function(isUTC, value) {\n  var sign = parseBits(value, 1);\n  var rawValue = parseBits(value, 63, 1);\n\n  // discard usecs and shift from 2000 to 1970\n  var result = new Date((((sign === 0) ? 1 : -1) * rawValue / 1000) + 946684800000);\n\n  if (!isUTC) {\n    result.setTime(result.getTime() + result.getTimezoneOffset() * 60000);\n  }\n\n  // add microseconds to the date\n  result.usec = rawValue % 1000;\n  result.getMicroSeconds = function() {\n    return this.usec;\n  };\n  result.setMicroSeconds = function(value) {\n    this.usec = value;\n  };\n  result.getUTCMicroSeconds = function() {\n    return this.usec;\n  };\n\n  return result;\n};\n\nvar parseArray = function(value) {\n  var dim = parseBits(value, 32);\n\n  var flags = parseBits(value, 32, 32);\n  var elementType = parseBits(value, 32, 64);\n\n  var offset = 96;\n  var dims = [];\n  for (var i = 0; i < dim; i++) {\n    // parse dimension\n    dims[i] = parseBits(value, 32, offset);\n    offset += 32;\n\n    // ignore lower bounds\n    offset += 32;\n  }\n\n  var parseElement = function(elementType) {\n    // parse content length\n    var length = parseBits(value, 32, offset);\n    offset += 32;\n\n    // parse null values\n    if (length == 0xffffffff) {\n      return null;\n    }\n\n    var result;\n    if ((elementType == 0x17) || (elementType == 0x14)) {\n      // int/bigint\n      result = parseBits(value, length * 8, offset);\n      offset += length * 8;\n      return result;\n    }\n    else if (elementType == 0x19) {\n      // string\n      result = value.toString(this.encoding, offset >> 3, (offset += (length << 3)) >> 3);\n      return result;\n    }\n    else {\n      console.log(\"ERROR: ElementType not implemented: \" + elementType);\n    }\n  };\n\n  var parse = function(dimension, elementType) {\n    var array = [];\n    var i;\n\n    if (dimension.length > 1) {\n      var count = dimension.shift();\n      for (i = 0; i < count; i++) {\n        array[i] = parse(dimension, elementType);\n      }\n      dimension.unshift(count);\n    }\n    else {\n      for (i = 0; i < dimension[0]; i++) {\n        array[i] = parseElement(elementType);\n      }\n    }\n\n    return array;\n  };\n\n  return parse(dims, elementType);\n};\n\nvar parseText = function(value) {\n  return value.toString('utf8');\n};\n\nvar parseBool = function(value) {\n  if(value === null) return null;\n  return (parseBits(value, 8) > 0);\n};\n\nvar init = function(register) {\n  register(20, parseInt64);\n  register(21, parseInt16);\n  register(23, parseInt32);\n  register(26, parseInt32);\n  register(1700, parseNumeric);\n  register(700, parseFloat32);\n  register(701, parseFloat64);\n  register(16, parseBool);\n  register(1114, parseDate.bind(null, false));\n  register(1184, parseDate.bind(null, true));\n  register(1000, parseArray);\n  register(1007, parseArray);\n  register(1016, parseArray);\n  register(1008, parseArray);\n  register(1009, parseArray);\n  register(25, parseText);\n};\n\nmodule.exports = {\n  init: init\n};\n","'use strict';\n\n// selected so (BASE - 1) * 0x100000000 + 0xffffffff is a safe integer\nvar BASE = 1000000;\n\nfunction readInt8(buffer) {\n\tvar high = buffer.readInt32BE(0);\n\tvar low = buffer.readUInt32BE(4);\n\tvar sign = '';\n\n\tif (high < 0) {\n\t\thigh = ~high + (low === 0);\n\t\tlow = (~low + 1) >>> 0;\n\t\tsign = '-';\n\t}\n\n\tvar result = '';\n\tvar carry;\n\tvar t;\n\tvar digits;\n\tvar pad;\n\tvar l;\n\tvar i;\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\tt = 0x100000000 * carry + low;\n\t\tdigits = '' + t % BASE;\n\n\t\treturn sign + digits + result;\n\t}\n}\n\nmodule.exports = readInt8;\n","/**\n * Following query was used to generate this file:\n\n SELECT json_object_agg(UPPER(PT.typname), PT.oid::int4 ORDER BY pt.oid)\n FROM pg_type PT\n WHERE typnamespace = (SELECT pgn.oid FROM pg_namespace pgn WHERE nspname = 'pg_catalog') -- Take only builting Postgres types with stable OID (extension types are not guaranted to be stable)\n AND typtype = 'b' -- Only basic types\n AND typelem = 0 -- Ignore aliases\n AND typisdefined -- Ignore undefined types\n */\n\nmodule.exports = {\n    BOOL: 16,\n    BYTEA: 17,\n    CHAR: 18,\n    INT8: 20,\n    INT2: 21,\n    INT4: 23,\n    REGPROC: 24,\n    TEXT: 25,\n    OID: 26,\n    TID: 27,\n    XID: 28,\n    CID: 29,\n    JSON: 114,\n    XML: 142,\n    PG_NODE_TREE: 194,\n    SMGR: 210,\n    PATH: 602,\n    POLYGON: 604,\n    CIDR: 650,\n    FLOAT4: 700,\n    FLOAT8: 701,\n    ABSTIME: 702,\n    RELTIME: 703,\n    TINTERVAL: 704,\n    CIRCLE: 718,\n    MACADDR8: 774,\n    MONEY: 790,\n    MACADDR: 829,\n    INET: 869,\n    ACLITEM: 1033,\n    BPCHAR: 1042,\n    VARCHAR: 1043,\n    DATE: 1082,\n    TIME: 1083,\n    TIMESTAMP: 1114,\n    TIMESTAMPTZ: 1184,\n    INTERVAL: 1186,\n    TIMETZ: 1266,\n    BIT: 1560,\n    VARBIT: 1562,\n    NUMERIC: 1700,\n    REFCURSOR: 1790,\n    REGPROCEDURE: 2202,\n    REGOPER: 2203,\n    REGOPERATOR: 2204,\n    REGCLASS: 2205,\n    REGTYPE: 2206,\n    UUID: 2950,\n    TXID_SNAPSHOT: 2970,\n    PG_LSN: 3220,\n    PG_NDISTINCT: 3361,\n    PG_DEPENDENCIES: 3402,\n    TSVECTOR: 3614,\n    TSQUERY: 3615,\n    GTSVECTOR: 3642,\n    REGCONFIG: 3734,\n    REGDICTIONARY: 3769,\n    JSONB: 3802,\n    REGNAMESPACE: 4089,\n    REGROLE: 4096\n};\n","'use strict'\nconst crypto = require('crypto')\n\nfunction startSession(mechanisms) {\n  if (mechanisms.indexOf('SCRAM-SHA-256') === -1) {\n    throw new Error('SASL: Only mechanism SCRAM-SHA-256 is currently supported')\n  }\n\n  const clientNonce = crypto.randomBytes(18).toString('base64')\n\n  return {\n    mechanism: 'SCRAM-SHA-256',\n    clientNonce,\n    response: 'n,,n=*,r=' + clientNonce,\n    message: 'SASLInitialResponse',\n  }\n}\n\nfunction continueSession(session, password, serverData) {\n  if (session.message !== 'SASLInitialResponse') {\n    throw new Error('SASL: Last message was not SASLInitialResponse')\n  }\n\n  const sv = extractVariablesFromFirstServerMessage(serverData)\n\n  if (!sv.nonce.startsWith(session.clientNonce)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce')\n  }\n\n  var saltBytes = Buffer.from(sv.salt, 'base64')\n\n  var saltedPassword = Hi(password, saltBytes, sv.iteration)\n\n  var clientKey = createHMAC(saltedPassword, 'Client Key')\n  var storedKey = crypto.createHash('sha256').update(clientKey).digest()\n\n  var clientFirstMessageBare = 'n=*,r=' + session.clientNonce\n  var serverFirstMessage = 'r=' + sv.nonce + ',s=' + sv.salt + ',i=' + sv.iteration\n\n  var clientFinalMessageWithoutProof = 'c=biws,r=' + sv.nonce\n\n  var authMessage = clientFirstMessageBare + ',' + serverFirstMessage + ',' + clientFinalMessageWithoutProof\n\n  var clientSignature = createHMAC(storedKey, authMessage)\n  var clientProofBytes = xorBuffers(clientKey, clientSignature)\n  var clientProof = clientProofBytes.toString('base64')\n\n  var serverKey = createHMAC(saltedPassword, 'Server Key')\n  var serverSignatureBytes = createHMAC(serverKey, authMessage)\n\n  session.message = 'SASLResponse'\n  session.serverSignature = serverSignatureBytes.toString('base64')\n  session.response = clientFinalMessageWithoutProof + ',p=' + clientProof\n}\n\nfunction finalizeSession(session, serverData) {\n  if (session.message !== 'SASLResponse') {\n    throw new Error('SASL: Last message was not SASLResponse')\n  }\n\n  var serverSignature\n\n  String(serverData)\n    .split(',')\n    .forEach(function (part) {\n      switch (part[0]) {\n        case 'v':\n          serverSignature = part.substr(2)\n          break\n      }\n    })\n\n  if (serverSignature !== session.serverSignature) {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match')\n  }\n}\n\nfunction extractVariablesFromFirstServerMessage(data) {\n  var nonce, salt, iteration\n\n  String(data)\n    .split(',')\n    .forEach(function (part) {\n      switch (part[0]) {\n        case 'r':\n          nonce = part.substr(2)\n          break\n        case 's':\n          salt = part.substr(2)\n          break\n        case 'i':\n          iteration = parseInt(part.substr(2), 10)\n          break\n      }\n    })\n\n  if (!nonce) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing')\n  }\n\n  if (!salt) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing')\n  }\n\n  if (!iteration) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing')\n  }\n\n  return {\n    nonce,\n    salt,\n    iteration,\n  }\n}\n\nfunction xorBuffers(a, b) {\n  if (!Buffer.isBuffer(a)) a = Buffer.from(a)\n  if (!Buffer.isBuffer(b)) b = Buffer.from(b)\n  var res = []\n  if (a.length > b.length) {\n    for (var i = 0; i < b.length; i++) {\n      res.push(a[i] ^ b[i])\n    }\n  } else {\n    for (var j = 0; j < a.length; j++) {\n      res.push(a[j] ^ b[j])\n    }\n  }\n  return Buffer.from(res)\n}\n\nfunction createHMAC(key, msg) {\n  return crypto.createHmac('sha256', key).update(msg).digest()\n}\n\nfunction Hi(password, saltBytes, iterations) {\n  var ui1 = createHMAC(password, Buffer.concat([saltBytes, Buffer.from([0, 0, 0, 1])]))\n  var ui = ui1\n  for (var i = 0; i < iterations - 1; i++) {\n    ui1 = createHMAC(password, ui1)\n    ui = xorBuffers(ui, ui1)\n  }\n\n  return ui\n}\n\nmodule.exports = {\n  startSession,\n  continueSession,\n  finalizeSession,\n}\n","'use strict';\n\nvar path = require('path')\n  , fs = require('fs')\n  , helper = require('./helper.js')\n;\n\n\nmodule.exports = function(connInfo, cb) {\n    var file = helper.getFileName();\n    \n    fs.stat(file, function(err, stat){\n        if (err || !helper.usePgPass(stat, file)) {\n            return cb(undefined);\n        }\n\n        var st = fs.createReadStream(file);\n\n        helper.getPassword(connInfo, st, cb);\n    });\n};\n\nmodule.exports.warnTo = helper.warnTo;\n","'use strict';\n\nvar path = require('path')\n  , Stream = require('stream').Stream\n  , Split = require('split')\n  , util = require('util')\n  , defaultPort = 5432\n  , isWin = (process.platform === 'win32')\n  , warnStream = process.stderr\n;\n\n\nvar S_IRWXG = 56     //    00070(8)\n  , S_IRWXO = 7      //    00007(8)\n  , S_IFMT  = 61440  // 00170000(8)\n  , S_IFREG = 32768  //  0100000(8)\n;\nfunction isRegFile(mode) {\n    return ((mode & S_IFMT) == S_IFREG);\n}\n\nvar fieldNames = [ 'host', 'port', 'database', 'user', 'password' ];\nvar nrOfFields = fieldNames.length;\nvar passKey = fieldNames[ nrOfFields -1 ];\n\n\nfunction warn() {\n    var isWritable = (\n        warnStream instanceof Stream &&\n          true === warnStream.writable\n    );\n\n    if (isWritable) {\n        var args = Array.prototype.slice.call(arguments).concat(\"\\n\");\n        warnStream.write( util.format.apply(util, args) );\n    }\n}\n\n\nObject.defineProperty(module.exports, 'isWin', {\n    get : function() {\n        return isWin;\n    } ,\n    set : function(val) {\n        isWin = val;\n    }\n});\n\n\nmodule.exports.warnTo = function(stream) {\n    var old = warnStream;\n    warnStream = stream;\n    return old;\n};\n\nmodule.exports.getFileName = function(env){\n    env = env || process.env;\n    var file = env.PGPASSFILE || (\n        isWin ?\n          path.join( env.APPDATA , 'postgresql', 'pgpass.conf' ) :\n          path.join( env.HOME, '.pgpass' )\n    );\n    return file;\n};\n\nmodule.exports.usePgPass = function(stats, fname) {\n    if (Object.prototype.hasOwnProperty.call(process.env, 'PGPASSWORD')) {\n        return false;\n    }\n\n    if (isWin) {\n        return true;\n    }\n\n    fname = fname || '<unkn>';\n\n    if (! isRegFile(stats.mode)) {\n        warn('WARNING: password file \"%s\" is not a plain file', fname);\n        return false;\n    }\n\n    if (stats.mode & (S_IRWXG | S_IRWXO)) {\n        /* If password file is insecure, alert the user and ignore it. */\n        warn('WARNING: password file \"%s\" has group or world access; permissions should be u=rw (0600) or less', fname);\n        return false;\n    }\n\n    return true;\n};\n\n\nvar matcher = module.exports.match = function(connInfo, entry) {\n    return fieldNames.slice(0, -1).reduce(function(prev, field, idx){\n        if (idx == 1) {\n            // the port\n            if ( Number( connInfo[field] || defaultPort ) === Number( entry[field] ) ) {\n                return prev && true;\n            }\n        }\n        return prev && (\n            entry[field] === '*' ||\n              entry[field] === connInfo[field]\n        );\n    }, true);\n};\n\n\nmodule.exports.getPassword = function(connInfo, stream, cb) {\n    var pass;\n    var lineStream = stream.pipe(new Split());\n\n    function onLine(line) {\n        var entry = parseLine(line);\n        if (entry && isValidEntry(entry) && matcher(connInfo, entry)) {\n            pass = entry[passKey];\n            lineStream.end(); // -> calls onEnd(), but pass is set now\n        }\n    }\n\n    var onEnd = function() {\n        stream.destroy();\n        cb(pass);\n    };\n\n    var onErr = function(err) {\n        stream.destroy();\n        warn('WARNING: error on reading file: %s', err);\n        cb(undefined);\n    };\n\n    stream.on('error', onErr);\n    lineStream\n        .on('data', onLine)\n        .on('end', onEnd)\n        .on('error', onErr)\n    ;\n\n};\n\n\nvar parseLine = module.exports.parseLine = function(line) {\n    if (line.length < 11 || line.match(/^\\s+#/)) {\n        return null;\n    }\n\n    var curChar = '';\n    var prevChar = '';\n    var fieldIdx = 0;\n    var startIdx = 0;\n    var endIdx = 0;\n    var obj = {};\n    var isLastField = false;\n    var addToObj = function(idx, i0, i1) {\n        var field = line.substring(i0, i1);\n\n        if (! Object.hasOwnProperty.call(process.env, 'PGPASS_NO_DEESCAPE')) {\n            field = field.replace(/\\\\([:\\\\])/g, '$1');\n        }\n\n        obj[ fieldNames[idx] ] = field;\n    };\n\n    for (var i = 0 ; i < line.length-1 ; i += 1) {\n        curChar = line.charAt(i+1);\n        prevChar = line.charAt(i);\n\n        isLastField = (fieldIdx == nrOfFields-1);\n\n        if (isLastField) {\n            addToObj(fieldIdx, startIdx);\n            break;\n        }\n\n        if (i >= 0 && curChar == ':' && prevChar !== '\\\\') {\n            addToObj(fieldIdx, startIdx, i+1);\n\n            startIdx = i+2;\n            fieldIdx += 1;\n        }\n    }\n\n    obj = ( Object.keys(obj).length === nrOfFields ) ? obj : null;\n\n    return obj;\n};\n\n\nvar isValidEntry = module.exports.isValidEntry = function(entry){\n    var rules = {\n        // host\n        0 : function(x){\n            return x.length > 0;\n        } ,\n        // port\n        1 : function(x){\n            if (x === '*') {\n                return true;\n            }\n            x = Number(x);\n            return (\n                isFinite(x) &&\n                  x > 0 &&\n                  x < 9007199254740992 &&\n                  Math.floor(x) === x\n            );\n        } ,\n        // database\n        2 : function(x){\n            return x.length > 0;\n        } ,\n        // username\n        3 : function(x){\n            return x.length > 0;\n        } ,\n        // password\n        4 : function(x){\n            return x.length > 0;\n        }\n    };\n\n    for (var idx = 0 ; idx < fieldNames.length ; idx += 1) {\n        var rule = rules[idx];\n        var value = entry[ fieldNames[idx] ] || '';\n\n        var res = rule(value);\n        if (!res) {\n            return false;\n        }\n    }\n\n    return true;\n};\n\n","//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\n\nvar through = require('through')\nvar Decoder = require('string_decoder').StringDecoder\n\nmodule.exports = split\n\n//TODO pass in a function to map across the lines.\n\nfunction split (matcher, mapper, options) {\n  var decoder = new Decoder()\n  var soFar = ''\n  var maxLength = options && options.maxLength;\n  var trailing = options && options.trailing === false ? false : true\n  if('function' === typeof matcher)\n    mapper = matcher, matcher = null\n  if (!matcher)\n    matcher = /\\r?\\n/\n\n  function emit(stream, piece) {\n    if(mapper) {\n      try {\n        piece = mapper(piece)\n      }\n      catch (err) {\n        return stream.emit('error', err)\n      }\n      if('undefined' !== typeof piece)\n        stream.queue(piece)\n    }\n    else\n      stream.queue(piece)\n  }\n\n  function next (stream, buffer) {\n    var pieces = ((soFar != null ? soFar : '') + buffer).split(matcher)\n    soFar = pieces.pop()\n\n    if (maxLength && soFar.length > maxLength)\n      return stream.emit('error', new Error('maximum buffer reached'))\n\n    for (var i = 0; i < pieces.length; i++) {\n      var piece = pieces[i]\n      emit(stream, piece)\n    }\n  }\n\n  return through(function (b) {\n    next(this, decoder.write(b))\n  },\n  function () {\n    if(decoder.end)\n      next(this, decoder.end())\n    if(trailing && soFar != null)\n      emit(this, soFar)\n    this.queue(null)\n  })\n}\n","var Stream = require('stream')\n\n// through\n//\n// a stream that does nothing but re-emit the input.\n// useful for aggregating a series of changing but not ending streams into one stream)\n\nexports = module.exports = through\nthrough.through = through\n\n//create a readable writable stream.\n\nfunction through (write, end, opts) {\n  write = write || function (data) { this.queue(data) }\n  end = end || function () { this.queue(null) }\n\n  var ended = false, destroyed = false, buffer = [], _ended = false\n  var stream = new Stream()\n  stream.readable = stream.writable = true\n  stream.paused = false\n\n//  stream.autoPause   = !(opts && opts.autoPause   === false)\n  stream.autoDestroy = !(opts && opts.autoDestroy === false)\n\n  stream.write = function (data) {\n    write.call(this, data)\n    return !stream.paused\n  }\n\n  function drain() {\n    while(buffer.length && !stream.paused) {\n      var data = buffer.shift()\n      if(null === data)\n        return stream.emit('end')\n      else\n        stream.emit('data', data)\n    }\n  }\n\n  stream.queue = stream.push = function (data) {\n//    console.error(ended)\n    if(_ended) return stream\n    if(data === null) _ended = true\n    buffer.push(data)\n    drain()\n    return stream\n  }\n\n  //this will be registered as the first 'end' listener\n  //must call destroy next tick, to make sure we're after any\n  //stream piped from here.\n  //this is only a problem if end is not emitted synchronously.\n  //a nicer way to do this is to make sure this is the last listener for 'end'\n\n  stream.on('end', function () {\n    stream.readable = false\n    if(!stream.writable && stream.autoDestroy)\n      process.nextTick(function () {\n        stream.destroy()\n      })\n  })\n\n  function _end () {\n    stream.writable = false\n    end.call(stream)\n    if(!stream.readable && stream.autoDestroy)\n      stream.destroy()\n  }\n\n  stream.end = function (data) {\n    if(ended) return\n    ended = true\n    if(arguments.length) stream.write(data)\n    _end() // will emit or queue\n    return stream\n  }\n\n  stream.destroy = function () {\n    if(destroyed) return\n    destroyed = true\n    ended = true\n    buffer.length = 0\n    stream.writable = stream.readable = false\n    stream.emit('close')\n    return stream\n  }\n\n  stream.pause = function () {\n    if(stream.paused) return\n    stream.paused = true\n    return stream\n  }\n\n  stream.resume = function () {\n    if(stream.paused) {\n      stream.paused = false\n      stream.emit('resume')\n    }\n    drain()\n    //may have become paused again,\n    //as drain emits 'data'.\n    if(!stream.paused)\n      stream.emit('drain')\n    return stream\n  }\n  return stream\n}\n\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nvar types = require('pg-types')\n\nfunction TypeOverrides(userTypes) {\n  this._types = userTypes || types\n  this.text = {}\n  this.binary = {}\n}\n\nTypeOverrides.prototype.getOverrides = function (format) {\n  switch (format) {\n    case 'text':\n      return this.text\n    case 'binary':\n      return this.binary\n    default:\n      return {}\n  }\n}\n\nTypeOverrides.prototype.setTypeParser = function (oid, format, parseFn) {\n  if (typeof format === 'function') {\n    parseFn = format\n    format = 'text'\n  }\n  this.getOverrides(format)[oid] = parseFn\n}\n\nTypeOverrides.prototype.getTypeParser = function (oid, format) {\n  format = format || 'text'\n  return this.getOverrides(format)[oid] || this._types.getTypeParser(oid, format)\n}\n\nmodule.exports = TypeOverrides\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nvar dns = require('dns')\n\nvar defaults = require('./defaults')\n\nvar parse = require('pg-connection-string').parse // parses a connection string\n\nvar val = function (key, config, envVar) {\n  if (envVar === undefined) {\n    envVar = process.env['PG' + key.toUpperCase()]\n  } else if (envVar === false) {\n    // do nothing ... use false\n  } else {\n    envVar = process.env[envVar]\n  }\n\n  return config[key] || envVar || defaults[key]\n}\n\nvar readSSLConfigFromEnvironment = function () {\n  switch (process.env.PGSSLMODE) {\n    case 'disable':\n      return false\n    case 'prefer':\n    case 'require':\n    case 'verify-ca':\n    case 'verify-full':\n      return true\n    case 'no-verify':\n      return { rejectUnauthorized: false }\n  }\n  return defaults.ssl\n}\n\nvar ConnectionParameters = function (config) {\n  // if a string is passed, it is a raw connection string so we parse it into a config\n  config = typeof config === 'string' ? parse(config) : config || {}\n\n  // if the config has a connectionString defined, parse IT into the config we use\n  // this will override other default values with what is stored in connectionString\n  if (config.connectionString) {\n    config = Object.assign({}, config, parse(config.connectionString))\n  }\n\n  this.user = val('user', config)\n  this.database = val('database', config)\n\n  if (this.database === undefined) {\n    this.database = this.user\n  }\n\n  this.port = parseInt(val('port', config), 10)\n  this.host = val('host', config)\n\n  // \"hiding\" the password so it doesn't show up in stack traces\n  // or if the client is console.logged\n  Object.defineProperty(this, 'password', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: val('password', config),\n  })\n\n  this.binary = val('binary', config)\n  this.options = val('options', config)\n\n  this.ssl = typeof config.ssl === 'undefined' ? readSSLConfigFromEnvironment() : config.ssl\n\n  // support passing in ssl=no-verify via connection string\n  if (this.ssl === 'no-verify') {\n    this.ssl = { rejectUnauthorized: false }\n  }\n\n  this.client_encoding = val('client_encoding', config)\n  this.replication = val('replication', config)\n  // a domain socket begins with '/'\n  this.isDomainSocket = !(this.host || '').indexOf('/')\n\n  this.application_name = val('application_name', config, 'PGAPPNAME')\n  this.fallback_application_name = val('fallback_application_name', config, false)\n  this.statement_timeout = val('statement_timeout', config, false)\n  this.idle_in_transaction_session_timeout = val('idle_in_transaction_session_timeout', config, false)\n  this.query_timeout = val('query_timeout', config, false)\n\n  if (config.connectionTimeoutMillis === undefined) {\n    this.connect_timeout = process.env.PGCONNECT_TIMEOUT || 0\n  } else {\n    this.connect_timeout = Math.floor(config.connectionTimeoutMillis / 1000)\n  }\n\n  if (config.keepAlive === false) {\n    this.keepalives = 0\n  } else if (config.keepAlive === true) {\n    this.keepalives = 1\n  }\n\n  if (typeof config.keepAliveInitialDelayMillis === 'number') {\n    this.keepalives_idle = Math.floor(config.keepAliveInitialDelayMillis / 1000)\n  }\n}\n\n// Convert arg to a string, surround in single quotes, and escape single quotes and backslashes\nvar quoteParamValue = function (value) {\n  return \"'\" + ('' + value).replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\") + \"'\"\n}\n\nvar add = function (params, config, paramName) {\n  var value = config[paramName]\n  if (value !== undefined && value !== null) {\n    params.push(paramName + '=' + quoteParamValue(value))\n  }\n}\n\nConnectionParameters.prototype.getLibpqConnectionString = function (cb) {\n  var params = []\n  add(params, this, 'user')\n  add(params, this, 'password')\n  add(params, this, 'port')\n  add(params, this, 'application_name')\n  add(params, this, 'fallback_application_name')\n  add(params, this, 'connect_timeout')\n  add(params, this, 'options')\n\n  var ssl = typeof this.ssl === 'object' ? this.ssl : this.ssl ? { sslmode: this.ssl } : {}\n  add(params, ssl, 'sslmode')\n  add(params, ssl, 'sslca')\n  add(params, ssl, 'sslkey')\n  add(params, ssl, 'sslcert')\n  add(params, ssl, 'sslrootcert')\n\n  if (this.database) {\n    params.push('dbname=' + quoteParamValue(this.database))\n  }\n  if (this.replication) {\n    params.push('replication=' + quoteParamValue(this.replication))\n  }\n  if (this.host) {\n    params.push('host=' + quoteParamValue(this.host))\n  }\n  if (this.isDomainSocket) {\n    return cb(null, params.join(' '))\n  }\n  if (this.client_encoding) {\n    params.push('client_encoding=' + quoteParamValue(this.client_encoding))\n  }\n  dns.lookup(this.host, function (err, address) {\n    if (err) return cb(err, null)\n    params.push('hostaddr=' + quoteParamValue(address))\n    return cb(null, params.join(' '))\n  })\n}\n\nmodule.exports = ConnectionParameters\n","'use strict'\n\nvar url = require('url')\nvar fs = require('fs')\n\n//Parse method copied from https://github.com/brianc/node-postgres\n//Copyright (c) 2010-2014 Brian Carlson (brian.m.carlson@gmail.com)\n//MIT License\n\n//parses a connection string\nfunction parse(str) {\n  //unix socket\n  if (str.charAt(0) === '/') {\n    var config = str.split(' ')\n    return { host: config[0], database: config[1] }\n  }\n\n  // url parse expects spaces encoded as %20\n  var result = url.parse(\n    / |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(str) ? encodeURI(str).replace(/\\%25(\\d\\d)/g, '%$1') : str,\n    true\n  )\n  var config = result.query\n  for (var k in config) {\n    if (Array.isArray(config[k])) {\n      config[k] = config[k][config[k].length - 1]\n    }\n  }\n\n  var auth = (result.auth || ':').split(':')\n  config.user = auth[0]\n  config.password = auth.splice(1).join(':')\n\n  config.port = result.port\n  if (result.protocol == 'socket:') {\n    config.host = decodeURI(result.pathname)\n    config.database = result.query.db\n    config.client_encoding = result.query.encoding\n    return config\n  }\n  if (!config.host) {\n    // Only set the host if there is no equivalent query param.\n    config.host = result.hostname\n  }\n\n  // If the host is missing it might be a URL-encoded path to a socket.\n  var pathname = result.pathname\n  if (!config.host && pathname && /^%2f/i.test(pathname)) {\n    var pathnameSplit = pathname.split('/')\n    config.host = decodeURIComponent(pathnameSplit[0])\n    pathname = pathnameSplit.splice(1).join('/')\n  }\n  // result.pathname is not always guaranteed to have a '/' prefix (e.g. relative urls)\n  // only strip the slash if it is present.\n  if (pathname && pathname.charAt(0) === '/') {\n    pathname = pathname.slice(1) || null\n  }\n  config.database = pathname && decodeURI(pathname)\n\n  if (config.ssl === 'true' || config.ssl === '1') {\n    config.ssl = true\n  }\n\n  if (config.ssl === '0') {\n    config.ssl = false\n  }\n\n  if (config.sslcert || config.sslkey || config.sslrootcert) {\n    config.ssl = {}\n  }\n\n  if (config.sslcert) {\n    config.ssl.cert = fs.readFileSync(config.sslcert).toString()\n  }\n\n  if (config.sslkey) {\n    config.ssl.key = fs.readFileSync(config.sslkey).toString()\n  }\n\n  if (config.sslrootcert) {\n    config.ssl.ca = fs.readFileSync(config.sslrootcert).toString()\n  }\n\n  return config\n}\n\nmodule.exports = parse\n\nparse.parse = parse\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nconst { EventEmitter } = require('events')\n\nconst Result = require('./result')\nconst utils = require('./utils')\n\nclass Query extends EventEmitter {\n  constructor(config, values, callback) {\n    super()\n\n    config = utils.normalizeQueryConfig(config, values, callback)\n\n    this.text = config.text\n    this.values = config.values\n    this.rows = config.rows\n    this.types = config.types\n    this.name = config.name\n    this.binary = config.binary\n    // use unique portal name each time\n    this.portal = config.portal || ''\n    this.callback = config.callback\n    this._rowMode = config.rowMode\n    if (process.domain && config.callback) {\n      this.callback = process.domain.bind(config.callback)\n    }\n    this._result = new Result(this._rowMode, this.types)\n\n    // potential for multiple results\n    this._results = this._result\n    this.isPreparedStatement = false\n    this._canceledDueToError = false\n    this._promise = null\n  }\n\n  requiresPreparation() {\n    // named queries must always be prepared\n    if (this.name) {\n      return true\n    }\n    // always prepare if there are max number of rows expected per\n    // portal execution\n    if (this.rows) {\n      return true\n    }\n    // don't prepare empty text queries\n    if (!this.text) {\n      return false\n    }\n    // prepare if there are values\n    if (!this.values) {\n      return false\n    }\n    return this.values.length > 0\n  }\n\n  _checkForMultirow() {\n    // if we already have a result with a command property\n    // then we've already executed one query in a multi-statement simple query\n    // turn our results into an array of results\n    if (this._result.command) {\n      if (!Array.isArray(this._results)) {\n        this._results = [this._result]\n      }\n      this._result = new Result(this._rowMode, this.types)\n      this._results.push(this._result)\n    }\n  }\n\n  // associates row metadata from the supplied\n  // message with this query object\n  // metadata used when parsing row results\n  handleRowDescription(msg) {\n    this._checkForMultirow()\n    this._result.addFields(msg.fields)\n    this._accumulateRows = this.callback || !this.listeners('row').length\n  }\n\n  handleDataRow(msg) {\n    let row\n\n    if (this._canceledDueToError) {\n      return\n    }\n\n    try {\n      row = this._result.parseRow(msg.fields)\n    } catch (err) {\n      this._canceledDueToError = err\n      return\n    }\n\n    this.emit('row', row, this._result)\n    if (this._accumulateRows) {\n      this._result.addRow(row)\n    }\n  }\n\n  handleCommandComplete(msg, con) {\n    this._checkForMultirow()\n    this._result.addCommandComplete(msg)\n    // need to sync after each command complete of a prepared statement\n    if (this.isPreparedStatement) {\n      con.sync()\n    }\n  }\n\n  // if a named prepared statement is created with empty query text\n  // the backend will send an emptyQuery message but *not* a command complete message\n  // execution on the connection will hang until the backend receives a sync message\n  handleEmptyQuery(con) {\n    if (this.isPreparedStatement) {\n      con.sync()\n    }\n  }\n\n  handleReadyForQuery(con) {\n    if (this._canceledDueToError) {\n      return this.handleError(this._canceledDueToError, con)\n    }\n    if (this.callback) {\n      this.callback(null, this._results)\n    }\n    this.emit('end', this._results)\n  }\n\n  handleError(err, connection) {\n    // need to sync after error during a prepared statement\n    if (this.isPreparedStatement) {\n      connection.sync()\n    }\n    if (this._canceledDueToError) {\n      err = this._canceledDueToError\n      this._canceledDueToError = false\n    }\n    // if callback supplied do not emit error event as uncaught error\n    // events will bubble up to node process\n    if (this.callback) {\n      return this.callback(err)\n    }\n    this.emit('error', err)\n  }\n\n  submit(connection) {\n    if (typeof this.text !== 'string' && typeof this.name !== 'string') {\n      return new Error('A query must have either text or a name. Supplying neither is unsupported.')\n    }\n    const previous = connection.parsedStatements[this.name]\n    if (this.text && previous && this.text !== previous) {\n      return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`)\n    }\n    if (this.values && !Array.isArray(this.values)) {\n      return new Error('Query values must be an array')\n    }\n    if (this.requiresPreparation()) {\n      this.prepare(connection)\n    } else {\n      connection.query(this.text)\n    }\n    return null\n  }\n\n  hasBeenParsed(connection) {\n    return this.name && connection.parsedStatements[this.name]\n  }\n\n  handlePortalSuspended(connection) {\n    this._getRows(connection, this.rows)\n  }\n\n  _getRows(connection, rows) {\n    connection.execute(\n      {\n        portal: this.portal,\n        rows: rows,\n      },\n      true\n    )\n    connection.flush()\n  }\n\n  prepare(connection) {\n    // prepared statements need sync to be called after each command\n    // complete or when an error is encountered\n    this.isPreparedStatement = true\n    // TODO refactor this poor encapsulation\n    if (!this.hasBeenParsed(connection)) {\n      connection.parse(\n        {\n          text: this.text,\n          name: this.name,\n          types: this.types,\n        },\n        true\n      )\n    }\n\n    if (this.values) {\n      try {\n        this.values = this.values.map(utils.prepareValue)\n      } catch (err) {\n        this.handleError(err, connection)\n        return\n      }\n    }\n\n    // http://developer.postgresql.org/pgdocs/postgres/protocol-flow.html#PROTOCOL-FLOW-EXT-QUERY\n    connection.bind(\n      {\n        portal: this.portal,\n        statement: this.name,\n        values: this.values,\n        binary: this.binary,\n      },\n      true\n    )\n\n    connection.describe(\n      {\n        type: 'P',\n        name: this.portal || '',\n      },\n      true\n    )\n\n    this._getRows(connection, this.rows)\n  }\n\n  handleCopyInResponse(connection) {\n    connection.sendCopyFail('No source stream defined')\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  handleCopyData(msg, connection) {\n    // noop\n  }\n}\n\nmodule.exports = Query\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nvar types = require('pg-types')\n\n// result object returned from query\n// in the 'end' event and also\n// passed as second argument to provided callback\nvar Result = function (rowMode, types) {\n  this.command = null\n  this.rowCount = null\n  this.oid = null\n  this.rows = []\n  this.fields = []\n  this._parsers = undefined\n  this._types = types\n  this.RowCtor = null\n  this.rowAsArray = rowMode === 'array'\n  if (this.rowAsArray) {\n    this.parseRow = this._parseRowAsArray\n  }\n}\n\nvar matchRegexp = /^([A-Za-z]+)(?: (\\d+))?(?: (\\d+))?/\n\n// adds a command complete message\nResult.prototype.addCommandComplete = function (msg) {\n  var match\n  if (msg.text) {\n    // pure javascript\n    match = matchRegexp.exec(msg.text)\n  } else {\n    // native bindings\n    match = matchRegexp.exec(msg.command)\n  }\n  if (match) {\n    this.command = match[1]\n    if (match[3]) {\n      // COMMMAND OID ROWS\n      this.oid = parseInt(match[2], 10)\n      this.rowCount = parseInt(match[3], 10)\n    } else if (match[2]) {\n      // COMMAND ROWS\n      this.rowCount = parseInt(match[2], 10)\n    }\n  }\n}\n\nResult.prototype._parseRowAsArray = function (rowData) {\n  var row = new Array(rowData.length)\n  for (var i = 0, len = rowData.length; i < len; i++) {\n    var rawValue = rowData[i]\n    if (rawValue !== null) {\n      row[i] = this._parsers[i](rawValue)\n    } else {\n      row[i] = null\n    }\n  }\n  return row\n}\n\nResult.prototype.parseRow = function (rowData) {\n  var row = {}\n  for (var i = 0, len = rowData.length; i < len; i++) {\n    var rawValue = rowData[i]\n    var field = this.fields[i].name\n    if (rawValue !== null) {\n      row[field] = this._parsers[i](rawValue)\n    } else {\n      row[field] = null\n    }\n  }\n  return row\n}\n\nResult.prototype.addRow = function (row) {\n  this.rows.push(row)\n}\n\nResult.prototype.addFields = function (fieldDescriptions) {\n  // clears field definitions\n  // multiple query statements in 1 action can result in multiple sets\n  // of rowDescriptions...eg: 'select NOW(); select 1::int;'\n  // you need to reset the fields\n  this.fields = fieldDescriptions\n  if (this.fields.length) {\n    this._parsers = new Array(fieldDescriptions.length)\n  }\n  for (var i = 0; i < fieldDescriptions.length; i++) {\n    var desc = fieldDescriptions[i]\n    if (this._types) {\n      this._parsers[i] = this._types.getTypeParser(desc.dataTypeID, desc.format || 'text')\n    } else {\n      this._parsers[i] = types.getTypeParser(desc.dataTypeID, desc.format || 'text')\n    }\n  }\n}\n\nmodule.exports = Result\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nvar net = require('net')\nvar EventEmitter = require('events').EventEmitter\nvar util = require('util')\n\nconst { parse, serialize } = require('pg-protocol')\n\n// TODO(bmc) support binary mode at some point\nvar Connection = function (config) {\n  EventEmitter.call(this)\n  config = config || {}\n  this.stream = config.stream || new net.Socket()\n  this._keepAlive = config.keepAlive\n  this._keepAliveInitialDelayMillis = config.keepAliveInitialDelayMillis\n  this.lastBuffer = false\n  this.parsedStatements = {}\n  this.ssl = config.ssl || false\n  this._ending = false\n  this._emitMessage = false\n  var self = this\n  this.on('newListener', function (eventName) {\n    if (eventName === 'message') {\n      self._emitMessage = true\n    }\n  })\n}\n\nutil.inherits(Connection, EventEmitter)\n\nConnection.prototype.connect = function (port, host) {\n  var self = this\n\n  this._connecting = true\n  this.stream.setNoDelay(true)\n  this.stream.connect(port, host)\n\n  this.stream.once('connect', function () {\n    if (self._keepAlive) {\n      self.stream.setKeepAlive(true, self._keepAliveInitialDelayMillis)\n    }\n    self.emit('connect')\n  })\n\n  const reportStreamError = function (error) {\n    // errors about disconnections should be ignored during disconnect\n    if (self._ending && (error.code === 'ECONNRESET' || error.code === 'EPIPE')) {\n      return\n    }\n    self.emit('error', error)\n  }\n  this.stream.on('error', reportStreamError)\n\n  this.stream.on('close', function () {\n    self.emit('end')\n  })\n\n  if (!this.ssl) {\n    return this.attachListeners(this.stream)\n  }\n\n  this.stream.once('data', function (buffer) {\n    var responseCode = buffer.toString('utf8')\n    switch (responseCode) {\n      case 'S': // Server supports SSL connections, continue with a secure connection\n        break\n      case 'N': // Server does not support SSL connections\n        self.stream.end()\n        return self.emit('error', new Error('The server does not support SSL connections'))\n      default:\n        // Any other response byte, including 'E' (ErrorResponse) indicating a server error\n        self.stream.end()\n        return self.emit('error', new Error('There was an error establishing an SSL connection'))\n    }\n    var tls = require('tls')\n    const options = Object.assign(\n      {\n        socket: self.stream,\n      },\n      self.ssl\n    )\n    if (net.isIP(host) === 0) {\n      options.servername = host\n    }\n    self.stream = tls.connect(options)\n    self.attachListeners(self.stream)\n    self.stream.on('error', reportStreamError)\n\n    self.emit('sslconnect')\n  })\n}\n\nConnection.prototype.attachListeners = function (stream) {\n  stream.on('end', () => {\n    this.emit('end')\n  })\n  parse(stream, (msg) => {\n    var eventName = msg.name === 'error' ? 'errorMessage' : msg.name\n    if (this._emitMessage) {\n      this.emit('message', msg)\n    }\n    this.emit(eventName, msg)\n  })\n}\n\nConnection.prototype.requestSsl = function () {\n  this.stream.write(serialize.requestSsl())\n}\n\nConnection.prototype.startup = function (config) {\n  this.stream.write(serialize.startup(config))\n}\n\nConnection.prototype.cancel = function (processID, secretKey) {\n  this._send(serialize.cancel(processID, secretKey))\n}\n\nConnection.prototype.password = function (password) {\n  this._send(serialize.password(password))\n}\n\nConnection.prototype.sendSASLInitialResponseMessage = function (mechanism, initialResponse) {\n  this._send(serialize.sendSASLInitialResponseMessage(mechanism, initialResponse))\n}\n\nConnection.prototype.sendSCRAMClientFinalMessage = function (additionalData) {\n  this._send(serialize.sendSCRAMClientFinalMessage(additionalData))\n}\n\nConnection.prototype._send = function (buffer) {\n  if (!this.stream.writable) {\n    return false\n  }\n  return this.stream.write(buffer)\n}\n\nConnection.prototype.query = function (text) {\n  this._send(serialize.query(text))\n}\n\n// send parse message\nConnection.prototype.parse = function (query) {\n  this._send(serialize.parse(query))\n}\n\n// send bind message\n// \"more\" === true to buffer the message until flush() is called\nConnection.prototype.bind = function (config) {\n  this._send(serialize.bind(config))\n}\n\n// send execute message\n// \"more\" === true to buffer the message until flush() is called\nConnection.prototype.execute = function (config) {\n  this._send(serialize.execute(config))\n}\n\nconst flushBuffer = serialize.flush()\nConnection.prototype.flush = function () {\n  if (this.stream.writable) {\n    this.stream.write(flushBuffer)\n  }\n}\n\nconst syncBuffer = serialize.sync()\nConnection.prototype.sync = function () {\n  this._ending = true\n  this._send(flushBuffer)\n  this._send(syncBuffer)\n}\n\nconst endBuffer = serialize.end()\n\nConnection.prototype.end = function () {\n  // 0x58 = 'X'\n  this._ending = true\n  if (!this._connecting || !this.stream.writable) {\n    this.stream.end()\n    return\n  }\n  return this.stream.write(endBuffer, () => {\n    this.stream.end()\n  })\n}\n\nConnection.prototype.close = function (msg) {\n  this._send(serialize.close(msg))\n}\n\nConnection.prototype.describe = function (msg) {\n  this._send(serialize.describe(msg))\n}\n\nConnection.prototype.sendCopyFromChunk = function (chunk) {\n  this._send(serialize.copyData(chunk))\n}\n\nConnection.prototype.endCopyFrom = function () {\n  this._send(serialize.copyDone())\n}\n\nConnection.prototype.sendCopyFail = function (msg) {\n  this._send(serialize.copyFail(msg))\n}\n\nmodule.exports = Connection\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst serializer_1 = require(\"./serializer\");\nexports.serialize = serializer_1.serialize;\nconst parser_1 = require(\"./parser\");\nfunction parse(stream, callback) {\n    const parser = new parser_1.Parser();\n    stream.on('data', (buffer) => parser.parse(buffer, callback));\n    return new Promise((resolve) => stream.on('end', () => resolve()));\n}\nexports.parse = parse;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_writer_1 = require(\"./buffer-writer\");\nconst writer = new buffer_writer_1.Writer();\nconst startup = (opts) => {\n    // protocol version\n    writer.addInt16(3).addInt16(0);\n    for (const key of Object.keys(opts)) {\n        writer.addCString(key).addCString(opts[key]);\n    }\n    writer.addCString('client_encoding').addCString('UTF8');\n    var bodyBuffer = writer.addCString('').flush();\n    // this message is sent without a code\n    var length = bodyBuffer.length + 4;\n    return new buffer_writer_1.Writer().addInt32(length).add(bodyBuffer).flush();\n};\nconst requestSsl = () => {\n    const response = Buffer.allocUnsafe(8);\n    response.writeInt32BE(8, 0);\n    response.writeInt32BE(80877103, 4);\n    return response;\n};\nconst password = (password) => {\n    return writer.addCString(password).flush(112 /* startup */);\n};\nconst sendSASLInitialResponseMessage = function (mechanism, initialResponse) {\n    // 0x70 = 'p'\n    writer.addCString(mechanism).addInt32(Buffer.byteLength(initialResponse)).addString(initialResponse);\n    return writer.flush(112 /* startup */);\n};\nconst sendSCRAMClientFinalMessage = function (additionalData) {\n    return writer.addString(additionalData).flush(112 /* startup */);\n};\nconst query = (text) => {\n    return writer.addCString(text).flush(81 /* query */);\n};\nconst emptyArray = [];\nconst parse = (query) => {\n    // expect something like this:\n    // { name: 'queryName',\n    //   text: 'select * from blah',\n    //   types: ['int8', 'bool'] }\n    // normalize missing query names to allow for null\n    const name = query.name || '';\n    if (name.length > 63) {\n        /* eslint-disable no-console */\n        console.error('Warning! Postgres only supports 63 characters for query names.');\n        console.error('You supplied %s (%s)', name, name.length);\n        console.error('This can cause conflicts and silent errors executing queries');\n        /* eslint-enable no-console */\n    }\n    const types = query.types || emptyArray;\n    var len = types.length;\n    var buffer = writer\n        .addCString(name) // name of query\n        .addCString(query.text) // actual query text\n        .addInt16(len);\n    for (var i = 0; i < len; i++) {\n        buffer.addInt32(types[i]);\n    }\n    return writer.flush(80 /* parse */);\n};\nconst bind = (config = {}) => {\n    // normalize config\n    const portal = config.portal || '';\n    const statement = config.statement || '';\n    const binary = config.binary || false;\n    var values = config.values || emptyArray;\n    var len = values.length;\n    var useBinary = false;\n    // TODO(bmc): all the loops in here aren't nice, we can do better\n    for (var j = 0; j < len; j++) {\n        useBinary = useBinary || values[j] instanceof Buffer;\n    }\n    var buffer = writer.addCString(portal).addCString(statement);\n    if (!useBinary) {\n        buffer.addInt16(0);\n    }\n    else {\n        buffer.addInt16(len);\n        for (j = 0; j < len; j++) {\n            buffer.addInt16(values[j] instanceof Buffer ? 1 : 0);\n        }\n    }\n    buffer.addInt16(len);\n    for (var i = 0; i < len; i++) {\n        var val = values[i];\n        if (val === null || typeof val === 'undefined') {\n            buffer.addInt32(-1);\n        }\n        else if (val instanceof Buffer) {\n            buffer.addInt32(val.length);\n            buffer.add(val);\n        }\n        else {\n            buffer.addInt32(Buffer.byteLength(val));\n            buffer.addString(val);\n        }\n    }\n    if (binary) {\n        buffer.addInt16(1); // format codes to use binary\n        buffer.addInt16(1);\n    }\n    else {\n        buffer.addInt16(0); // format codes to use text\n    }\n    return writer.flush(66 /* bind */);\n};\nconst emptyExecute = Buffer.from([69 /* execute */, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00]);\nconst execute = (config) => {\n    // this is the happy path for most queries\n    if (!config || (!config.portal && !config.rows)) {\n        return emptyExecute;\n    }\n    const portal = config.portal || '';\n    const rows = config.rows || 0;\n    const portalLength = Buffer.byteLength(portal);\n    const len = 4 + portalLength + 1 + 4;\n    // one extra bit for code\n    const buff = Buffer.allocUnsafe(1 + len);\n    buff[0] = 69 /* execute */;\n    buff.writeInt32BE(len, 1);\n    buff.write(portal, 5, 'utf-8');\n    buff[portalLength + 5] = 0; // null terminate portal cString\n    buff.writeUInt32BE(rows, buff.length - 4);\n    return buff;\n};\nconst cancel = (processID, secretKey) => {\n    const buffer = Buffer.allocUnsafe(16);\n    buffer.writeInt32BE(16, 0);\n    buffer.writeInt16BE(1234, 4);\n    buffer.writeInt16BE(5678, 6);\n    buffer.writeInt32BE(processID, 8);\n    buffer.writeInt32BE(secretKey, 12);\n    return buffer;\n};\nconst cstringMessage = (code, string) => {\n    const stringLen = Buffer.byteLength(string);\n    const len = 4 + stringLen + 1;\n    // one extra bit for code\n    const buffer = Buffer.allocUnsafe(1 + len);\n    buffer[0] = code;\n    buffer.writeInt32BE(len, 1);\n    buffer.write(string, 5, 'utf-8');\n    buffer[len] = 0; // null terminate cString\n    return buffer;\n};\nconst emptyDescribePortal = writer.addCString('P').flush(68 /* describe */);\nconst emptyDescribeStatement = writer.addCString('S').flush(68 /* describe */);\nconst describe = (msg) => {\n    return msg.name\n        ? cstringMessage(68 /* describe */, `${msg.type}${msg.name || ''}`)\n        : msg.type === 'P'\n            ? emptyDescribePortal\n            : emptyDescribeStatement;\n};\nconst close = (msg) => {\n    const text = `${msg.type}${msg.name || ''}`;\n    return cstringMessage(67 /* close */, text);\n};\nconst copyData = (chunk) => {\n    return writer.add(chunk).flush(100 /* copyFromChunk */);\n};\nconst copyFail = (message) => {\n    return cstringMessage(102 /* copyFail */, message);\n};\nconst codeOnlyBuffer = (code) => Buffer.from([code, 0x00, 0x00, 0x00, 0x04]);\nconst flushBuffer = codeOnlyBuffer(72 /* flush */);\nconst syncBuffer = codeOnlyBuffer(83 /* sync */);\nconst endBuffer = codeOnlyBuffer(88 /* end */);\nconst copyDoneBuffer = codeOnlyBuffer(99 /* copyDone */);\nconst serialize = {\n    startup,\n    password,\n    requestSsl,\n    sendSASLInitialResponseMessage,\n    sendSCRAMClientFinalMessage,\n    query,\n    parse,\n    bind,\n    execute,\n    describe,\n    close,\n    flush: () => flushBuffer,\n    sync: () => syncBuffer,\n    end: () => endBuffer,\n    copyData,\n    copyDone: () => copyDoneBuffer,\n    copyFail,\n    cancel,\n};\nexports.serialize = serialize;\n//# sourceMappingURL=serializer.js.map","\"use strict\";\n//binary data writer tuned for encoding binary specific to the postgres binary protocol\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Writer {\n    constructor(size = 256) {\n        this.size = size;\n        this.offset = 5;\n        this.headerPosition = 0;\n        this.buffer = Buffer.alloc(size);\n    }\n    ensure(size) {\n        var remaining = this.buffer.length - this.offset;\n        if (remaining < size) {\n            var oldBuffer = this.buffer;\n            // exponential growth factor of around ~ 1.5\n            // https://stackoverflow.com/questions/2269063/buffer-growth-strategy\n            var newSize = oldBuffer.length + (oldBuffer.length >> 1) + size;\n            this.buffer = Buffer.alloc(newSize);\n            oldBuffer.copy(this.buffer);\n        }\n    }\n    addInt32(num) {\n        this.ensure(4);\n        this.buffer[this.offset++] = (num >>> 24) & 0xff;\n        this.buffer[this.offset++] = (num >>> 16) & 0xff;\n        this.buffer[this.offset++] = (num >>> 8) & 0xff;\n        this.buffer[this.offset++] = (num >>> 0) & 0xff;\n        return this;\n    }\n    addInt16(num) {\n        this.ensure(2);\n        this.buffer[this.offset++] = (num >>> 8) & 0xff;\n        this.buffer[this.offset++] = (num >>> 0) & 0xff;\n        return this;\n    }\n    addCString(string) {\n        if (!string) {\n            this.ensure(1);\n        }\n        else {\n            var len = Buffer.byteLength(string);\n            this.ensure(len + 1); // +1 for null terminator\n            this.buffer.write(string, this.offset, 'utf-8');\n            this.offset += len;\n        }\n        this.buffer[this.offset++] = 0; // null terminator\n        return this;\n    }\n    addString(string = '') {\n        var len = Buffer.byteLength(string);\n        this.ensure(len);\n        this.buffer.write(string, this.offset);\n        this.offset += len;\n        return this;\n    }\n    add(otherBuffer) {\n        this.ensure(otherBuffer.length);\n        otherBuffer.copy(this.buffer, this.offset);\n        this.offset += otherBuffer.length;\n        return this;\n    }\n    join(code) {\n        if (code) {\n            this.buffer[this.headerPosition] = code;\n            //length is everything in this packet minus the code\n            const length = this.offset - (this.headerPosition + 1);\n            this.buffer.writeInt32BE(length, this.headerPosition + 1);\n        }\n        return this.buffer.slice(code ? 0 : 5, this.offset);\n    }\n    flush(code) {\n        var result = this.join(code);\n        this.offset = 5;\n        this.headerPosition = 0;\n        this.buffer = Buffer.allocUnsafe(this.size);\n        return result;\n    }\n}\nexports.Writer = Writer;\n//# sourceMappingURL=buffer-writer.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messages_1 = require(\"./messages\");\nconst buffer_reader_1 = require(\"./buffer-reader\");\nconst assert_1 = __importDefault(require(\"assert\"));\n// every message is prefixed with a single bye\nconst CODE_LENGTH = 1;\n// every message has an int32 length which includes itself but does\n// NOT include the code in the length\nconst LEN_LENGTH = 4;\nconst HEADER_LENGTH = CODE_LENGTH + LEN_LENGTH;\nconst emptyBuffer = Buffer.allocUnsafe(0);\nclass Parser {\n    constructor(opts) {\n        var _a, _b;\n        this.buffer = emptyBuffer;\n        this.bufferLength = 0;\n        this.bufferOffset = 0;\n        this.reader = new buffer_reader_1.BufferReader();\n        if (((_a = opts) === null || _a === void 0 ? void 0 : _a.mode) === 'binary') {\n            throw new Error('Binary mode not supported yet');\n        }\n        this.mode = ((_b = opts) === null || _b === void 0 ? void 0 : _b.mode) || 'text';\n    }\n    parse(buffer, callback) {\n        this.mergeBuffer(buffer);\n        const bufferFullLength = this.bufferOffset + this.bufferLength;\n        let offset = this.bufferOffset;\n        while (offset + HEADER_LENGTH <= bufferFullLength) {\n            // code is 1 byte long - it identifies the message type\n            const code = this.buffer[offset];\n            // length is 1 Uint32BE - it is the length of the message EXCLUDING the code\n            const length = this.buffer.readUInt32BE(offset + CODE_LENGTH);\n            const fullMessageLength = CODE_LENGTH + length;\n            if (fullMessageLength + offset <= bufferFullLength) {\n                const message = this.handlePacket(offset + HEADER_LENGTH, code, length, this.buffer);\n                callback(message);\n                offset += fullMessageLength;\n            }\n            else {\n                break;\n            }\n        }\n        if (offset === bufferFullLength) {\n            // No more use for the buffer\n            this.buffer = emptyBuffer;\n            this.bufferLength = 0;\n            this.bufferOffset = 0;\n        }\n        else {\n            // Adjust the cursors of remainingBuffer\n            this.bufferLength = bufferFullLength - offset;\n            this.bufferOffset = offset;\n        }\n    }\n    mergeBuffer(buffer) {\n        if (this.bufferLength > 0) {\n            const newLength = this.bufferLength + buffer.byteLength;\n            const newFullLength = newLength + this.bufferOffset;\n            if (newFullLength > this.buffer.byteLength) {\n                // We can't concat the new buffer with the remaining one\n                let newBuffer;\n                if (newLength <= this.buffer.byteLength && this.bufferOffset >= this.bufferLength) {\n                    // We can move the relevant part to the beginning of the buffer instead of allocating a new buffer\n                    newBuffer = this.buffer;\n                }\n                else {\n                    // Allocate a new larger buffer\n                    let newBufferLength = this.buffer.byteLength * 2;\n                    while (newLength >= newBufferLength) {\n                        newBufferLength *= 2;\n                    }\n                    newBuffer = Buffer.allocUnsafe(newBufferLength);\n                }\n                // Move the remaining buffer to the new one\n                this.buffer.copy(newBuffer, 0, this.bufferOffset, this.bufferOffset + this.bufferLength);\n                this.buffer = newBuffer;\n                this.bufferOffset = 0;\n            }\n            // Concat the new buffer with the remaining one\n            buffer.copy(this.buffer, this.bufferOffset + this.bufferLength);\n            this.bufferLength = newLength;\n        }\n        else {\n            this.buffer = buffer;\n            this.bufferOffset = 0;\n            this.bufferLength = buffer.byteLength;\n        }\n    }\n    handlePacket(offset, code, length, bytes) {\n        switch (code) {\n            case 50 /* BindComplete */:\n                return messages_1.bindComplete;\n            case 49 /* ParseComplete */:\n                return messages_1.parseComplete;\n            case 51 /* CloseComplete */:\n                return messages_1.closeComplete;\n            case 110 /* NoData */:\n                return messages_1.noData;\n            case 115 /* PortalSuspended */:\n                return messages_1.portalSuspended;\n            case 99 /* CopyDone */:\n                return messages_1.copyDone;\n            case 87 /* ReplicationStart */:\n                return messages_1.replicationStart;\n            case 73 /* EmptyQuery */:\n                return messages_1.emptyQuery;\n            case 68 /* DataRow */:\n                return this.parseDataRowMessage(offset, length, bytes);\n            case 67 /* CommandComplete */:\n                return this.parseCommandCompleteMessage(offset, length, bytes);\n            case 90 /* ReadyForQuery */:\n                return this.parseReadyForQueryMessage(offset, length, bytes);\n            case 65 /* NotificationResponse */:\n                return this.parseNotificationMessage(offset, length, bytes);\n            case 82 /* AuthenticationResponse */:\n                return this.parseAuthenticationResponse(offset, length, bytes);\n            case 83 /* ParameterStatus */:\n                return this.parseParameterStatusMessage(offset, length, bytes);\n            case 75 /* BackendKeyData */:\n                return this.parseBackendKeyData(offset, length, bytes);\n            case 69 /* ErrorMessage */:\n                return this.parseErrorMessage(offset, length, bytes, \"error\" /* error */);\n            case 78 /* NoticeMessage */:\n                return this.parseErrorMessage(offset, length, bytes, \"notice\" /* notice */);\n            case 84 /* RowDescriptionMessage */:\n                return this.parseRowDescriptionMessage(offset, length, bytes);\n            case 71 /* CopyIn */:\n                return this.parseCopyInMessage(offset, length, bytes);\n            case 72 /* CopyOut */:\n                return this.parseCopyOutMessage(offset, length, bytes);\n            case 100 /* CopyData */:\n                return this.parseCopyData(offset, length, bytes);\n            default:\n                assert_1.default.fail(`unknown message code: ${code.toString(16)}`);\n        }\n    }\n    parseReadyForQueryMessage(offset, length, bytes) {\n        this.reader.setBuffer(offset, bytes);\n        const status = this.reader.string(1);\n        return new messages_1.ReadyForQueryMessage(length, status);\n    }\n    parseCommandCompleteMessage(offset, length, bytes) {\n        this.reader.setBuffer(offset, bytes);\n        const text = this.reader.cstring();\n        return new messages_1.CommandCompleteMessage(length, text);\n    }\n    parseCopyData(offset, length, bytes) {\n        const chunk = bytes.slice(offset, offset + (length - 4));\n        return new messages_1.CopyDataMessage(length, chunk);\n    }\n    parseCopyInMessage(offset, length, bytes) {\n        return this.parseCopyMessage(offset, length, bytes, \"copyInResponse\" /* copyInResponse */);\n    }\n    parseCopyOutMessage(offset, length, bytes) {\n        return this.parseCopyMessage(offset, length, bytes, \"copyOutResponse\" /* copyOutResponse */);\n    }\n    parseCopyMessage(offset, length, bytes, messageName) {\n        this.reader.setBuffer(offset, bytes);\n        const isBinary = this.reader.byte() !== 0;\n        const columnCount = this.reader.int16();\n        const message = new messages_1.CopyResponse(length, messageName, isBinary, columnCount);\n        for (let i = 0; i < columnCount; i++) {\n            message.columnTypes[i] = this.reader.int16();\n        }\n        return message;\n    }\n    parseNotificationMessage(offset, length, bytes) {\n        this.reader.setBuffer(offset, bytes);\n        const processId = this.reader.int32();\n        const channel = this.reader.cstring();\n        const payload = this.reader.cstring();\n        return new messages_1.NotificationResponseMessage(length, processId, channel, payload);\n    }\n    parseRowDescriptionMessage(offset, length, bytes) {\n        this.reader.setBuffer(offset, bytes);\n        const fieldCount = this.reader.int16();\n        const message = new messages_1.RowDescriptionMessage(length, fieldCount);\n        for (let i = 0; i < fieldCount; i++) {\n            message.fields[i] = this.parseField();\n        }\n        return message;\n    }\n    parseField() {\n        const name = this.reader.cstring();\n        const tableID = this.reader.int32();\n        const columnID = this.reader.int16();\n        const dataTypeID = this.reader.int32();\n        const dataTypeSize = this.reader.int16();\n        const dataTypeModifier = this.reader.int32();\n        const mode = this.reader.int16() === 0 ? 'text' : 'binary';\n        return new messages_1.Field(name, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, mode);\n    }\n    parseDataRowMessage(offset, length, bytes) {\n        this.reader.setBuffer(offset, bytes);\n        const fieldCount = this.reader.int16();\n        const fields = new Array(fieldCount);\n        for (let i = 0; i < fieldCount; i++) {\n            const len = this.reader.int32();\n            // a -1 for length means the value of the field is null\n            fields[i] = len === -1 ? null : this.reader.string(len);\n        }\n        return new messages_1.DataRowMessage(length, fields);\n    }\n    parseParameterStatusMessage(offset, length, bytes) {\n        this.reader.setBuffer(offset, bytes);\n        const name = this.reader.cstring();\n        const value = this.reader.cstring();\n        return new messages_1.ParameterStatusMessage(length, name, value);\n    }\n    parseBackendKeyData(offset, length, bytes) {\n        this.reader.setBuffer(offset, bytes);\n        const processID = this.reader.int32();\n        const secretKey = this.reader.int32();\n        return new messages_1.BackendKeyDataMessage(length, processID, secretKey);\n    }\n    parseAuthenticationResponse(offset, length, bytes) {\n        this.reader.setBuffer(offset, bytes);\n        const code = this.reader.int32();\n        // TODO(bmc): maybe better types here\n        const message = {\n            name: \"authenticationOk\" /* authenticationOk */,\n            length,\n        };\n        switch (code) {\n            case 0: // AuthenticationOk\n                break;\n            case 3: // AuthenticationCleartextPassword\n                if (message.length === 8) {\n                    message.name = \"authenticationCleartextPassword\" /* authenticationCleartextPassword */;\n                }\n                break;\n            case 5: // AuthenticationMD5Password\n                if (message.length === 12) {\n                    message.name = \"authenticationMD5Password\" /* authenticationMD5Password */;\n                    const salt = this.reader.bytes(4);\n                    return new messages_1.AuthenticationMD5Password(length, salt);\n                }\n                break;\n            case 10: // AuthenticationSASL\n                message.name = \"authenticationSASL\" /* authenticationSASL */;\n                message.mechanisms = [];\n                let mechanism;\n                do {\n                    mechanism = this.reader.cstring();\n                    if (mechanism) {\n                        message.mechanisms.push(mechanism);\n                    }\n                } while (mechanism);\n                break;\n            case 11: // AuthenticationSASLContinue\n                message.name = \"authenticationSASLContinue\" /* authenticationSASLContinue */;\n                message.data = this.reader.string(length - 8);\n                break;\n            case 12: // AuthenticationSASLFinal\n                message.name = \"authenticationSASLFinal\" /* authenticationSASLFinal */;\n                message.data = this.reader.string(length - 8);\n                break;\n            default:\n                throw new Error('Unknown authenticationOk message type ' + code);\n        }\n        return message;\n    }\n    parseErrorMessage(offset, length, bytes, name) {\n        this.reader.setBuffer(offset, bytes);\n        const fields = {};\n        let fieldType = this.reader.string(1);\n        while (fieldType !== '\\0') {\n            fields[fieldType] = this.reader.cstring();\n            fieldType = this.reader.string(1);\n        }\n        const messageValue = fields.M;\n        const message = name === \"notice\" /* notice */\n            ? new messages_1.NoticeMessage(length, messageValue)\n            : new messages_1.DatabaseError(messageValue, length, name);\n        message.severity = fields.S;\n        message.code = fields.C;\n        message.detail = fields.D;\n        message.hint = fields.H;\n        message.position = fields.P;\n        message.internalPosition = fields.p;\n        message.internalQuery = fields.q;\n        message.where = fields.W;\n        message.schema = fields.s;\n        message.table = fields.t;\n        message.column = fields.c;\n        message.dataType = fields.d;\n        message.constraint = fields.n;\n        message.file = fields.F;\n        message.line = fields.L;\n        message.routine = fields.R;\n        return message;\n    }\n}\nexports.Parser = Parser;\n//# sourceMappingURL=parser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseComplete = {\n    name: \"parseComplete\" /* parseComplete */,\n    length: 5,\n};\nexports.bindComplete = {\n    name: \"bindComplete\" /* bindComplete */,\n    length: 5,\n};\nexports.closeComplete = {\n    name: \"closeComplete\" /* closeComplete */,\n    length: 5,\n};\nexports.noData = {\n    name: \"noData\" /* noData */,\n    length: 5,\n};\nexports.portalSuspended = {\n    name: \"portalSuspended\" /* portalSuspended */,\n    length: 5,\n};\nexports.replicationStart = {\n    name: \"replicationStart\" /* replicationStart */,\n    length: 4,\n};\nexports.emptyQuery = {\n    name: \"emptyQuery\" /* emptyQuery */,\n    length: 4,\n};\nexports.copyDone = {\n    name: \"copyDone\" /* copyDone */,\n    length: 4,\n};\nclass DatabaseError extends Error {\n    constructor(message, length, name) {\n        super(message);\n        this.length = length;\n        this.name = name;\n    }\n}\nexports.DatabaseError = DatabaseError;\nclass CopyDataMessage {\n    constructor(length, chunk) {\n        this.length = length;\n        this.chunk = chunk;\n        this.name = \"copyData\" /* copyData */;\n    }\n}\nexports.CopyDataMessage = CopyDataMessage;\nclass CopyResponse {\n    constructor(length, name, binary, columnCount) {\n        this.length = length;\n        this.name = name;\n        this.binary = binary;\n        this.columnTypes = new Array(columnCount);\n    }\n}\nexports.CopyResponse = CopyResponse;\nclass Field {\n    constructor(name, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, format) {\n        this.name = name;\n        this.tableID = tableID;\n        this.columnID = columnID;\n        this.dataTypeID = dataTypeID;\n        this.dataTypeSize = dataTypeSize;\n        this.dataTypeModifier = dataTypeModifier;\n        this.format = format;\n    }\n}\nexports.Field = Field;\nclass RowDescriptionMessage {\n    constructor(length, fieldCount) {\n        this.length = length;\n        this.fieldCount = fieldCount;\n        this.name = \"rowDescription\" /* rowDescription */;\n        this.fields = new Array(this.fieldCount);\n    }\n}\nexports.RowDescriptionMessage = RowDescriptionMessage;\nclass ParameterStatusMessage {\n    constructor(length, parameterName, parameterValue) {\n        this.length = length;\n        this.parameterName = parameterName;\n        this.parameterValue = parameterValue;\n        this.name = \"parameterStatus\" /* parameterStatus */;\n    }\n}\nexports.ParameterStatusMessage = ParameterStatusMessage;\nclass AuthenticationMD5Password {\n    constructor(length, salt) {\n        this.length = length;\n        this.salt = salt;\n        this.name = \"authenticationMD5Password\" /* authenticationMD5Password */;\n    }\n}\nexports.AuthenticationMD5Password = AuthenticationMD5Password;\nclass BackendKeyDataMessage {\n    constructor(length, processID, secretKey) {\n        this.length = length;\n        this.processID = processID;\n        this.secretKey = secretKey;\n        this.name = \"backendKeyData\" /* backendKeyData */;\n    }\n}\nexports.BackendKeyDataMessage = BackendKeyDataMessage;\nclass NotificationResponseMessage {\n    constructor(length, processId, channel, payload) {\n        this.length = length;\n        this.processId = processId;\n        this.channel = channel;\n        this.payload = payload;\n        this.name = \"notification\" /* notification */;\n    }\n}\nexports.NotificationResponseMessage = NotificationResponseMessage;\nclass ReadyForQueryMessage {\n    constructor(length, status) {\n        this.length = length;\n        this.status = status;\n        this.name = \"readyForQuery\" /* readyForQuery */;\n    }\n}\nexports.ReadyForQueryMessage = ReadyForQueryMessage;\nclass CommandCompleteMessage {\n    constructor(length, text) {\n        this.length = length;\n        this.text = text;\n        this.name = \"commandComplete\" /* commandComplete */;\n    }\n}\nexports.CommandCompleteMessage = CommandCompleteMessage;\nclass DataRowMessage {\n    constructor(length, fields) {\n        this.length = length;\n        this.fields = fields;\n        this.name = \"dataRow\" /* dataRow */;\n        this.fieldCount = fields.length;\n    }\n}\nexports.DataRowMessage = DataRowMessage;\nclass NoticeMessage {\n    constructor(length, message) {\n        this.length = length;\n        this.message = message;\n        this.name = \"notice\" /* notice */;\n    }\n}\nexports.NoticeMessage = NoticeMessage;\n//# sourceMappingURL=messages.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst emptyBuffer = Buffer.allocUnsafe(0);\nclass BufferReader {\n    constructor(offset = 0) {\n        this.offset = offset;\n        this.buffer = emptyBuffer;\n        // TODO(bmc): support non-utf8 encoding?\n        this.encoding = 'utf-8';\n    }\n    setBuffer(offset, buffer) {\n        this.offset = offset;\n        this.buffer = buffer;\n    }\n    int16() {\n        const result = this.buffer.readInt16BE(this.offset);\n        this.offset += 2;\n        return result;\n    }\n    byte() {\n        const result = this.buffer[this.offset];\n        this.offset++;\n        return result;\n    }\n    int32() {\n        const result = this.buffer.readInt32BE(this.offset);\n        this.offset += 4;\n        return result;\n    }\n    string(length) {\n        const result = this.buffer.toString(this.encoding, this.offset, this.offset + length);\n        this.offset += length;\n        return result;\n    }\n    cstring() {\n        const start = this.offset;\n        let end = start;\n        while (this.buffer[end++] !== 0) { }\n        this.offset = end;\n        return this.buffer.toString(this.encoding, start, end - 1);\n    }\n    bytes(length) {\n        const result = this.buffer.slice(this.offset, this.offset + length);\n        this.offset += length;\n        return result;\n    }\n}\nexports.BufferReader = BufferReader;\n//# sourceMappingURL=buffer-reader.js.map","'use strict'\nconst EventEmitter = require('events').EventEmitter\n\nconst NOOP = function () {}\n\nconst removeWhere = (list, predicate) => {\n  const i = list.findIndex(predicate)\n\n  return i === -1 ? undefined : list.splice(i, 1)[0]\n}\n\nclass IdleItem {\n  constructor(client, idleListener, timeoutId) {\n    this.client = client\n    this.idleListener = idleListener\n    this.timeoutId = timeoutId\n  }\n}\n\nclass PendingItem {\n  constructor(callback) {\n    this.callback = callback\n  }\n}\n\nfunction throwOnDoubleRelease() {\n  throw new Error('Release called on client which has already been released to the pool.')\n}\n\nfunction promisify(Promise, callback) {\n  if (callback) {\n    return { callback: callback, result: undefined }\n  }\n  let rej\n  let res\n  const cb = function (err, client) {\n    err ? rej(err) : res(client)\n  }\n  const result = new Promise(function (resolve, reject) {\n    res = resolve\n    rej = reject\n  })\n  return { callback: cb, result: result }\n}\n\nfunction makeIdleListener(pool, client) {\n  return function idleListener(err) {\n    err.client = client\n\n    client.removeListener('error', idleListener)\n    client.on('error', () => {\n      pool.log('additional client error after disconnection due to error', err)\n    })\n    pool._remove(client)\n    // TODO - document that once the pool emits an error\n    // the client has already been closed & purged and is unusable\n    pool.emit('error', err, client)\n  }\n}\n\nclass Pool extends EventEmitter {\n  constructor(options, Client) {\n    super()\n    this.options = Object.assign({}, options)\n\n    if (options != null && 'password' in options) {\n      // \"hiding\" the password so it doesn't show up in stack traces\n      // or if the client is console.logged\n      Object.defineProperty(this.options, 'password', {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: options.password,\n      })\n    }\n\n    this.options.max = this.options.max || this.options.poolSize || 10\n    this.options.maxUses = this.options.maxUses || Infinity\n    this.log = this.options.log || function () {}\n    this.Client = this.options.Client || Client || require('pg').Client\n    this.Promise = this.options.Promise || global.Promise\n\n    if (typeof this.options.idleTimeoutMillis === 'undefined') {\n      this.options.idleTimeoutMillis = 10000\n    }\n\n    this._clients = []\n    this._idle = []\n    this._pendingQueue = []\n    this._endCallback = undefined\n    this.ending = false\n    this.ended = false\n  }\n\n  _isFull() {\n    return this._clients.length >= this.options.max\n  }\n\n  _pulseQueue() {\n    this.log('pulse queue')\n    if (this.ended) {\n      this.log('pulse queue ended')\n      return\n    }\n    if (this.ending) {\n      this.log('pulse queue on ending')\n      if (this._idle.length) {\n        this._idle.slice().map((item) => {\n          this._remove(item.client)\n        })\n      }\n      if (!this._clients.length) {\n        this.ended = true\n        this._endCallback()\n      }\n      return\n    }\n    // if we don't have any waiting, do nothing\n    if (!this._pendingQueue.length) {\n      this.log('no queued requests')\n      return\n    }\n    // if we don't have any idle clients and we have no more room do nothing\n    if (!this._idle.length && this._isFull()) {\n      return\n    }\n    const pendingItem = this._pendingQueue.shift()\n    if (this._idle.length) {\n      const idleItem = this._idle.pop()\n      clearTimeout(idleItem.timeoutId)\n      const client = idleItem.client\n      const idleListener = idleItem.idleListener\n\n      return this._acquireClient(client, pendingItem, idleListener, false)\n    }\n    if (!this._isFull()) {\n      return this.newClient(pendingItem)\n    }\n    throw new Error('unexpected condition')\n  }\n\n  _remove(client) {\n    const removed = removeWhere(this._idle, (item) => item.client === client)\n\n    if (removed !== undefined) {\n      clearTimeout(removed.timeoutId)\n    }\n\n    this._clients = this._clients.filter((c) => c !== client)\n    client.end()\n    this.emit('remove', client)\n  }\n\n  connect(cb) {\n    if (this.ending) {\n      const err = new Error('Cannot use a pool after calling end on the pool')\n      return cb ? cb(err) : this.Promise.reject(err)\n    }\n\n    const response = promisify(this.Promise, cb)\n    const result = response.result\n\n    // if we don't have to connect a new client, don't do so\n    if (this._clients.length >= this.options.max || this._idle.length) {\n      // if we have idle clients schedule a pulse immediately\n      if (this._idle.length) {\n        process.nextTick(() => this._pulseQueue())\n      }\n\n      if (!this.options.connectionTimeoutMillis) {\n        this._pendingQueue.push(new PendingItem(response.callback))\n        return result\n      }\n\n      const queueCallback = (err, res, done) => {\n        clearTimeout(tid)\n        response.callback(err, res, done)\n      }\n\n      const pendingItem = new PendingItem(queueCallback)\n\n      // set connection timeout on checking out an existing client\n      const tid = setTimeout(() => {\n        // remove the callback from pending waiters because\n        // we're going to call it with a timeout error\n        removeWhere(this._pendingQueue, (i) => i.callback === queueCallback)\n        pendingItem.timedOut = true\n        response.callback(new Error('timeout exceeded when trying to connect'))\n      }, this.options.connectionTimeoutMillis)\n\n      this._pendingQueue.push(pendingItem)\n      return result\n    }\n\n    this.newClient(new PendingItem(response.callback))\n\n    return result\n  }\n\n  newClient(pendingItem) {\n    const client = new this.Client(this.options)\n    this._clients.push(client)\n    const idleListener = makeIdleListener(this, client)\n\n    this.log('checking client timeout')\n\n    // connection timeout logic\n    let tid\n    let timeoutHit = false\n    if (this.options.connectionTimeoutMillis) {\n      tid = setTimeout(() => {\n        this.log('ending client due to timeout')\n        timeoutHit = true\n        // force kill the node driver, and let libpq do its teardown\n        client.connection ? client.connection.stream.destroy() : client.end()\n      }, this.options.connectionTimeoutMillis)\n    }\n\n    this.log('connecting new client')\n    client.connect((err) => {\n      if (tid) {\n        clearTimeout(tid)\n      }\n      client.on('error', idleListener)\n      if (err) {\n        this.log('client failed to connect', err)\n        // remove the dead client from our list of clients\n        this._clients = this._clients.filter((c) => c !== client)\n        if (timeoutHit) {\n          err.message = 'Connection terminated due to connection timeout'\n        }\n\n        // this client won’t be released, so move on immediately\n        this._pulseQueue()\n\n        if (!pendingItem.timedOut) {\n          pendingItem.callback(err, undefined, NOOP)\n        }\n      } else {\n        this.log('new client connected')\n\n        return this._acquireClient(client, pendingItem, idleListener, true)\n      }\n    })\n  }\n\n  // acquire a client for a pending work item\n  _acquireClient(client, pendingItem, idleListener, isNew) {\n    if (isNew) {\n      this.emit('connect', client)\n    }\n\n    this.emit('acquire', client)\n\n    client.release = this._releaseOnce(client, idleListener)\n\n    client.removeListener('error', idleListener)\n\n    if (!pendingItem.timedOut) {\n      if (isNew && this.options.verify) {\n        this.options.verify(client, (err) => {\n          if (err) {\n            client.release(err)\n            return pendingItem.callback(err, undefined, NOOP)\n          }\n\n          pendingItem.callback(undefined, client, client.release)\n        })\n      } else {\n        pendingItem.callback(undefined, client, client.release)\n      }\n    } else {\n      if (isNew && this.options.verify) {\n        this.options.verify(client, client.release)\n      } else {\n        client.release()\n      }\n    }\n  }\n\n  // returns a function that wraps _release and throws if called more than once\n  _releaseOnce(client, idleListener) {\n    let released = false\n\n    return (err) => {\n      if (released) {\n        throwOnDoubleRelease()\n      }\n\n      released = true\n      this._release(client, idleListener, err)\n    }\n  }\n\n  // release a client back to the poll, include an error\n  // to remove it from the pool\n  _release(client, idleListener, err) {\n    client.on('error', idleListener)\n\n    client._poolUseCount = (client._poolUseCount || 0) + 1\n\n    // TODO(bmc): expose a proper, public interface _queryable and _ending\n    if (err || this.ending || !client._queryable || client._ending || client._poolUseCount >= this.options.maxUses) {\n      if (client._poolUseCount >= this.options.maxUses) {\n        this.log('remove expended client')\n      }\n      this._remove(client)\n      this._pulseQueue()\n      return\n    }\n\n    // idle timeout\n    let tid\n    if (this.options.idleTimeoutMillis) {\n      tid = setTimeout(() => {\n        this.log('remove idle client')\n        this._remove(client)\n      }, this.options.idleTimeoutMillis)\n    }\n\n    this._idle.push(new IdleItem(client, idleListener, tid))\n    this._pulseQueue()\n  }\n\n  query(text, values, cb) {\n    // guard clause against passing a function as the first parameter\n    if (typeof text === 'function') {\n      const response = promisify(this.Promise, text)\n      setImmediate(function () {\n        return response.callback(new Error('Passing a function as the first parameter to pool.query is not supported'))\n      })\n      return response.result\n    }\n\n    // allow plain text query without values\n    if (typeof values === 'function') {\n      cb = values\n      values = undefined\n    }\n    const response = promisify(this.Promise, cb)\n    cb = response.callback\n\n    this.connect((err, client) => {\n      if (err) {\n        return cb(err)\n      }\n\n      let clientReleased = false\n      const onError = (err) => {\n        if (clientReleased) {\n          return\n        }\n        clientReleased = true\n        client.release(err)\n        cb(err)\n      }\n\n      client.once('error', onError)\n      this.log('dispatching query')\n      client.query(text, values, (err, res) => {\n        this.log('query dispatched')\n        client.removeListener('error', onError)\n        if (clientReleased) {\n          return\n        }\n        clientReleased = true\n        client.release(err)\n        if (err) {\n          return cb(err)\n        } else {\n          return cb(undefined, res)\n        }\n      })\n    })\n    return response.result\n  }\n\n  end(cb) {\n    this.log('ending')\n    if (this.ending) {\n      const err = new Error('Called end on pool more than once')\n      return cb ? cb(err) : this.Promise.reject(err)\n    }\n    this.ending = true\n    const promised = promisify(this.Promise, cb)\n    this._endCallback = promised.callback\n    this._pulseQueue()\n    return promised.result\n  }\n\n  get waitingCount() {\n    return this._pendingQueue.length\n  }\n\n  get idleCount() {\n    return this._idle.length\n  }\n\n  get totalCount() {\n    return this._clients.length\n  }\n}\nmodule.exports = Pool\n","'use strict'\nmodule.exports = require('./client')\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\n// eslint-disable-next-line\nvar Native = require('pg-native')\nvar TypeOverrides = require('../type-overrides')\nvar semver = require('semver')\nvar pkg = require('../../package.json')\nvar assert = require('assert')\nvar EventEmitter = require('events').EventEmitter\nvar util = require('util')\nvar ConnectionParameters = require('../connection-parameters')\n\nvar msg = 'Version >= ' + pkg.minNativeVersion + ' of pg-native required.'\nassert(semver.gte(Native.version, pkg.minNativeVersion), msg)\n\nvar NativeQuery = require('./query')\n\nvar Client = (module.exports = function (config) {\n  EventEmitter.call(this)\n  config = config || {}\n\n  this._Promise = config.Promise || global.Promise\n  this._types = new TypeOverrides(config.types)\n\n  this.native = new Native({\n    types: this._types,\n  })\n\n  this._queryQueue = []\n  this._ending = false\n  this._connecting = false\n  this._connected = false\n  this._queryable = true\n\n  // keep these on the object for legacy reasons\n  // for the time being. TODO: deprecate all this jazz\n  var cp = (this.connectionParameters = new ConnectionParameters(config))\n  this.user = cp.user\n\n  // \"hiding\" the password so it doesn't show up in stack traces\n  // or if the client is console.logged\n  Object.defineProperty(this, 'password', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: cp.password,\n  })\n  this.database = cp.database\n  this.host = cp.host\n  this.port = cp.port\n\n  // a hash to hold named queries\n  this.namedQueries = {}\n})\n\nClient.Query = NativeQuery\n\nutil.inherits(Client, EventEmitter)\n\nClient.prototype._errorAllQueries = function (err) {\n  const enqueueError = (query) => {\n    process.nextTick(() => {\n      query.native = this.native\n      query.handleError(err)\n    })\n  }\n\n  if (this._hasActiveQuery()) {\n    enqueueError(this._activeQuery)\n    this._activeQuery = null\n  }\n\n  this._queryQueue.forEach(enqueueError)\n  this._queryQueue.length = 0\n}\n\n// connect to the backend\n// pass an optional callback to be called once connected\n// or with an error if there was a connection error\nClient.prototype._connect = function (cb) {\n  var self = this\n\n  if (this._connecting) {\n    process.nextTick(() => cb(new Error('Client has already been connected. You cannot reuse a client.')))\n    return\n  }\n\n  this._connecting = true\n\n  this.connectionParameters.getLibpqConnectionString(function (err, conString) {\n    if (err) return cb(err)\n    self.native.connect(conString, function (err) {\n      if (err) {\n        self.native.end()\n        return cb(err)\n      }\n\n      // set internal states to connected\n      self._connected = true\n\n      // handle connection errors from the native layer\n      self.native.on('error', function (err) {\n        self._queryable = false\n        self._errorAllQueries(err)\n        self.emit('error', err)\n      })\n\n      self.native.on('notification', function (msg) {\n        self.emit('notification', {\n          channel: msg.relname,\n          payload: msg.extra,\n        })\n      })\n\n      // signal we are connected now\n      self.emit('connect')\n      self._pulseQueryQueue(true)\n\n      cb()\n    })\n  })\n}\n\nClient.prototype.connect = function (callback) {\n  if (callback) {\n    this._connect(callback)\n    return\n  }\n\n  return new this._Promise((resolve, reject) => {\n    this._connect((error) => {\n      if (error) {\n        reject(error)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\n\n// send a query to the server\n// this method is highly overloaded to take\n// 1) string query, optional array of parameters, optional function callback\n// 2) object query with {\n//    string query\n//    optional array values,\n//    optional function callback instead of as a separate parameter\n//    optional string name to name & cache the query plan\n//    optional string rowMode = 'array' for an array of results\n//  }\nClient.prototype.query = function (config, values, callback) {\n  var query\n  var result\n  var readTimeout\n  var readTimeoutTimer\n  var queryCallback\n\n  if (config === null || config === undefined) {\n    throw new TypeError('Client was passed a null or undefined query')\n  } else if (typeof config.submit === 'function') {\n    readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n    result = query = config\n    // accept query(new Query(...), (err, res) => { }) style\n    if (typeof values === 'function') {\n      config.callback = values\n    }\n  } else {\n    readTimeout = this.connectionParameters.query_timeout\n    query = new NativeQuery(config, values, callback)\n    if (!query.callback) {\n      let resolveOut, rejectOut\n      result = new this._Promise((resolve, reject) => {\n        resolveOut = resolve\n        rejectOut = reject\n      })\n      query.callback = (err, res) => (err ? rejectOut(err) : resolveOut(res))\n    }\n  }\n\n  if (readTimeout) {\n    queryCallback = query.callback\n\n    readTimeoutTimer = setTimeout(() => {\n      var error = new Error('Query read timeout')\n\n      process.nextTick(() => {\n        query.handleError(error, this.connection)\n      })\n\n      queryCallback(error)\n\n      // we already returned an error,\n      // just do nothing if query completes\n      query.callback = () => {}\n\n      // Remove from queue\n      var index = this._queryQueue.indexOf(query)\n      if (index > -1) {\n        this._queryQueue.splice(index, 1)\n      }\n\n      this._pulseQueryQueue()\n    }, readTimeout)\n\n    query.callback = (err, res) => {\n      clearTimeout(readTimeoutTimer)\n      queryCallback(err, res)\n    }\n  }\n\n  if (!this._queryable) {\n    query.native = this.native\n    process.nextTick(() => {\n      query.handleError(new Error('Client has encountered a connection error and is not queryable'))\n    })\n    return result\n  }\n\n  if (this._ending) {\n    query.native = this.native\n    process.nextTick(() => {\n      query.handleError(new Error('Client was closed and is not queryable'))\n    })\n    return result\n  }\n\n  this._queryQueue.push(query)\n  this._pulseQueryQueue()\n  return result\n}\n\n// disconnect from the backend server\nClient.prototype.end = function (cb) {\n  var self = this\n\n  this._ending = true\n\n  if (!this._connected) {\n    this.once('connect', this.end.bind(this, cb))\n  }\n  var result\n  if (!cb) {\n    result = new this._Promise(function (resolve, reject) {\n      cb = (err) => (err ? reject(err) : resolve())\n    })\n  }\n  this.native.end(function () {\n    self._errorAllQueries(new Error('Connection terminated'))\n\n    process.nextTick(() => {\n      self.emit('end')\n      if (cb) cb()\n    })\n  })\n  return result\n}\n\nClient.prototype._hasActiveQuery = function () {\n  return this._activeQuery && this._activeQuery.state !== 'error' && this._activeQuery.state !== 'end'\n}\n\nClient.prototype._pulseQueryQueue = function (initialConnection) {\n  if (!this._connected) {\n    return\n  }\n  if (this._hasActiveQuery()) {\n    return\n  }\n  var query = this._queryQueue.shift()\n  if (!query) {\n    if (!initialConnection) {\n      this.emit('drain')\n    }\n    return\n  }\n  this._activeQuery = query\n  query.submit(this)\n  var self = this\n  query.once('_done', function () {\n    self._pulseQueryQueue()\n  })\n}\n\n// attempt to cancel an in-progress query\nClient.prototype.cancel = function (query) {\n  if (this._activeQuery === query) {\n    this.native.cancel(function () {})\n  } else if (this._queryQueue.indexOf(query) !== -1) {\n    this._queryQueue.splice(this._queryQueue.indexOf(query), 1)\n  }\n}\n\nClient.prototype.setTypeParser = function (oid, format, parseFn) {\n  return this._types.setTypeParser(oid, format, parseFn)\n}\n\nClient.prototype.getTypeParser = function (oid, format) {\n  return this._types.getTypeParser(oid, format)\n}\n","// export the class if we are in a Node-like system.\nif (typeof module === 'object' && module.exports === exports)\n  exports = module.exports = SemVer;\n\n// The debug function is excluded entirely from the minified version.\n/* nomin */ var debug;\n/* nomin */ if (typeof process === 'object' &&\n    /* nomin */ process.env &&\n    /* nomin */ process.env.NODE_DEBUG &&\n    /* nomin */ /\\bsemver\\b/i.test(process.env.NODE_DEBUG))\n  /* nomin */ debug = function() {\n    /* nomin */ var args = Array.prototype.slice.call(arguments, 0);\n    /* nomin */ args.unshift('SEMVER');\n    /* nomin */ console.log.apply(console, args);\n    /* nomin */ };\n/* nomin */ else\n  /* nomin */ debug = function() {};\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0';\n\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\n// The actual regexps go on exports.re\nvar re = exports.re = [];\nvar src = exports.src = [];\nvar R = 0;\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++;\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*';\nvar NUMERICIDENTIFIERLOOSE = R++;\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+';\n\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++;\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\n\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++;\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')';\n\nvar MAINVERSIONLOOSE = R++;\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')';\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++;\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')';\n\nvar PRERELEASEIDENTIFIERLOOSE = R++;\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')';\n\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++;\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))';\n\nvar PRERELEASELOOSE = R++;\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))';\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++;\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+';\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++;\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))';\n\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++;\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?';\n\nsrc[FULL] = '^' + FULLPLAIN + '$';\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?';\n\nvar LOOSE = R++;\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$';\n\nvar GTLT = R++;\nsrc[GTLT] = '((?:<|>)?=?)';\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++;\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*';\nvar XRANGEIDENTIFIER = R++;\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*';\n\nvar XRANGEPLAIN = R++;\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?';\n\nvar XRANGEPLAINLOOSE = R++;\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?';\n\nvar XRANGE = R++;\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$';\nvar XRANGELOOSE = R++;\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$';\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++;\nsrc[LONETILDE] = '(?:~>?)';\n\nvar TILDETRIM = R++;\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+';\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g');\nvar tildeTrimReplace = '$1~';\n\nvar TILDE = R++;\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$';\nvar TILDELOOSE = R++;\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$';\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++;\nsrc[LONECARET] = '(?:\\\\^)';\n\nvar CARETTRIM = R++;\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+';\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g');\nvar caretTrimReplace = '$1^';\n\nvar CARET = R++;\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$';\nvar CARETLOOSE = R++;\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$';\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++;\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$';\nvar COMPARATOR = R++;\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$';\n\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++;\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')';\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g');\nvar comparatorTrimReplace = '$1$2$3';\n\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++;\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$';\n\nvar HYPHENRANGELOOSE = R++;\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$';\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++;\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*';\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i]);\n  if (!re[i])\n    re[i] = new RegExp(src[i]);\n}\n\nexports.parse = parse;\nfunction parse(version, loose) {\n  if (version.length > MAX_LENGTH)\n    return null;\n\n  var r = loose ? re[LOOSE] : re[FULL];\n  if (!r.test(version))\n    return null;\n\n  try {\n    return new SemVer(version, loose);\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.valid = valid;\nfunction valid(version, loose) {\n  var v = parse(version, loose);\n  return v ? v.version : null;\n}\n\n\nexports.clean = clean;\nfunction clean(version, loose) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), loose);\n  return s ? s.version : null;\n}\n\nexports.SemVer = SemVer;\n\nfunction SemVer(version, loose) {\n  if (version instanceof SemVer) {\n    if (version.loose === loose)\n      return version;\n    else\n      version = version.version;\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version);\n  }\n\n  if (version.length > MAX_LENGTH)\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n\n  if (!(this instanceof SemVer))\n    return new SemVer(version, loose);\n\n  debug('SemVer', version, loose);\n  this.loose = loose;\n  var m = version.trim().match(loose ? re[LOOSE] : re[FULL]);\n\n  if (!m)\n    throw new TypeError('Invalid Version: ' + version);\n\n  this.raw = version;\n\n  // these are actually numbers\n  this.major = +m[1];\n  this.minor = +m[2];\n  this.patch = +m[3];\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0)\n    throw new TypeError('Invalid major version')\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0)\n    throw new TypeError('Invalid minor version')\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0)\n    throw new TypeError('Invalid patch version')\n\n  // numberify any prerelease numeric ids\n  if (!m[4])\n    this.prerelease = [];\n  else\n    this.prerelease = m[4].split('.').map(function(id) {\n      return (/^[0-9]+$/.test(id)) ? +id : id;\n    });\n\n  this.build = m[5] ? m[5].split('.') : [];\n  this.format();\n}\n\nSemVer.prototype.format = function() {\n  this.version = this.major + '.' + this.minor + '.' + this.patch;\n  if (this.prerelease.length)\n    this.version += '-' + this.prerelease.join('.');\n  return this.version;\n};\n\nSemVer.prototype.inspect = function() {\n  return '<SemVer \"' + this + '\">';\n};\n\nSemVer.prototype.toString = function() {\n  return this.version;\n};\n\nSemVer.prototype.compare = function(other) {\n  debug('SemVer.compare', this.version, this.loose, other);\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return this.compareMain(other) || this.comparePre(other);\n};\n\nSemVer.prototype.compareMain = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch);\n};\n\nSemVer.prototype.comparePre = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length)\n    return -1;\n  else if (!this.prerelease.length && other.prerelease.length)\n    return 1;\n  else if (!this.prerelease.length && !other.prerelease.length)\n    return 0;\n\n  var i = 0;\n  do {\n    var a = this.prerelease[i];\n    var b = other.prerelease[i];\n    debug('prerelease compare', i, a, b);\n    if (a === undefined && b === undefined)\n      return 0;\n    else if (b === undefined)\n      return 1;\n    else if (a === undefined)\n      return -1;\n    else if (a === b)\n      continue;\n    else\n      return compareIdentifiers(a, b);\n  } while (++i);\n};\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function(release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor = 0;\n      this.major++;\n      this.inc('pre', identifier);\n      break;\n    case 'preminor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor++;\n      this.inc('pre', identifier);\n      break;\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0;\n      this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0)\n        this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0)\n        this.major++;\n      this.minor = 0;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0)\n        this.minor++;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0)\n        this.patch++;\n      this.prerelease = [];\n      break;\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0)\n        this.prerelease = [0];\n      else {\n        var i = this.prerelease.length;\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++;\n            i = -2;\n          }\n        }\n        if (i === -1) // didn't increment anything\n          this.prerelease.push(0);\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1]))\n            this.prerelease = [identifier, 0];\n        } else\n          this.prerelease = [identifier, 0];\n      }\n      break;\n\n    default:\n      throw new Error('invalid increment argument: ' + release);\n  }\n  this.format();\n  return this;\n};\n\nexports.inc = inc;\nfunction inc(version, release, loose, identifier) {\n  if (typeof(loose) === 'string') {\n    identifier = loose;\n    loose = undefined;\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version;\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.diff = diff;\nfunction diff(version1, version2) {\n  if (eq(version1, version2)) {\n    return null;\n  } else {\n    var v1 = parse(version1);\n    var v2 = parse(version2);\n    if (v1.prerelease.length || v2.prerelease.length) {\n      for (var key in v1) {\n        if (key === 'major' || key === 'minor' || key === 'patch') {\n          if (v1[key] !== v2[key]) {\n            return 'pre'+key;\n          }\n        }\n      }\n      return 'prerelease';\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return key;\n        }\n      }\n    }\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers;\n\nvar numeric = /^[0-9]+$/;\nfunction compareIdentifiers(a, b) {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n\n  return (anum && !bnum) ? -1 :\n         (bnum && !anum) ? 1 :\n         a < b ? -1 :\n         a > b ? 1 :\n         0;\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers;\nfunction rcompareIdentifiers(a, b) {\n  return compareIdentifiers(b, a);\n}\n\nexports.major = major;\nfunction major(a, loose) {\n  return new SemVer(a, loose).major;\n}\n\nexports.minor = minor;\nfunction minor(a, loose) {\n  return new SemVer(a, loose).minor;\n}\n\nexports.patch = patch;\nfunction patch(a, loose) {\n  return new SemVer(a, loose).patch;\n}\n\nexports.compare = compare;\nfunction compare(a, b, loose) {\n  return new SemVer(a, loose).compare(b);\n}\n\nexports.compareLoose = compareLoose;\nfunction compareLoose(a, b) {\n  return compare(a, b, true);\n}\n\nexports.rcompare = rcompare;\nfunction rcompare(a, b, loose) {\n  return compare(b, a, loose);\n}\n\nexports.sort = sort;\nfunction sort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.compare(a, b, loose);\n  });\n}\n\nexports.rsort = rsort;\nfunction rsort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.rcompare(a, b, loose);\n  });\n}\n\nexports.gt = gt;\nfunction gt(a, b, loose) {\n  return compare(a, b, loose) > 0;\n}\n\nexports.lt = lt;\nfunction lt(a, b, loose) {\n  return compare(a, b, loose) < 0;\n}\n\nexports.eq = eq;\nfunction eq(a, b, loose) {\n  return compare(a, b, loose) === 0;\n}\n\nexports.neq = neq;\nfunction neq(a, b, loose) {\n  return compare(a, b, loose) !== 0;\n}\n\nexports.gte = gte;\nfunction gte(a, b, loose) {\n  return compare(a, b, loose) >= 0;\n}\n\nexports.lte = lte;\nfunction lte(a, b, loose) {\n  return compare(a, b, loose) <= 0;\n}\n\nexports.cmp = cmp;\nfunction cmp(a, op, b, loose) {\n  var ret;\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a === b;\n      break;\n    case '!==':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a !== b;\n      break;\n    case '': case '=': case '==': ret = eq(a, b, loose); break;\n    case '!=': ret = neq(a, b, loose); break;\n    case '>': ret = gt(a, b, loose); break;\n    case '>=': ret = gte(a, b, loose); break;\n    case '<': ret = lt(a, b, loose); break;\n    case '<=': ret = lte(a, b, loose); break;\n    default: throw new TypeError('Invalid operator: ' + op);\n  }\n  return ret;\n}\n\nexports.Comparator = Comparator;\nfunction Comparator(comp, loose) {\n  if (comp instanceof Comparator) {\n    if (comp.loose === loose)\n      return comp;\n    else\n      comp = comp.value;\n  }\n\n  if (!(this instanceof Comparator))\n    return new Comparator(comp, loose);\n\n  debug('comparator', comp, loose);\n  this.loose = loose;\n  this.parse(comp);\n\n  if (this.semver === ANY)\n    this.value = '';\n  else\n    this.value = this.operator + this.semver.version;\n\n  debug('comp', this);\n}\n\nvar ANY = {};\nComparator.prototype.parse = function(comp) {\n  var r = this.loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var m = comp.match(r);\n\n  if (!m)\n    throw new TypeError('Invalid comparator: ' + comp);\n\n  this.operator = m[1];\n  if (this.operator === '=')\n    this.operator = '';\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2])\n    this.semver = ANY;\n  else\n    this.semver = new SemVer(m[2], this.loose);\n};\n\nComparator.prototype.inspect = function() {\n  return '<SemVer Comparator \"' + this + '\">';\n};\n\nComparator.prototype.toString = function() {\n  return this.value;\n};\n\nComparator.prototype.test = function(version) {\n  debug('Comparator.test', version, this.loose);\n\n  if (this.semver === ANY)\n    return true;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  return cmp(version, this.operator, this.semver, this.loose);\n};\n\n\nexports.Range = Range;\nfunction Range(range, loose) {\n  if ((range instanceof Range) && range.loose === loose)\n    return range;\n\n  if (!(this instanceof Range))\n    return new Range(range, loose);\n\n  this.loose = loose;\n\n  // First, split based on boolean or ||\n  this.raw = range;\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function(range) {\n    return this.parseRange(range.trim());\n  }, this).filter(function(c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length;\n  });\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range);\n  }\n\n  this.format();\n}\n\nRange.prototype.inspect = function() {\n  return '<SemVer Range \"' + this.range + '\">';\n};\n\nRange.prototype.format = function() {\n  this.range = this.set.map(function(comps) {\n    return comps.join(' ').trim();\n  }).join('||').trim();\n  return this.range;\n};\n\nRange.prototype.toString = function() {\n  return this.range;\n};\n\nRange.prototype.parseRange = function(range) {\n  var loose = this.loose;\n  range = range.trim();\n  debug('range', range, loose);\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE];\n  range = range.replace(hr, hyphenReplace);\n  debug('hyphen replace', range);\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace);\n  debug('comparator trim', range, re[COMPARATORTRIM]);\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace);\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace);\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ');\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var set = range.split(' ').map(function(comp) {\n    return parseComparator(comp, loose);\n  }).join(' ').split(/\\s+/);\n  if (this.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function(comp) {\n      return !!comp.match(compRe);\n    });\n  }\n  set = set.map(function(comp) {\n    return new Comparator(comp, loose);\n  });\n\n  return set;\n};\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators;\nfunction toComparators(range, loose) {\n  return new Range(range, loose).set.map(function(comp) {\n    return comp.map(function(c) {\n      return c.value;\n    }).join(' ').trim().split(' ');\n  });\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator(comp, loose) {\n  debug('comp', comp);\n  comp = replaceCarets(comp, loose);\n  debug('caret', comp);\n  comp = replaceTildes(comp, loose);\n  debug('tildes', comp);\n  comp = replaceXRanges(comp, loose);\n  debug('xrange', comp);\n  comp = replaceStars(comp, loose);\n  debug('stars', comp);\n  return comp;\n}\n\nfunction isX(id) {\n  return !id || id.toLowerCase() === 'x' || id === '*';\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceTilde(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceTilde(comp, loose) {\n  var r = loose ? re[TILDELOOSE] : re[TILDE];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p))\n      // ~1.2 == >=1.2.0- <1.3.0-\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    else if (pr) {\n      debug('replaceTilde pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      ret = '>=' + M + '.' + m + '.' + p + pr +\n            ' <' + M + '.' + (+m + 1) + '.0';\n    } else\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0';\n\n    debug('tilde return', ret);\n    return ret;\n  });\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceCaret(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceCaret(comp, loose) {\n  debug('caret', comp, loose);\n  var r = loose ? re[CARETLOOSE] : re[CARET];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p)) {\n      if (M === '0')\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n      else\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';\n    } else if (pr) {\n      debug('replaceCaret pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p + pr +\n              ' <' + (+M + 1) + '.0.0';\n    } else {\n      debug('no pr');\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0';\n    }\n\n    debug('caret return', ret);\n    return ret;\n  });\n}\n\nfunction replaceXRanges(comp, loose) {\n  debug('replaceXRanges', comp, loose);\n  return comp.split(/\\s+/).map(function(comp) {\n    return replaceXRange(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceXRange(comp, loose) {\n  comp = comp.trim();\n  var r = loose ? re[XRANGELOOSE] : re[XRANGE];\n  return comp.replace(r, function(ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr);\n    var xM = isX(M);\n    var xm = xM || isX(m);\n    var xp = xm || isX(p);\n    var anyX = xp;\n\n    if (gtlt === '=' && anyX)\n      gtlt = '';\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0';\n      } else {\n        // nothing is forbidden\n        ret = '*';\n      }\n    } else if (gtlt && anyX) {\n      // replace X with 0\n      if (xm)\n        m = 0;\n      if (xp)\n        p = 0;\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>=';\n        if (xm) {\n          M = +M + 1;\n          m = 0;\n          p = 0;\n        } else if (xp) {\n          m = +m + 1;\n          p = 0;\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm)\n          M = +M + 1\n        else\n          m = +m + 1\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p;\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    }\n\n    debug('xRange return', ret);\n\n    return ret;\n  });\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars(comp, loose) {\n  debug('replaceStars', comp, loose);\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '');\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace($0,\n                       from, fM, fm, fp, fpr, fb,\n                       to, tM, tm, tp, tpr, tb) {\n\n  if (isX(fM))\n    from = '';\n  else if (isX(fm))\n    from = '>=' + fM + '.0.0';\n  else if (isX(fp))\n    from = '>=' + fM + '.' + fm + '.0';\n  else\n    from = '>=' + from;\n\n  if (isX(tM))\n    to = '';\n  else if (isX(tm))\n    to = '<' + (+tM + 1) + '.0.0';\n  else if (isX(tp))\n    to = '<' + tM + '.' + (+tm + 1) + '.0';\n  else if (tpr)\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;\n  else\n    to = '<=' + to;\n\n  return (from + ' ' + to).trim();\n}\n\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function(version) {\n  if (!version)\n    return false;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version))\n      return true;\n  }\n  return false;\n};\n\nfunction testSet(set, version) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version))\n      return false;\n  }\n\n  if (version.prerelease.length) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (var i = 0; i < set.length; i++) {\n      debug(set[i].semver);\n      if (set[i].semver === ANY)\n        return true;\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver;\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch)\n          return true;\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false;\n  }\n\n  return true;\n}\n\nexports.satisfies = satisfies;\nfunction satisfies(version, range, loose) {\n  try {\n    range = new Range(range, loose);\n  } catch (er) {\n    return false;\n  }\n  return range.test(version);\n}\n\nexports.maxSatisfying = maxSatisfying;\nfunction maxSatisfying(versions, range, loose) {\n  return versions.filter(function(version) {\n    return satisfies(version, range, loose);\n  }).sort(function(a, b) {\n    return rcompare(a, b, loose);\n  })[0] || null;\n}\n\nexports.validRange = validRange;\nfunction validRange(range, loose) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, loose).range || '*';\n  } catch (er) {\n    return null;\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr;\nfunction ltr(version, range, loose) {\n  return outside(version, range, '<', loose);\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr;\nfunction gtr(version, range, loose) {\n  return outside(version, range, '>', loose);\n}\n\nexports.outside = outside;\nfunction outside(version, range, hilo, loose) {\n  version = new SemVer(version, loose);\n  range = new Range(range, loose);\n\n  var gtfn, ltefn, ltfn, comp, ecomp;\n  switch (hilo) {\n    case '>':\n      gtfn = gt;\n      ltefn = lte;\n      ltfn = lt;\n      comp = '>';\n      ecomp = '>=';\n      break;\n    case '<':\n      gtfn = lt;\n      ltefn = gte;\n      ltfn = gt;\n      comp = '<';\n      ecomp = '<=';\n      break;\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"');\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, loose)) {\n    return false;\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i];\n\n    var high = null;\n    var low = null;\n\n    comparators.forEach(function(comparator) {\n      high = high || comparator;\n      low = low || comparator;\n      if (gtfn(comparator.semver, high.semver, loose)) {\n        high = comparator;\n      } else if (ltfn(comparator.semver, low.semver, loose)) {\n        low = comparator;\n      }\n    });\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false;\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false;\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// Use the define() function if we're in AMD land\nif (typeof define === 'function' && define.amd)\n  define(exports);\n","{\n  \"name\": \"pg\",\n  \"version\": \"8.3.0\",\n  \"description\": \"PostgreSQL client - pure javascript & libpq with the same API\",\n  \"keywords\": [\n    \"database\",\n    \"libpq\",\n    \"pg\",\n    \"postgre\",\n    \"postgres\",\n    \"postgresql\",\n    \"rdbms\"\n  ],\n  \"homepage\": \"https://github.com/brianc/node-postgres\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/brianc/node-postgres.git\"\n  },\n  \"author\": \"Brian Carlson <brian.m.carlson@gmail.com>\",\n  \"main\": \"./lib\",\n  \"dependencies\": {\n    \"buffer-writer\": \"2.0.0\",\n    \"packet-reader\": \"1.0.0\",\n    \"pg-connection-string\": \"^2.3.0\",\n    \"pg-pool\": \"^3.2.1\",\n    \"pg-protocol\": \"^1.2.5\",\n    \"pg-types\": \"^2.1.0\",\n    \"pgpass\": \"1.x\",\n    \"semver\": \"4.3.2\"\n  },\n  \"devDependencies\": {\n    \"async\": \"0.9.0\",\n    \"bluebird\": \"3.5.2\",\n    \"co\": \"4.6.0\",\n    \"pg-copy-streams\": \"0.3.0\"\n  },\n  \"minNativeVersion\": \"2.0.0\",\n  \"scripts\": {\n    \"test\": \"make test-all\"\n  },\n  \"files\": [\n    \"lib\",\n    \"SPONSORS.md\"\n  ],\n  \"license\": \"MIT\",\n  \"engines\": {\n    \"node\": \">= 8.0.0\"\n  }\n}\n","'use strict'\n/**\n * Copyright (c) 2010-2017 Brian Carlson (brian.m.carlson@gmail.com)\n * All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * README.md file in the root directory of this source tree.\n */\n\nvar EventEmitter = require('events').EventEmitter\nvar util = require('util')\nvar utils = require('../utils')\n\nvar NativeQuery = (module.exports = function (config, values, callback) {\n  EventEmitter.call(this)\n  config = utils.normalizeQueryConfig(config, values, callback)\n  this.text = config.text\n  this.values = config.values\n  this.name = config.name\n  this.callback = config.callback\n  this.state = 'new'\n  this._arrayMode = config.rowMode === 'array'\n\n  // if the 'row' event is listened for\n  // then emit them as they come in\n  // without setting singleRowMode to true\n  // this has almost no meaning because libpq\n  // reads all rows into memory befor returning any\n  this._emitRowEvents = false\n  this.on(\n    'newListener',\n    function (event) {\n      if (event === 'row') this._emitRowEvents = true\n    }.bind(this)\n  )\n})\n\nutil.inherits(NativeQuery, EventEmitter)\n\nvar errorFieldMap = {\n  /* eslint-disable quote-props */\n  sqlState: 'code',\n  statementPosition: 'position',\n  messagePrimary: 'message',\n  context: 'where',\n  schemaName: 'schema',\n  tableName: 'table',\n  columnName: 'column',\n  dataTypeName: 'dataType',\n  constraintName: 'constraint',\n  sourceFile: 'file',\n  sourceLine: 'line',\n  sourceFunction: 'routine',\n}\n\nNativeQuery.prototype.handleError = function (err) {\n  // copy pq error fields into the error object\n  var fields = this.native.pq.resultErrorFields()\n  if (fields) {\n    for (var key in fields) {\n      var normalizedFieldName = errorFieldMap[key] || key\n      err[normalizedFieldName] = fields[key]\n    }\n  }\n  if (this.callback) {\n    this.callback(err)\n  } else {\n    this.emit('error', err)\n  }\n  this.state = 'error'\n}\n\nNativeQuery.prototype.then = function (onSuccess, onFailure) {\n  return this._getPromise().then(onSuccess, onFailure)\n}\n\nNativeQuery.prototype.catch = function (callback) {\n  return this._getPromise().catch(callback)\n}\n\nNativeQuery.prototype._getPromise = function () {\n  if (this._promise) return this._promise\n  this._promise = new Promise(\n    function (resolve, reject) {\n      this._once('end', resolve)\n      this._once('error', reject)\n    }.bind(this)\n  )\n  return this._promise\n}\n\nNativeQuery.prototype.submit = function (client) {\n  this.state = 'running'\n  var self = this\n  this.native = client.native\n  client.native.arrayMode = this._arrayMode\n\n  var after = function (err, rows, results) {\n    client.native.arrayMode = false\n    setImmediate(function () {\n      self.emit('_done')\n    })\n\n    // handle possible query error\n    if (err) {\n      return self.handleError(err)\n    }\n\n    // emit row events for each row in the result\n    if (self._emitRowEvents) {\n      if (results.length > 1) {\n        rows.forEach((rowOfRows, i) => {\n          rowOfRows.forEach((row) => {\n            self.emit('row', row, results[i])\n          })\n        })\n      } else {\n        rows.forEach(function (row) {\n          self.emit('row', row, results)\n        })\n      }\n    }\n\n    // handle successful result\n    self.state = 'end'\n    self.emit('end', results)\n    if (self.callback) {\n      self.callback(null, results)\n    }\n  }\n\n  if (process.domain) {\n    after = process.domain.bind(after)\n  }\n\n  // named query\n  if (this.name) {\n    if (this.name.length > 63) {\n      /* eslint-disable no-console */\n      console.error('Warning! Postgres only supports 63 characters for query names.')\n      console.error('You supplied %s (%s)', this.name, this.name.length)\n      console.error('This can cause conflicts and silent errors executing queries')\n      /* eslint-enable no-console */\n    }\n    var values = (this.values || []).map(utils.prepareValue)\n\n    // check if the client has already executed this named query\n    // if so...just execute it again - skip the planning phase\n    if (client.namedQueries[this.name]) {\n      if (this.text && client.namedQueries[this.name] !== this.text) {\n        const err = new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`)\n        return after(err)\n      }\n      return client.native.execute(this.name, values, after)\n    }\n    // plan the named query the first time, then execute it\n    return client.native.prepare(this.name, this.text, values.length, function (err) {\n      if (err) return after(err)\n      client.namedQueries[self.name] = self.text\n      return self.native.execute(self.name, values, after)\n    })\n  } else if (this.values) {\n    if (!Array.isArray(this.values)) {\n      const err = new Error('Query values must be an array')\n      return after(err)\n    }\n    var vals = this.values.map(utils.prepareValue)\n    client.native.query(this.text, vals, after)\n  } else {\n    client.native.query(this.text, after)\n  }\n}\n",null,null,null,null,"var assignValue = require('./_assignValue'),\n    baseZipObject = require('./_baseZipObject');\n\n/**\n * This method is like `_.fromPairs` except that it accepts two arrays,\n * one of property identifiers and one of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 0.4.0\n * @category Array\n * @param {Array} [props=[]] The property identifiers.\n * @param {Array} [values=[]] The property values.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.zipObject(['a', 'b'], [1, 2]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction zipObject(props, values) {\n  return baseZipObject(props || [], values || [], assignValue);\n}\n\nmodule.exports = zipObject;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","/**\n * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n *\n * @private\n * @param {Array} props The property identifiers.\n * @param {Array} values The property values.\n * @param {Function} assignFunc The function to assign values.\n * @returns {Object} Returns the new object.\n */\nfunction baseZipObject(props, values, assignFunc) {\n  var index = -1,\n      length = props.length,\n      valsLength = values.length,\n      result = {};\n\n  while (++index < length) {\n    var value = index < valsLength ? values[index] : undefined;\n    assignFunc(result, props[index], value);\n  }\n  return result;\n}\n\nmodule.exports = baseZipObject;\n","import { ISettings } from '@sqltools/types';\nimport formatter from '@sqltools/formatter/src/sqlFormatter';\nimport multipleQueriesParse from './parse';\n\n/**\n * Parse multiple queries to an array of queries\n *\n * @export\n * @param {string} query\n * @param {('pg' | 'mysql' | 'mssql')} [driver='mysql']\n * @param {string} [delimiter=';']\n * @returns {string[]}\n */\nexport function parse(query: string, driver: 'pg' | 'mysql' | 'mssql' | 'cql' = 'mysql'): string[] {\n  return multipleQueriesParse(query, driver);\n  // return fixedQuery.split(/\\s*;\\s*(?=([^']*'[^']*')*[^']*$)/g).filter((v) => !!v && !!`${v}`.trim()).map(v => `${v};`);\n}\n/**\n * Removes comments and line breaks from query\n *\n * @export\n * @param {string} [query='']\n * @returns\n */\nexport function cleanUp(query: string = '') {\n  if (!query) return '';\n\n  return query.toString().replace('\\t', '  ')\n    .replace(/(--.*)|(((\\/\\*)+?[\\w\\W]+?(\\*\\/)+))/gmi, '')\n    .split(/\\r\\n|\\n/gi)\n    .map(v => v.trim())\n    .filter(Boolean)\n    .join(' ')\n    .trim();\n}\n\n/**\n * Formats generated insert queries \n *\n * @export\n * @param {string} insertQuery\n * @param {ISettings['format']} [formatOptions]\n * @returns {string}\n */\nexport function formatInsertQuery(\n  insertQuery: string,\n  formatOptions?: ISettings['format'],\n): string {\n  return format(`${insertQuery.substr(0, Math.max(0, insertQuery.length - 2))});`, formatOptions)\n  .replace(/'\\${(\\d+):([\\w\\s]+):((int|bool|num|real)[\\w\\s]*)}'/gi, (_, pos, colName, type) => `\\${${pos}:${colName.trim()}:${type.trim()}}`)\n  .concat('$0');\n}\n\nexport function extractConnName(query: string) {\n  return ((query.match(/@conn\\s*(.+)$/m) || [])[1] || '').trim() || null;\n}\n\nexport function getQueryParameters(query: string, regexStr: string) {\n  if (!query || !regexStr) return [];\n\n  const regex = new RegExp(regexStr, 'g');\n\n  const paramsMap: { [k: string]: { param: string; string: string; }} = {};\n\n  let match;\n  while ((match = regex.exec(query)) !== null) {\n    const queryPart = query.substring(Math.max(0, regex.lastIndex - 15), Math.min(query.length, regex.lastIndex + 15)).replace(/[\\r\\n]/g, '').replace(/\\s+/g, ' ').trim();\n    if (!paramsMap[match[0]]) {\n      paramsMap[match[0]] = {\n        param: match[0],\n        string: `...${queryPart}...`,\n      };\n    }\n  }\n  return Object.values(paramsMap);\n}\n\n\nconst dollarRegex = /\\$([^\\s]+)/gi;\n/**\n * Format query with vscode snippet parameters\n * @param query\n * @param originalQuery\n */\nfunction fixParameters(query: string, originalQuery: string) {\n  if (!dollarRegex.test(originalQuery)) return query;\n  const matches = originalQuery.match(dollarRegex) || [];\n\n  return matches.reduce((text, match) => {\n    const matchEscaped = match.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    return text.replace(new RegExp('\\\\\\$' + ' +' + matchEscaped.substr(2), 'g'), match.replace(/\\$/g, '$$$$'));\n  }, query);\n}\n\nexport function format(query: string, formatOptions: Partial<{ insertSpaces: boolean, tabSize: number, reservedWordCase: 'upper' | 'lower' }> = {}) {\n  const { reservedWordCase = null, insertSpaces = true, tabSize = 2, ...opts } = formatOptions;\n  return fixParameters(formatter.format(query, {\n    ...opts,\n    indent: insertSpaces ? ' '.repeat(tabSize) : '\\t',\n    reservedWordCase,\n  }), query);\n}","import Db2Formatter from './languages/Db2Formatter';\nimport N1qlFormatter from './languages/N1qlFormatter';\nimport PlSqlFormatter from './languages/PlSqlFormatter';\nimport StandardSqlFormatter from './languages/StandardSqlFormatter';\nimport { Config, Token } from './core/types';\n\n/**\n * Format whitespaces in a query to make it easier to read.\n *\n * @param {string} query\n * @param {Config} cfg\n *  @param {string} cfg.language Query language, default is Standard SQL\n *  @param {string} cfg.indent Characters used for indentation, default is \"  \" (2 spaces)\n *  @param {string} cfg.reservedWordCase Reserverd case change. Allowed upper, lower, null. Default null (no changes).\n *  @param {number | 'preserve'} cfg.linesBetweenQueries How many line breaks between queries\n *  @param {any} cfg.params Collection of params for placeholder replacement\n * @return {string}\n */\nexport const format = (query: string, cfg: Config = {}): string => {\n  switch (cfg.language) {\n    case 'db2':\n      return new Db2Formatter(cfg).format(query);\n    case 'n1ql':\n      return new N1qlFormatter(cfg).format(query);\n    case 'pl/sql':\n      return new PlSqlFormatter(cfg).format(query);\n    case 'sql':\n    default:\n      return new StandardSqlFormatter(cfg).format(query);\n  }\n};\n\n/**\n * Tokenize query.\n *\n * @param {string} query\n * @param {Config} cfg\n * @return {Token[]}\n */\nexport const tokenize = (query: string, cfg: Config = {}): Token[] => {\n  return new StandardSqlFormatter(cfg).tokenize(query);\n};\nexport default {\n  format,\n  tokenize,\n};\n","import AbstractFormatter from './utils/abstract';\nimport { TokenizerConfig } from '../core/types';\n\nexport default class Db2Formatter extends AbstractFormatter{\n  getTokenizerConfig() {\n    return <TokenizerConfig>{\n      reservedWords,\n      reservedTopLevelWords,\n      reservedNewlineWords,\n      reservedTopLevelWordsNoIndent,\n      stringTypes: [`\"\"`, \"''\", '``', '[]'],\n      openParens: ['('],\n      closeParens: [')'],\n      indexedPlaceholderTypes: ['?'],\n      namedPlaceholderTypes: [':'],\n      lineCommentTypes: ['--'],\n      specialWordChars: ['#', '@']\n    };\n  }\n}\n\n\nconst reservedWords = [\n  'ABS',\n  'ACTIVATE',\n  'ALIAS',\n  'ALL',\n  'ALLOCATE',\n  'ALLOW',\n  'ALTER',\n  'ANY',\n  'ARE',\n  'ARRAY',\n  'AS',\n  'ASC',\n  'ASENSITIVE',\n  'ASSOCIATE',\n  'ASUTIME',\n  'ASYMMETRIC',\n  'AT',\n  'ATOMIC',\n  'ATTRIBUTES',\n  'AUDIT',\n  'AUTHORIZATION',\n  'AUX',\n  'AUXILIARY',\n  'AVG',\n  'BEFORE',\n  'BEGIN',\n  'BETWEEN',\n  'BIGINT',\n  'BINARY',\n  'BLOB',\n  'BOOLEAN',\n  'BOTH',\n  'BUFFERPOOL',\n  'BY',\n  'CACHE',\n  'CALL',\n  'CALLED',\n  'CAPTURE',\n  'CARDINALITY',\n  'CASCADED',\n  'CASE',\n  'CAST',\n  'CCSID',\n  'CEIL',\n  'CEILING',\n  'CHAR',\n  'CHARACTER',\n  'CHARACTER_LENGTH',\n  'CHAR_LENGTH',\n  'CHECK',\n  'CLOB',\n  'CLONE',\n  'CLOSE',\n  'CLUSTER',\n  'COALESCE',\n  'COLLATE',\n  'COLLECT',\n  'COLLECTION',\n  'COLLID',\n  'COLUMN',\n  'COMMENT',\n  'COMMIT',\n  'CONCAT',\n  'CONDITION',\n  'CONNECT',\n  'CONNECTION',\n  'CONSTRAINT',\n  'CONTAINS',\n  'CONTINUE',\n  'CONVERT',\n  'CORR',\n  'CORRESPONDING',\n  'COUNT',\n  'COUNT_BIG',\n  'COVAR_POP',\n  'COVAR_SAMP',\n  'CREATE',\n  'CROSS',\n  'CUBE',\n  'CUME_DIST',\n  'CURRENT',\n  'CURRENT_DATE',\n  'CURRENT_DEFAULT_TRANSFORM_GROUP',\n  'CURRENT_LC_CTYPE',\n  'CURRENT_PATH',\n  'CURRENT_ROLE',\n  'CURRENT_SCHEMA',\n  'CURRENT_SERVER',\n  'CURRENT_TIME',\n  'CURRENT_TIMESTAMP',\n  'CURRENT_TIMEZONE',\n  'CURRENT_TRANSFORM_GROUP_FOR_TYPE',\n  'CURRENT_USER',\n  'CURSOR',\n  'CYCLE',\n  'DATA',\n  'DATABASE',\n  'DATAPARTITIONNAME',\n  'DATAPARTITIONNUM',\n  'DATE',\n  'DAY',\n  'DAYS',\n  'DB2GENERAL',\n  'DB2GENRL',\n  'DB2SQL',\n  'DBINFO',\n  'DBPARTITIONNAME',\n  'DBPARTITIONNUM',\n  'DEALLOCATE',\n  'DEC',\n  'DECIMAL',\n  'DECLARE',\n  'DEFAULT',\n  'DEFAULTS',\n  'DEFINITION',\n  'DELETE',\n  'DENSERANK',\n  'DENSE_RANK',\n  'DEREF',\n  'DESCRIBE',\n  'DESCRIPTOR',\n  'DETERMINISTIC',\n  'DIAGNOSTICS',\n  'DISABLE',\n  'DISALLOW',\n  'DISCONNECT',\n  'DISTINCT',\n  'DO',\n  'DOCUMENT',\n  'DOUBLE',\n  'DROP',\n  'DSSIZE',\n  'DYNAMIC',\n  'EACH',\n  'EDITPROC',\n  'ELEMENT',\n  'ELSE',\n  'ELSEIF',\n  'ENABLE',\n  'ENCODING',\n  'ENCRYPTION',\n  'END',\n  'END-EXEC',\n  'ENDING',\n  'ERASE',\n  'ESCAPE',\n  'EVERY',\n  'EXCEPTION',\n  'EXCLUDING',\n  'EXCLUSIVE',\n  'EXEC',\n  'EXECUTE',\n  'EXISTS',\n  'EXIT',\n  'EXP',\n  'EXPLAIN',\n  'EXTENDED',\n  'EXTERNAL',\n  'EXTRACT',\n  'FALSE',\n  'FENCED',\n  'FETCH',\n  'FIELDPROC',\n  'FILE',\n  'FILTER',\n  'FINAL',\n  'FIRST',\n  'FLOAT',\n  'FLOOR',\n  'FOR',\n  'FOREIGN',\n  'FREE',\n  'FULL',\n  'FUNCTION',\n  'FUSION',\n  'GENERAL',\n  'GENERATED',\n  'GET',\n  'GLOBAL',\n  'GOTO',\n  'GRANT',\n  'GRAPHIC',\n  'GROUP',\n  'GROUPING',\n  'HANDLER',\n  'HASH',\n  'HASHED_VALUE',\n  'HINT',\n  'HOLD',\n  'HOUR',\n  'HOURS',\n  'IDENTITY',\n  'IF',\n  'IMMEDIATE',\n  'IN',\n  'INCLUDING',\n  'INCLUSIVE',\n  'INCREMENT',\n  'INDEX',\n  'INDICATOR',\n  'INDICATORS',\n  'INF',\n  'INFINITY',\n  'INHERIT',\n  'INNER',\n  'INOUT',\n  'INSENSITIVE',\n  'INSERT',\n  'INT',\n  'INTEGER',\n  'INTEGRITY',\n  'INTERSECTION',\n  'INTERVAL',\n  'INTO',\n  'IS',\n  'ISOBID',\n  'ISOLATION',\n  'ITERATE',\n  'JAR',\n  'JAVA',\n  'KEEP',\n  'KEY',\n  'LABEL',\n  'LANGUAGE',\n  'LARGE',\n  'LATERAL',\n  'LC_CTYPE',\n  'LEADING',\n  'LEAVE',\n  'LEFT',\n  'LIKE',\n  'LINKTYPE',\n  'LN',\n  'LOCAL',\n  'LOCALDATE',\n  'LOCALE',\n  'LOCALTIME',\n  'LOCALTIMESTAMP',\n  'LOCATOR',\n  'LOCATORS',\n  'LOCK',\n  'LOCKMAX',\n  'LOCKSIZE',\n  'LONG',\n  'LOOP',\n  'LOWER',\n  'MAINTAINED',\n  'MATCH',\n  'MATERIALIZED',\n  'MAX',\n  'MAXVALUE',\n  'MEMBER',\n  'MERGE',\n  'METHOD',\n  'MICROSECOND',\n  'MICROSECONDS',\n  'MIN',\n  'MINUTE',\n  'MINUTES',\n  'MINVALUE',\n  'MOD',\n  'MODE',\n  'MODIFIES',\n  'MODULE',\n  'MONTH',\n  'MONTHS',\n  'MULTISET',\n  'NAN',\n  'NATIONAL',\n  'NATURAL',\n  'NCHAR',\n  'NCLOB',\n  'NEW',\n  'NEW_TABLE',\n  'NEXTVAL',\n  'NO',\n  'NOCACHE',\n  'NOCYCLE',\n  'NODENAME',\n  'NODENUMBER',\n  'NOMAXVALUE',\n  'NOMINVALUE',\n  'NONE',\n  'NOORDER',\n  'NORMALIZE',\n  'NORMALIZED',\n  'NOT',\n  'NULL',\n  'NULLIF',\n  'NULLS',\n  'NUMERIC',\n  'NUMPARTS',\n  'OBID',\n  'OCTET_LENGTH',\n  'OF',\n  'OFFSET',\n  'OLD',\n  'OLD_TABLE',\n  'ON',\n  'ONLY',\n  'OPEN',\n  'OPTIMIZATION',\n  'OPTIMIZE',\n  'OPTION',\n  'ORDER',\n  'OUT',\n  'OUTER',\n  'OVER',\n  'OVERLAPS',\n  'OVERLAY',\n  'OVERRIDING',\n  'PACKAGE',\n  'PADDED',\n  'PAGESIZE',\n  'PARAMETER',\n  'PART',\n  'PARTITION',\n  'PARTITIONED',\n  'PARTITIONING',\n  'PARTITIONS',\n  'PASSWORD',\n  'PATH',\n  'PERCENTILE_CONT',\n  'PERCENTILE_DISC',\n  'PERCENT_RANK',\n  'PIECESIZE',\n  'PLAN',\n  'POSITION',\n  'POWER',\n  'PRECISION',\n  'PREPARE',\n  'PREVVAL',\n  'PRIMARY',\n  'PRIQTY',\n  'PRIVILEGES',\n  'PROCEDURE',\n  'PROGRAM',\n  'PSID',\n  'PUBLIC',\n  'QUERY',\n  'QUERYNO',\n  'RANGE',\n  'RANK',\n  'READ',\n  'READS',\n  'REAL',\n  'RECOVERY',\n  'RECURSIVE',\n  'REF',\n  'REFERENCES',\n  'REFERENCING',\n  'REFRESH',\n  'REGR_AVGX',\n  'REGR_AVGY',\n  'REGR_COUNT',\n  'REGR_INTERCEPT',\n  'REGR_R2',\n  'REGR_SLOPE',\n  'REGR_SXX',\n  'REGR_SXY',\n  'REGR_SYY',\n  'RELEASE',\n  'RENAME',\n  'REPEAT',\n  'RESET',\n  'RESIGNAL',\n  'RESTART',\n  'RESTRICT',\n  'RESULT',\n  'RESULT_SET_LOCATOR',\n  'RETURN',\n  'RETURNS',\n  'REVOKE',\n  'RIGHT',\n  'ROLE',\n  'ROLLBACK',\n  'ROLLUP',\n  'ROUND_CEILING',\n  'ROUND_DOWN',\n  'ROUND_FLOOR',\n  'ROUND_HALF_DOWN',\n  'ROUND_HALF_EVEN',\n  'ROUND_HALF_UP',\n  'ROUND_UP',\n  'ROUTINE',\n  'ROW',\n  'ROWNUMBER',\n  'ROWS',\n  'ROWSET',\n  'ROW_NUMBER',\n  'RRN',\n  'RUN',\n  'SAVEPOINT',\n  'SCHEMA',\n  'SCOPE',\n  'SCRATCHPAD',\n  'SCROLL',\n  'SEARCH',\n  'SECOND',\n  'SECONDS',\n  'SECQTY',\n  'SECURITY',\n  'SENSITIVE',\n  'SEQUENCE',\n  'SESSION',\n  'SESSION_USER',\n  'SIGNAL',\n  'SIMILAR',\n  'SIMPLE',\n  'SMALLINT',\n  'SNAN',\n  'SOME',\n  'SOURCE',\n  'SPECIFIC',\n  'SPECIFICTYPE',\n  'SQL',\n  'SQLEXCEPTION',\n  'SQLID',\n  'SQLSTATE',\n  'SQLWARNING',\n  'SQRT',\n  'STACKED',\n  'STANDARD',\n  'START',\n  'STARTING',\n  'STATEMENT',\n  'STATIC',\n  'STATMENT',\n  'STAY',\n  'STDDEV_POP',\n  'STDDEV_SAMP',\n  'STOGROUP',\n  'STORES',\n  'STYLE',\n  'SUBMULTISET',\n  'SUBSTRING',\n  'SUM',\n  'SUMMARY',\n  'SYMMETRIC',\n  'SYNONYM',\n  'SYSFUN',\n  'SYSIBM',\n  'SYSPROC',\n  'SYSTEM',\n  'SYSTEM_USER',\n  'TABLE',\n  'TABLESAMPLE',\n  'TABLESPACE',\n  'THEN',\n  'TIME',\n  'TIMESTAMP',\n  'TIMEZONE_HOUR',\n  'TIMEZONE_MINUTE',\n  'TO',\n  'TRAILING',\n  'TRANSACTION',\n  'TRANSLATE',\n  'TRANSLATION',\n  'TREAT',\n  'TRIGGER',\n  'TRIM',\n  'TRUE',\n  'TRUNCATE',\n  'TYPE',\n  'UESCAPE',\n  'UNDO',\n  'UNIQUE',\n  'UNKNOWN',\n  'UNNEST',\n  'UNTIL',\n  'UPPER',\n  'USAGE',\n  'USER',\n  'USING',\n  'VALIDPROC',\n  'VALUE',\n  'VARCHAR',\n  'VARIABLE',\n  'VARIANT',\n  'VARYING',\n  'VAR_POP',\n  'VAR_SAMP',\n  'VCAT',\n  'VERSION',\n  'VIEW',\n  'VOLATILE',\n  'VOLUMES',\n  'WHEN',\n  'WHENEVER',\n  'WHILE',\n  'WIDTH_BUCKET',\n  'WINDOW',\n  'WITH',\n  'WITHIN',\n  'WITHOUT',\n  'WLM',\n  'WRITE',\n  'XMLELEMENT',\n  'XMLEXISTS',\n  'XMLNAMESPACES',\n  'YEAR',\n  'YEARS'\n];\n\nconst reservedTopLevelWords = [\n  'ADD',\n  'AFTER',\n  'ALTER COLUMN',\n  'ALTER TABLE',\n  'DELETE FROM',\n  'EXCEPT',\n  'FETCH FIRST',\n  'FROM',\n  'GROUP BY',\n  'GO',\n  'HAVING',\n  'INSERT INTO',\n  'INTERSECT',\n  'LIMIT',\n  'ORDER BY',\n  'SELECT',\n  'SET CURRENT SCHEMA',\n  'SET SCHEMA',\n  'SET',\n  'UPDATE',\n  'VALUES',\n  'WHERE'\n];\n\nconst reservedTopLevelWordsNoIndent = ['INTERSECT', 'INTERSECT ALL', 'MINUS', 'UNION', 'UNION ALL'];\n\nconst reservedNewlineWords = [\n  'AND',\n  'CROSS JOIN',\n  'INNER JOIN',\n  'JOIN',\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'OR',\n  'OUTER JOIN',\n  'RIGHT JOIN',\n  'RIGHT OUTER JOIN'\n];\n","import { Config, Token, TokenizerConfig } from '../../core/types';\nimport Tokenizer from '../../core/Tokenizer';\nimport Formatter from '../../core/Formatter';\n\nexport default abstract class AbstractFormatter {\n  /**\n   * @param {Object} cfg Different set of configurations\n   */\n  constructor(public cfg: Config) { }\n\n\n  abstract getTokenizerConfig(): TokenizerConfig;\n\n  /**\n   * Formats query\n   *\n   * @param {string} query raw query\n   * @return {string} formatted string\n   */\n  format(query: string): string {\n    return new Formatter(this.cfg, this.tokenizer(), this.tokenOverride).format(query);\n  }\n\n  tokenize(query: string): Token[] {\n    return this.tokenizer().tokenize(query);\n  }\n\n  tokenizer() {\n    return new Tokenizer(this.getTokenizerConfig());\n  }\n\n  protected tokenOverride?: (token: Token, previousToken?: Token) => Token;\n}\n","import escapeRegExp from '../core/escapeRegExp';\nimport { TokenTypes, Token, TokenizerConfig } from './types';\n\nexport default class Tokenizer {\n  public WHITESPACE_REGEX: RegExp;\n  public NUMBER_REGEX: RegExp;\n  public AMBIGUOS_OPERATOR_REGEX: RegExp;\n  public OPERATOR_REGEX: RegExp;\n  public NO_SPACE_OPERATOR_REGEX: RegExp;\n  public BLOCK_COMMENT_REGEX: RegExp;\n  public LINE_COMMENT_REGEX: RegExp;\n  public RESERVED_TOP_LEVEL_REGEX: RegExp;\n  public RESERVED_TOP_LEVEL_NO_INDENT_REGEX: RegExp;\n  public RESERVED_NEWLINE_REGEX: RegExp;\n  public RESERVED_PLAIN_REGEX: RegExp;\n  public WORD_REGEX: RegExp;\n  public STRING_REGEX: RegExp;\n  public OPEN_PAREN_REGEX: RegExp;\n  public CLOSE_PAREN_REGEX: RegExp;\n  public INDEXED_PLACEHOLDER_REGEX: RegExp;\n  public IDENT_NAMED_PLACEHOLDER_REGEX: RegExp;\n  public STRING_NAMED_PLACEHOLDER_REGEX: RegExp;\n\n  /**\n   * @param {TokenizerConfig} cfg\n   *  @param {string[]} cfg.reservedWords Reserved words in SQL\n   *  @param {string[]} cfg.reservedTopLevelWords Words that are set to new line separately\n   *  @param {string[]} cfg.reservedNewlineWords Words that are set to newline\n   *  @param {string[]} cfg.reservedTopLevelWordsNoIndent Words that are top level but have no indentation\n   *  @param {string[]} cfg.stringTypes string types to enable: \"\", '', ``, [], N''\n   *  @param {string[]} cfg.openParens Opening parentheses to enable, like (, [\n   *  @param {string[]} cfg.closeParens Closing parentheses to enable, like ), ]\n   *  @param {string[]} cfg.indexedPlaceholderTypes Prefixes for indexed placeholders, like ?\n   *  @param {string[]} cfg.namedPlaceholderTypes Prefixes for named placeholders, like @ and :\n   *  @param {string[]} cfg.lineCommentTypes Line comments to enable, like # and --\n   *  @param {string[]} cfg.specialWordChars Special chars that can be found inside of words, like @ and #\n   */\n  constructor(cfg: TokenizerConfig) {\n    this.WHITESPACE_REGEX = /^(\\s+)/u;\n    this.NUMBER_REGEX = /^((-\\s*)?[0-9]+(\\.[0-9]+)?|0x[0-9a-fA-F]+|0b[01]+|([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}))\\b/u;\n    this.AMBIGUOS_OPERATOR_REGEX = /^(\\?\\||\\?&)/u;\n    this.OPERATOR_REGEX = /^(!=|<>|>>|<<|==|<=|>=|!<|!>|\\|\\|\\/|\\|\\/|\\|\\||~~\\*|~~|!~~\\*|!~~|~\\*|!~\\*|!~|:=|&&|@>|<@|#-|@|.)/u;\n    this.NO_SPACE_OPERATOR_REGEX = /^(::|->>|->|#>>|#>)/u;\n\n    this.BLOCK_COMMENT_REGEX = /^(\\/\\*[^]*?(?:\\*\\/|$))/u;\n    this.LINE_COMMENT_REGEX = this.createLineCommentRegex(cfg.lineCommentTypes);\n\n    this.RESERVED_TOP_LEVEL_REGEX = this.createReservedWordRegex(cfg.reservedTopLevelWords);\n    this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX = this.createReservedWordRegex(\n      cfg.reservedTopLevelWordsNoIndent\n    );\n    this.RESERVED_NEWLINE_REGEX = this.createReservedWordRegex(cfg.reservedNewlineWords);\n    this.RESERVED_PLAIN_REGEX = this.createReservedWordRegex(cfg.reservedWords);\n\n    this.WORD_REGEX = this.createWordRegex(cfg.specialWordChars);\n    this.STRING_REGEX = this.createStringRegex(cfg.stringTypes);\n\n    this.OPEN_PAREN_REGEX = this.createParenRegex(cfg.openParens);\n    this.CLOSE_PAREN_REGEX = this.createParenRegex(cfg.closeParens);\n\n    this.INDEXED_PLACEHOLDER_REGEX = this.createPlaceholderRegex(cfg.indexedPlaceholderTypes, '[0-9]*');\n    this.IDENT_NAMED_PLACEHOLDER_REGEX = this.createPlaceholderRegex(cfg.namedPlaceholderTypes, '[a-zA-Z0-9._$]+');\n    this.STRING_NAMED_PLACEHOLDER_REGEX = this.createPlaceholderRegex(cfg.namedPlaceholderTypes, this.createStringPattern(cfg.stringTypes));\n  }\n\n  createLineCommentRegex(lineCommentTypes) {\n    return new RegExp(`^((?:${lineCommentTypes.map(c => escapeRegExp(c)).join('|')})[^>]*?(?:\\r\\n|\\r|\\n|$))`, 'u');\n  }\n\n  createReservedWordRegex(reservedWords) {\n    const reservedWordsPattern = reservedWords.join('|').replace(/ /gu, '\\\\s+');\n    return new RegExp(`^(${reservedWordsPattern})\\\\b`, 'iu');\n  }\n\n  createWordRegex(specialChars) {\n    return new RegExp(\n      `^([\\\\p{Alphabetic}\\\\p{Mark}\\\\p{Decimal_Number}\\\\p{Connector_Punctuation}\\\\p{Join_Control}${specialChars.join(\n        ''\n      )}]+)`,\n      'u'\n    );\n  }\n\n  createStringRegex(stringTypes) {\n    return new RegExp('^(' + this.createStringPattern(stringTypes) + ')', 'u');\n  }\n\n  // This enables the following string patterns:\n  // 1. backtick quoted string using `` to escape\n  // 2. square bracket quoted string (SQL Server) using ]] to escape\n  // 3. double quoted string using \"\" or \\\" to escape\n  // 4. single quoted string using '' or \\' to escape\n  // 5. national character quoted string using N'' or N\\' to escape\n  createStringPattern(stringTypes) {\n    const patterns = {\n      '``': '((`[^`]*($|`))+)',\n      '[]': '((\\\\[[^\\\\]]*($|\\\\]))(\\\\][^\\\\]]*($|\\\\]))*)',\n      '\"\"': '((\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(\"|$))+)',\n      \"''\": \"(('[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*('|$))+)\",\n      \"N''\": \"((N'[^N'\\\\\\\\]*(?:\\\\\\\\.[^N'\\\\\\\\]*)*('|$))+)\",\n    };\n\n    return stringTypes.map(t => patterns[t]).join('|');\n  }\n\n  createParenRegex(parens) {\n    return new RegExp('^(' + parens.map(p => this.escapeParen(p)).join('|') + ')', 'iu');\n  }\n\n  escapeParen(paren) {\n    if (paren.length === 1) {\n      // A single punctuation character\n      return escapeRegExp(paren);\n    } else {\n      // longer word\n      return '\\\\b' + paren + '\\\\b';\n    }\n  }\n\n  createPlaceholderRegex(types: string[], pattern) {\n    if (!types || types.length === 0) {\n      return null;\n    }\n    const typesRegex = types.map(escapeRegExp).join('|');\n\n    return new RegExp(`^((?:${typesRegex})(?:${pattern}))`, 'u');\n  }\n\n  /**\n   * Takes a SQL string and breaks it into tokens.\n   * Each token is an object with type and value.\n   *\n   * @param {string} input The SQL string\n   * @return {Object[]} tokens An array of tokens.\n   *  @return {string} token.type\n   *  @return {string} token.value\n   */\n  tokenize(input: string): Token[] {\n    if (!input) return [];\n\n    const tokens = [];\n    let token: Token;\n\n    // Keep processing the string until it is empty\n    while (input.length) {\n      // Get the next token and the token type\n      token = this.getNextToken(input, token);\n      // Advance the string\n      input = input.substring(token.value.length);\n\n      tokens.push(token);\n    }\n    // console.log(tokens)\n    return tokens;\n  }\n\n  getNextToken(input: string, previousToken?: Token): Token {\n    return (\n      this.getWhitespaceToken(input) ||\n      this.getCommentToken(input) ||\n      this.getStringToken(input) ||\n      this.getOpenParenToken(input) ||\n      this.getCloseParenToken(input) ||\n      this.getAmbiguosOperatorToken(input) ||\n      this.getNoSpaceOperatorToken(input) ||\n      this.getServerVariableToken(input) ||\n      this.getPlaceholderToken(input) ||\n      this.getNumberToken(input) ||\n      this.getReservedWordToken(input, previousToken) ||\n      this.getWordToken(input) ||\n      this.getOperatorToken(input)\n    );\n  }\n\n  getWhitespaceToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.WHITESPACE,\n      regex: this.WHITESPACE_REGEX,\n    });\n  }\n\n  getCommentToken(input: string): Token {\n    return this.getLineCommentToken(input) || this.getBlockCommentToken(input);\n  }\n\n  getLineCommentToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.LINE_COMMENT,\n      regex: this.LINE_COMMENT_REGEX,\n    });\n  }\n\n  getBlockCommentToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.BLOCK_COMMENT,\n      regex: this.BLOCK_COMMENT_REGEX,\n    });\n  }\n\n  getStringToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.STRING,\n      regex: this.STRING_REGEX,\n    });\n  }\n\n  getOpenParenToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.OPEN_PAREN,\n      regex: this.OPEN_PAREN_REGEX,\n    });\n  }\n\n  getCloseParenToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.CLOSE_PAREN,\n      regex: this.CLOSE_PAREN_REGEX,\n    });\n  }\n\n  getPlaceholderToken(input: string): Token {\n    return (\n      this.getIdentNamedPlaceholderToken(input) ||\n      this.getStringNamedPlaceholderToken(input) ||\n      this.getIndexedPlaceholderToken(input)\n    );\n  }\n\n  getServerVariableToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.SERVERVARIABLE,\n      regex: /(^@@\\w+)/iu,\n    });\n  }\n\n  getIdentNamedPlaceholderToken(input: string): Token {\n    return this.getPlaceholderTokenWithKey({\n      input,\n      regex: this.IDENT_NAMED_PLACEHOLDER_REGEX,\n      parseKey: v => v.slice(1),\n    });\n  }\n\n  getStringNamedPlaceholderToken(input: string): Token {\n    return this.getPlaceholderTokenWithKey({\n      input,\n      regex: this.STRING_NAMED_PLACEHOLDER_REGEX,\n      parseKey: v => this.getEscapedPlaceholderKey({ key: v.slice(2, -1), quoteChar: v.slice(-1) }),\n    });\n  }\n\n  getIndexedPlaceholderToken(input: string): Token {\n    return this.getPlaceholderTokenWithKey({\n      input,\n      regex: this.INDEXED_PLACEHOLDER_REGEX,\n      parseKey: v => v.slice(1),\n    });\n  }\n\n  getPlaceholderTokenWithKey({ input, regex, parseKey }) {\n    const token = this.getTokenOnFirstMatch({ input, regex, type: TokenTypes.PLACEHOLDER });\n    if (token) {\n      token.key = parseKey(token.value);\n    }\n    return token;\n  }\n\n  getEscapedPlaceholderKey({ key, quoteChar }) {\n    return key.replace(new RegExp(escapeRegExp('\\\\' + quoteChar), 'gu'), quoteChar);\n  }\n\n  // Decimal, binary, or hex numbers\n  getNumberToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.NUMBER,\n      regex: this.NUMBER_REGEX,\n    });\n  }\n\n  // Punctuation and symbols\n  getOperatorToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.OPERATOR,\n      regex: this.OPERATOR_REGEX,\n    });\n  }\n\n  getAmbiguosOperatorToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.OPERATOR,\n      regex: this.AMBIGUOS_OPERATOR_REGEX,\n    });\n  }\n\n  getNoSpaceOperatorToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.NO_SPACE_OPERATOR,\n      regex: this.NO_SPACE_OPERATOR_REGEX,\n    });\n  }\n\n  getReservedWordToken(input, previousToken) {\n    // A reserved word cannot be preceded by a \".\"\n    // this makes it so in \"my_table.from\", \"from\" is not considered a reserved word\n    if (previousToken && previousToken.value && previousToken.value === '.') {\n      return;\n    }\n    return (\n      this.getToplevelReservedToken(input) ||\n      this.getNewlineReservedToken(input) ||\n      this.getTopLevelReservedTokenNoIndent(input) ||\n      this.getPlainReservedToken(input)\n    );\n  }\n\n  getToplevelReservedToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.RESERVED_TOP_LEVEL,\n      regex: this.RESERVED_TOP_LEVEL_REGEX,\n    });\n  }\n\n  getNewlineReservedToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.RESERVED_NEWLINE,\n      regex: this.RESERVED_NEWLINE_REGEX,\n    });\n  }\n\n  getPlainReservedToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.RESERVED,\n      regex: this.RESERVED_PLAIN_REGEX,\n    });\n  }\n\n  getTopLevelReservedTokenNoIndent(input: string) {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT,\n      regex: this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX\n    });\n  }\n\n  getWordToken(input: string): Token {\n    return this.getTokenOnFirstMatch({\n      input,\n      type: TokenTypes.WORD,\n      regex: this.WORD_REGEX,\n    });\n  }\n\n  getTokenOnFirstMatch({ input, type, regex }: { input: string; type: TokenTypes; regex: RegExp }): Token {\n    const matches = input.match(regex);\n\n    if (matches) {\n      return { type, value: matches[1] };\n    }\n  }\n}\n","const reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g\nconst reHasRegExpChar = RegExp(reRegExpChar.source)\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @since 3.0.0\n * @category String\n * @param {string} [str=''] The string to escape.\n * @returns {string} Returns the escaped string.\n */\nfunction escapeRegExp(str?: string) {\n  return (str && reHasRegExpChar.test(str))\n    ? str.replace(reRegExpChar, '\\\\$&')\n    : (str || '')\n}\n\nexport default escapeRegExp\n","/**\n * Constants for token types\n */\nexport enum TokenTypes {\n  WHITESPACE = 'whitespace',\n  WORD = 'word',\n  STRING = 'string',\n  RESERVED = 'reserved',\n  RESERVED_TOP_LEVEL = 'reserved-top-level',\n  RESERVED_TOP_LEVEL_NO_INDENT = 'reserved-top-level-no-indent',\n  RESERVED_NEWLINE = 'reserved-newline',\n  OPERATOR = 'operator',\n  NO_SPACE_OPERATOR = 'no-space-operator',\n  OPEN_PAREN = 'open-paren',\n  CLOSE_PAREN = 'close-paren',\n  LINE_COMMENT = 'line-comment',\n  BLOCK_COMMENT = 'block-comment',\n  NUMBER = 'number',\n  PLACEHOLDER = 'placeholder',\n  SERVERVARIABLE = 'servervariable',\n}\nexport interface Config {\n  indent?: string;\n  params?: Object;\n  reservedWordCase?: 'upper' | 'lower';\n  language?: 'sql' | 'db2' | 'n1ql' | 'pl/sql';\n  linesBetweenQueries?: number | 'preserve';\n}\nexport interface TokenizerConfig {\n  reservedWords: string[];\n  reservedTopLevelWords: string[];\n  reservedNewlineWords: string[];\n  reservedTopLevelWordsNoIndent: string[];\n  stringTypes: string[];\n  openParens: string[];\n  closeParens: string[];\n  indexedPlaceholderTypes?: string[];\n  namedPlaceholderTypes: string[];\n  lineCommentTypes: string[];\n  specialWordChars: string[];\n}\n\nexport interface Token {\n  type: TokenTypes;\n  value: string;\n  key?: string;\n}\n","import { TokenTypes, Config, Token } from './types';\nimport Indentation from './Indentation';\nimport InlineBlock from './InlineBlock';\nimport Params from './Params';\nimport Tokenizer from './Tokenizer';\n\nconst trimSpacesEnd = str => str.replace(/[ \\t]+$/u, '');\n\nexport default class Formatter {\n  private tokens: Token[] = [];\n  private previousReservedWord: Token = { type: null, value: null };\n  private previousNonWhiteSpace: Token = { type: null, value: null };\n  private indentation: Indentation;\n  private inlineBlock: InlineBlock;\n  private params: Params;\n  private index = 0;\n  /**\n   * @param {Config} cfg\n   *   @param {string} cfg.indent\n   *   @param {Object} cfg.params\n   * @param {Tokenizer} tokenizer\n   */\n  constructor(public cfg: Config, public tokenizer: Tokenizer, private tokenOverride?: (token: Token, previousToken?: Token) => Token) {\n    this.indentation = new Indentation(this.cfg.indent);\n    this.inlineBlock = new InlineBlock();\n    this.params = new Params(this.cfg.params);\n  }\n\n  /**\n   * Formats whitespaces in a SQL string to make it easier to read.\n   *\n   * @param {string} query The SQL query string\n   * @return {string} formatted query\n   */\n  format(query: string) {\n    this.tokens = this.tokenizer.tokenize(query);\n    const formattedQuery = this.getFormattedQueryFromTokens();\n\n    return formattedQuery.trim();\n  }\n\n  getFormattedQueryFromTokens() {\n    let formattedQuery = '';\n\n    this.tokens.forEach((token, index) => {\n      this.index = index;\n\n      if (this.tokenOverride) token = this.tokenOverride(token, this.previousReservedWord) || token;\n\n      if (token.type === TokenTypes.WHITESPACE) {\n        formattedQuery = this.formatWhitespace(token, formattedQuery);\n      } else if (token.type === TokenTypes.LINE_COMMENT) {\n        formattedQuery = this.formatLineComment(token, formattedQuery);\n      } else if (token.type === TokenTypes.BLOCK_COMMENT) {\n        formattedQuery = this.formatBlockComment(token, formattedQuery);\n      } else if (\n        token.type === TokenTypes.RESERVED_TOP_LEVEL\n        || token.type === TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT\n        || token.type === TokenTypes.RESERVED_NEWLINE\n        || token.type === TokenTypes.RESERVED\n      ) {\n        formattedQuery = this.formatReserved(token, formattedQuery);\n      } else if (token.type === TokenTypes.OPEN_PAREN) {\n        formattedQuery = this.formatOpeningParentheses(token, formattedQuery);\n      } else if (token.type === TokenTypes.CLOSE_PAREN) {\n        formattedQuery = this.formatClosingParentheses(token, formattedQuery);\n      } else if (token.type === TokenTypes.NO_SPACE_OPERATOR) {\n        formattedQuery = this.formatWithoutSpaces(token, formattedQuery);\n      } else if (token.type === TokenTypes.PLACEHOLDER || token.type === TokenTypes.SERVERVARIABLE) {\n        formattedQuery = this.formatPlaceholder(token, formattedQuery);\n      } else if (token.value === ',') {\n        formattedQuery = this.formatComma(token, formattedQuery);\n      } else if (token.value === ':') {\n        formattedQuery = this.formatWithSpaceAfter(token, formattedQuery);\n      } else if (token.value === '.') {\n        formattedQuery = this.formatWithoutSpaces(token, formattedQuery);\n      } else if (token.value === ';') {\n        formattedQuery = this.formatQuerySeparator(token, formattedQuery);\n      } else {\n        formattedQuery = this.formatWithSpaces(token, formattedQuery);\n      }\n\n      if (token.type !== TokenTypes.WHITESPACE) {\n        this.previousNonWhiteSpace = token;\n      }\n    });\n    return formattedQuery;\n  }\n\n  formatWhitespace(token: Token, query: string) {\n    if (\n      this.cfg.linesBetweenQueries === 'preserve'\n      && /((\\r\\n|\\n)(\\r\\n|\\n)+)/u.test(token.value)\n      && this.previousToken().value === ';'\n    ) {\n      return query.replace(/(\\n|\\r\\n)$/m, '') + token.value;\n    }\n    return query\n  }\n\n  formatReserved(token: Token, query: string) {\n    // reserved words combination check\n    if (\n      token.type === TokenTypes.RESERVED_NEWLINE\n      && this.previousReservedWord\n      && this.previousReservedWord.value\n      && token.value.toUpperCase() === 'AND' &&\n      this.previousReservedWord.value.toUpperCase() === 'BETWEEN'\n    ) {\n      token.type = TokenTypes.RESERVED;\n    }\n\n    if (token.type === TokenTypes.RESERVED_TOP_LEVEL) {\n      query = this.formatTopLevelReservedWord(token, query);\n    } else if (token.type === TokenTypes.RESERVED_TOP_LEVEL_NO_INDENT) {\n      query = this.formatTopLevelReservedWordNoIndent(token, query);\n    } else if (token.type === TokenTypes.RESERVED_NEWLINE) {\n      query = this.formatNewlineReservedWord(token, query);\n    } else {\n      // TokenTypes.RESERVED\n      query = this.formatWithSpaces(token, query);\n    }\n\n    this.previousReservedWord = token;\n    return query;\n  }\n\n  formatLineComment(token: Token, query: string) {\n    return this.addNewline(query + token.value);\n  }\n\n  formatBlockComment(token: Token, query: string) {\n    return this.addNewline(this.addNewline(query) + this.indentComment(token.value));\n  }\n\n  indentComment(comment: string) {\n    return comment.replace(/\\n[ \\t]*/gu, '\\n' + this.indentation.getIndent() + ' ');\n  }\n\n  formatTopLevelReservedWordNoIndent(token: Token, query: string) {\n    this.indentation.decreaseTopLevel();\n    query = this.addNewline(query) + this.equalizeWhitespace(this.formatReservedWord(token.value));\n    return this.addNewline(query);\n  }\n\n  formatTopLevelReservedWord(token: Token, query: string) {\n    const shouldChangeTopLevel = (this.previousNonWhiteSpace.value !== ',' && !['GRANT'].includes(`${this.previousNonWhiteSpace.value}`.toUpperCase()));\n    if (shouldChangeTopLevel) {\n      this.indentation.decreaseTopLevel();\n      query = this.addNewline(query);\n    }\n    query = query + this.equalizeWhitespace(this.formatReservedWord(token.value)) + ' ';\n    if (shouldChangeTopLevel)\n      this.indentation.increaseTopLevel();\n    return query;\n  }\n\n  formatNewlineReservedWord(token: Token, query: string) {\n    return (\n      this.addNewline(query) + this.equalizeWhitespace(this.formatReservedWord(token.value)) + ' '\n    );\n  }\n\n  // Replace any sequence of whitespace characters with single space\n  equalizeWhitespace(value: string) {\n    return value.replace(/\\s+/gu, ' ');\n  }\n\n  // Opening parentheses increase the block indent level and start a new line\n  formatOpeningParentheses(token: Token, query: string) {\n    token.value = this.formatCase(token.value);\n\n    // Take out the preceding space unless there was whitespace there in the original query\n    // or another opening parens or line comment\n    const previousTokenType = this.previousToken().type;\n    if (\n      previousTokenType !== TokenTypes.WHITESPACE\n      && previousTokenType !== TokenTypes.OPEN_PAREN\n      && previousTokenType !== TokenTypes.LINE_COMMENT\n    ) {\n      query = trimSpacesEnd(query);\n    }\n    query += token.value;\n\n    this.inlineBlock.beginIfPossible(this.tokens, this.index);\n\n    if (!this.inlineBlock.isActive()) {\n      this.indentation.increaseBlockLevel();\n      query = this.addNewline(query);\n    }\n    return query;\n  }\n\n  // Closing parentheses decrease the block indent level\n  formatClosingParentheses(token: Token, query: string) {\n    token.value = this.formatCase(token.value);\n    if (this.inlineBlock.isActive()) {\n      this.inlineBlock.end();\n      return this.formatWithSpaceAfter(token, query);\n    } else {\n      this.indentation.decreaseBlockLevel();\n      return this.formatWithSpaces(token, this.addNewline(query));\n    }\n  }\n\n  formatPlaceholder(token: Token, query: string) {\n    return query + this.params.get(token) + ' ';\n  }\n\n  // Commas start a new line (unless within inline parentheses or SQL \"LIMIT\" clause)\n  formatComma(token: Token, query: string) {\n    query = trimSpacesEnd(query) + token.value + ' ';\n\n    if (this.inlineBlock.isActive()) {\n      return query;\n    } else if (/^LIMIT$/iu.test(this.previousReservedWord.value)) {\n      return query;\n    } else {\n      return this.addNewline(query);\n    }\n  }\n\n  formatWithSpaceAfter(token: Token, query: string) {\n    return trimSpacesEnd(query) + token.value + ' ';\n  }\n\n  formatWithoutSpaces(token: Token, query: string) {\n    return trimSpacesEnd(query) + token.value;\n  }\n\n  formatWithSpaces(token: Token, query: string) {\n    const value = token.type === TokenTypes.RESERVED ? this.formatReservedWord(token.value) : token.value;\n    return query + value + ' ';\n  }\n\n  formatReservedWord(value: string) {\n    return this.formatCase(value);\n  }\n\n  formatQuerySeparator(token: Token, query: string) {\n    this.indentation.resetIndentation();\n    let lines = '\\n';\n    if (this.cfg.linesBetweenQueries !== 'preserve') {\n      lines = '\\n'.repeat(this.cfg.linesBetweenQueries || 1);\n    }\n    return trimSpacesEnd(query) + token.value + lines;\n  }\n\n  addNewline(query: string) {\n    query = trimSpacesEnd(query);\n    if (!query.endsWith('\\n')) query += '\\n';\n    return query + this.indentation.getIndent();\n  }\n\n  previousToken(): Token {\n    return this.tokens[this.index - 1] || { type: null, value: null };\n  }\n\n  formatCase(value: string) {\n    if (this.cfg.reservedWordCase === 'upper') return value.toUpperCase();\n    if (this.cfg.reservedWordCase === 'lower') return value.toLowerCase();\n    return value;\n  }\n}\n","import last from './last';\n\nconst INDENT_TYPE_TOP_LEVEL = 'top-level';\nconst INDENT_TYPE_BLOCK_LEVEL = 'block-level';\n\n/**\n * Manages indentation levels.\n *\n * There are two types of indentation levels:\n *\n * - BLOCK_LEVEL : increased by open-parenthesis\n * - TOP_LEVEL : increased by RESERVED_TOP_LEVEL words\n */\nexport default class Indentation {\n  public indentTypes = [];\n  /**\n   * @param {string} indent Indent value, default is \"  \" (2 spaces)\n   */\n  constructor(public indent?: string) {\n    this.indent = indent || '  ';\n  }\n\n  /**\n   * Returns current indentation string.\n   * @return {string}\n   */\n  getIndent() {\n    return new Array(this.indentTypes.length).fill(this.indent).join('');\n  }\n\n  /**\n   * Increases indentation by one top-level indent.\n   */\n  increaseTopLevel() {\n    this.indentTypes.push(INDENT_TYPE_TOP_LEVEL);\n  }\n\n  /**\n   * Increases indentation by one block-level indent.\n   */\n  increaseBlockLevel() {\n    this.indentTypes.push(INDENT_TYPE_BLOCK_LEVEL);\n  }\n\n  /**\n   * Decreases indentation by one top-level indent.\n   * Does nothing when the previous indent is not top-level.\n   */\n  decreaseTopLevel() {\n    if (last(this.indentTypes) === INDENT_TYPE_TOP_LEVEL) {\n      this.indentTypes.pop();\n    }\n  }\n\n  /**\n   * Decreases indentation by one block-level indent.\n   * If there are top-level indents within the block-level indent,\n   * throws away these as well.\n   */\n  decreaseBlockLevel() {\n    while (this.indentTypes.length > 0) {\n      const type = this.indentTypes.pop();\n      if (type !== INDENT_TYPE_TOP_LEVEL) {\n        break;\n      }\n    }\n  }\n\n  resetIndentation() {\n    this.indentTypes = [];\n  }\n}\n","const last = (arr: any[] = []) => arr[arr.length - 1];\n\nexport default last;\n","import { TokenTypes } from './types';\n\nconst INLINE_MAX_LENGTH = 50;\n\n/**\n * Bookkeeper for inline blocks.\n *\n * Inline blocks are parenthesized expressions that are shorter than INLINE_MAX_LENGTH.\n * These blocks are formatted on a single line, unlike longer parenthesized\n * expressions where open-parenthesis causes newline and increase of indentation.\n */\nexport default class InlineBlock {\n  private level = 0;\n\n  /**\n   * Begins inline block when lookahead through upcoming tokens determines\n   * that the block would be smaller than INLINE_MAX_LENGTH.\n   * @param  {Object[]} tokens Array of all tokens\n   * @param  {Number} index Current token position\n   */\n  beginIfPossible(tokens, index) {\n    if (this.level === 0 && this.isInlineBlock(tokens, index)) {\n      this.level = 1;\n    } else if (this.level > 0) {\n      this.level++;\n    } else {\n      this.level = 0;\n    }\n  }\n\n  /**\n   * Finishes current inline block.\n   * There might be several nested ones.\n   */\n  end() {\n    this.level--;\n  }\n\n  /**\n   * True when inside an inline block\n   * @return {Boolean}\n   */\n  isActive() {\n    return this.level > 0;\n  }\n\n  // Check if this should be an inline parentheses block\n  // Examples are \"NOW()\", \"COUNT(*)\", \"int(10)\", key(`some_column`), DECIMAL(7,2)\n  isInlineBlock(tokens, index) {\n    let length = 0;\n    let level = 0;\n\n    for (let i = index; i < tokens.length; i++) {\n      const token = tokens[i];\n      length += token.value.length;\n\n      // Overran max length\n      if (length > INLINE_MAX_LENGTH) {\n        return false;\n      }\n\n      if (token.type === TokenTypes.OPEN_PAREN) {\n        level++;\n      } else if (token.type === TokenTypes.CLOSE_PAREN) {\n        level--;\n        if (level === 0) {\n          return true;\n        }\n      }\n\n      if (this.isForbiddenToken(token)) {\n        return false;\n      }\n    }\n    return false;\n  }\n\n  // Reserved words that cause newlines, comments and semicolons\n  // are not allowed inside inline parentheses block\n  isForbiddenToken({ type, value }) {\n    return (\n      type === TokenTypes.RESERVED_TOP_LEVEL ||\n      type === TokenTypes.RESERVED_NEWLINE ||\n      type === TokenTypes.LINE_COMMENT ||\n      type === TokenTypes.BLOCK_COMMENT ||\n      value === ';'\n    );\n  }\n}\n","import { Token } from './types';\n\n/**\n * Handles placeholder replacement with given params.\n */\nexport default class Params {\n  private index = 0;\n  /**\n   * @param {Object} params\n   */\n  constructor(public params: Object) {\n    this.params = params;\n  }\n\n  /**\n   * Returns param value that matches given placeholder with param key.\n   * @param {Token} token\n   *   @param {string} token.key Placeholder key\n   *   @param {string} token.value Placeholder value\n   * @return {string} param or token.value when params are missing\n   */\n  get({ key, value }: Token) {\n    if (!this.params) {\n      return value;\n    }\n    if (key) {\n      return this.params[key];\n    }\n    return this.params[this.index++];\n  }\n}\n","import AbstractFormatter from './utils/abstract';\nimport { TokenizerConfig } from '../core/types';\n\nexport default class N1qlFormatter extends AbstractFormatter {\n  getTokenizerConfig() {\n    return <TokenizerConfig>{\n      reservedWords,\n      reservedTopLevelWords,\n      reservedNewlineWords,\n      reservedTopLevelWordsNoIndent,\n      stringTypes: [`\"\"`, \"''\", '``'],\n      openParens: ['(', '[', '{'],\n      closeParens: [')', ']', '}'],\n      namedPlaceholderTypes: ['$'],\n      lineCommentTypes: ['#', '--'],\n      specialWordChars: [],\n    };\n  }\n}\n\nconst reservedWords = [\n  'ALL',\n  'ALTER',\n  'ANALYZE',\n  'AND',\n  'ANY',\n  'ARRAY',\n  'AS',\n  'ASC',\n  'BEGIN',\n  'BETWEEN',\n  'BINARY',\n  'BOOLEAN',\n  'BREAK',\n  'BUCKET',\n  'BUILD',\n  'BY',\n  'CALL',\n  'CASE',\n  'CAST',\n  'CLUSTER',\n  'COLLATE',\n  'COLLECTION',\n  'COMMIT',\n  'CONNECT',\n  'CONTINUE',\n  'CORRELATE',\n  'COVER',\n  'CREATE',\n  'DATABASE',\n  'DATASET',\n  'DATASTORE',\n  'DECLARE',\n  'DECREMENT',\n  'DELETE',\n  'DERIVED',\n  'DESC',\n  'DESCRIBE',\n  'DISTINCT',\n  'DO',\n  'DROP',\n  'EACH',\n  'ELEMENT',\n  'ELSE',\n  'END',\n  'EVERY',\n  'EXCEPT',\n  'EXCLUDE',\n  'EXECUTE',\n  'EXISTS',\n  'EXPLAIN',\n  'FALSE',\n  'FETCH',\n  'FIRST',\n  'FLATTEN',\n  'FOR',\n  'FORCE',\n  'FROM',\n  'FUNCTION',\n  'GRANT',\n  'GROUP',\n  'GSI',\n  'HAVING',\n  'IF',\n  'IGNORE',\n  'ILIKE',\n  'IN',\n  'INCLUDE',\n  'INCREMENT',\n  'INDEX',\n  'INFER',\n  'INLINE',\n  'INNER',\n  'INSERT',\n  'INTERSECT',\n  'INTO',\n  'IS',\n  'JOIN',\n  'KEY',\n  'KEYS',\n  'KEYSPACE',\n  'KNOWN',\n  'LAST',\n  'LEFT',\n  'LET',\n  'LETTING',\n  'LIKE',\n  'LIMIT',\n  'LSM',\n  'MAP',\n  'MAPPING',\n  'MATCHED',\n  'MATERIALIZED',\n  'MERGE',\n  'MISSING',\n  'NAMESPACE',\n  'NEST',\n  'NOT',\n  'NULL',\n  'NUMBER',\n  'OBJECT',\n  'OFFSET',\n  'ON',\n  'OPTION',\n  'OR',\n  'ORDER',\n  'OUTER',\n  'OVER',\n  'PARSE',\n  'PARTITION',\n  'PASSWORD',\n  'PATH',\n  'POOL',\n  'PREPARE',\n  'PRIMARY',\n  'PRIVATE',\n  'PRIVILEGE',\n  'PROCEDURE',\n  'PUBLIC',\n  'RAW',\n  'REALM',\n  'REDUCE',\n  'RENAME',\n  'RETURN',\n  'RETURNING',\n  'REVOKE',\n  'RIGHT',\n  'ROLE',\n  'ROLLBACK',\n  'SATISFIES',\n  'SCHEMA',\n  'SELECT',\n  'SELF',\n  'SEMI',\n  'SET',\n  'SHOW',\n  'SOME',\n  'START',\n  'STATISTICS',\n  'STRING',\n  'SYSTEM',\n  'THEN',\n  'TO',\n  'TRANSACTION',\n  'TRIGGER',\n  'TRUE',\n  'TRUNCATE',\n  'UNDER',\n  'UNION',\n  'UNIQUE',\n  'UNKNOWN',\n  'UNNEST',\n  'UNSET',\n  'UPDATE',\n  'UPSERT',\n  'USE',\n  'USER',\n  'USING',\n  'VALIDATE',\n  'VALUE',\n  'VALUED',\n  'VALUES',\n  'VIA',\n  'VIEW',\n  'WHEN',\n  'WHERE',\n  'WHILE',\n  'WITH',\n  'WITHIN',\n  'WORK',\n  'XOR'\n];\n\nconst reservedTopLevelWords = [\n  'DELETE FROM',\n  'EXCEPT ALL',\n  'EXCEPT',\n  'EXPLAIN DELETE FROM',\n  'EXPLAIN UPDATE',\n  'EXPLAIN UPSERT',\n  'FROM',\n  'GROUP BY',\n  'HAVING',\n  'INFER',\n  'INSERT INTO',\n  'LET',\n  'LIMIT',\n  'MERGE',\n  'NEST',\n  'ORDER BY',\n  'PREPARE',\n  'SELECT',\n  'SET CURRENT SCHEMA',\n  'SET SCHEMA',\n  'SET',\n  'UNNEST',\n  'UPDATE',\n  'UPSERT',\n  'USE KEYS',\n  'VALUES',\n  'WHERE'\n];\n\nconst reservedTopLevelWordsNoIndent = ['INTERSECT', 'INTERSECT ALL', 'MINUS', 'UNION', 'UNION ALL'];\n\nconst reservedNewlineWords = [\n  'AND',\n  'INNER JOIN',\n  'JOIN',\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'OR',\n  'OUTER JOIN',\n  'RIGHT JOIN',\n  'RIGHT OUTER JOIN',\n  'XOR'\n];\n","import AbstractFormatter from './utils/abstract';\nimport { TokenTypes, Token, TokenizerConfig } from '../core/types';\n\nexport default class PlSqlFormatter extends AbstractFormatter {\n  getTokenizerConfig() {\n    return <TokenizerConfig>{\n      reservedWords,\n      reservedTopLevelWords,\n      reservedNewlineWords,\n      reservedTopLevelWordsNoIndent,\n      stringTypes: [`\"\"`, \"N''\", \"''\", '``'],\n      openParens: ['(', 'CASE'],\n      closeParens: [')', 'END'],\n      indexedPlaceholderTypes: ['?'],\n      namedPlaceholderTypes: [':'],\n      lineCommentTypes: ['--'],\n      specialWordChars: ['_', '$', '#', '.', '@']\n    };\n  }\n\n  tokenOverride = (token: Token, previousReservedToken: Token) => {\n    if (\n      token.type === TokenTypes.RESERVED_TOP_LEVEL &&\n      previousReservedToken.value &&\n      token.value.toUpperCase() === 'SET' &&\n      previousReservedToken.value.toUpperCase() === 'BY'\n    ) {\n      token.type = TokenTypes.RESERVED;\n      return token;\n    }\n  };\n}\n\nconst reservedWords = [\n  'A',\n  'ACCESSIBLE',\n  'AGENT',\n  'AGGREGATE',\n  'ALL',\n  'ALTER',\n  'ANY',\n  'ARRAY',\n  'AS',\n  'ASC',\n  'AT',\n  'ATTRIBUTE',\n  'AUTHID',\n  'AVG',\n  'BETWEEN',\n  'BFILE_BASE',\n  'BINARY_INTEGER',\n  'BINARY',\n  'BLOB_BASE',\n  'BLOCK',\n  'BODY',\n  'BOOLEAN',\n  'BOTH',\n  'BOUND',\n  'BREADTH',\n  'BULK',\n  'BY',\n  'BYTE',\n  'C',\n  'CALL',\n  'CALLING',\n  'CASCADE',\n  'CASE',\n  'CHAR_BASE',\n  'CHAR',\n  'CHARACTER',\n  'CHARSET',\n  'CHARSETFORM',\n  'CHARSETID',\n  'CHECK',\n  'CLOB_BASE',\n  'CLONE',\n  'CLOSE',\n  'CLUSTER',\n  'CLUSTERS',\n  'COALESCE',\n  'COLAUTH',\n  'COLLECT',\n  'COLUMNS',\n  'COMMENT',\n  'COMMIT',\n  'COMMITTED',\n  'COMPILED',\n  'COMPRESS',\n  'CONNECT',\n  'CONSTANT',\n  'CONSTRUCTOR',\n  'CONTEXT',\n  'CONTINUE',\n  'CONVERT',\n  'COUNT',\n  'CRASH',\n  'CREATE',\n  'CREDENTIAL',\n  'CURRENT',\n  'CURRVAL',\n  'CURSOR',\n  'CUSTOMDATUM',\n  'DANGLING',\n  'DATA',\n  'DATE_BASE',\n  'DATE',\n  'DAY',\n  'DECIMAL',\n  'DEFAULT',\n  'DEFINE',\n  'DELETE',\n  'DEPTH',\n  'DESC',\n  'DETERMINISTIC',\n  'DIRECTORY',\n  'DISTINCT',\n  'DO',\n  'DOUBLE',\n  'DROP',\n  'DURATION',\n  'ELEMENT',\n  'ELSIF',\n  'EMPTY',\n  'END',\n  'ESCAPE',\n  'EXCEPTIONS',\n  'EXCLUSIVE',\n  'EXECUTE',\n  'EXISTS',\n  'EXIT',\n  'EXTENDS',\n  'EXTERNAL',\n  'EXTRACT',\n  'FALSE',\n  'FETCH',\n  'FINAL',\n  'FIRST',\n  'FIXED',\n  'FLOAT',\n  'FOR',\n  'FORALL',\n  'FORCE',\n  'FROM',\n  'FUNCTION',\n  'GENERAL',\n  'GOTO',\n  'GRANT',\n  'GROUP',\n  'HASH',\n  'HEAP',\n  'HIDDEN',\n  'HOUR',\n  'IDENTIFIED',\n  'IF',\n  'IMMEDIATE',\n  'IN',\n  'INCLUDING',\n  'INDEX',\n  'INDEXES',\n  'INDICATOR',\n  'INDICES',\n  'INFINITE',\n  'INSTANTIABLE',\n  'INT',\n  'INTEGER',\n  'INTERFACE',\n  'INTERVAL',\n  'INTO',\n  'INVALIDATE',\n  'IS',\n  'ISOLATION',\n  'JAVA',\n  'LANGUAGE',\n  'LARGE',\n  'LEADING',\n  'LENGTH',\n  'LEVEL',\n  'LIBRARY',\n  'LIKE',\n  'LIKE2',\n  'LIKE4',\n  'LIKEC',\n  'LIMITED',\n  'LOCAL',\n  'LOCK',\n  'LONG',\n  'MAP',\n  'MAX',\n  'MAXLEN',\n  'MEMBER',\n  'MERGE',\n  'MIN',\n  'MINUTE',\n  'MLSLABEL',\n  'MOD',\n  'MODE',\n  'MONTH',\n  'MULTISET',\n  'NAME',\n  'NAN',\n  'NATIONAL',\n  'NATIVE',\n  'NATURAL',\n  'NATURALN',\n  'NCHAR',\n  'NEW',\n  'NEXTVAL',\n  'NOCOMPRESS',\n  'NOCOPY',\n  'NOT',\n  'NOWAIT',\n  'NULL',\n  'NULLIF',\n  'NUMBER_BASE',\n  'NUMBER',\n  'OBJECT',\n  'OCICOLL',\n  'OCIDATE',\n  'OCIDATETIME',\n  'OCIDURATION',\n  'OCIINTERVAL',\n  'OCILOBLOCATOR',\n  'OCINUMBER',\n  'OCIRAW',\n  'OCIREF',\n  'OCIREFCURSOR',\n  'OCIROWID',\n  'OCISTRING',\n  'OCITYPE',\n  'OF',\n  'OLD',\n  'ON',\n  'ONLY',\n  'OPAQUE',\n  'OPEN',\n  'OPERATOR',\n  'OPTION',\n  'ORACLE',\n  'ORADATA',\n  'ORDER',\n  'ORGANIZATION',\n  'ORLANY',\n  'ORLVARY',\n  'OTHERS',\n  'OUT',\n  'OVERLAPS',\n  'OVERRIDING',\n  'PACKAGE',\n  'PARALLEL_ENABLE',\n  'PARAMETER',\n  'PARAMETERS',\n  'PARENT',\n  'PARTITION',\n  'PASCAL',\n  'PCTFREE',\n  'PIPE',\n  'PIPELINED',\n  'PLS_INTEGER',\n  'PLUGGABLE',\n  'POSITIVE',\n  'POSITIVEN',\n  'PRAGMA',\n  'PRECISION',\n  'PRIOR',\n  'PRIVATE',\n  'PROCEDURE',\n  'PUBLIC',\n  'RAISE',\n  'RANGE',\n  'RAW',\n  'READ',\n  'REAL',\n  'RECORD',\n  'REF',\n  'REFERENCE',\n  'RELEASE',\n  'RELIES_ON',\n  'REM',\n  'REMAINDER',\n  'RENAME',\n  'RESOURCE',\n  'RESULT_CACHE',\n  'RESULT',\n  'RETURN',\n  'RETURNING',\n  'REVERSE',\n  'REVOKE',\n  'ROLLBACK',\n  'ROW',\n  'ROWID',\n  'ROWNUM',\n  'ROWTYPE',\n  'SAMPLE',\n  'SAVE',\n  'SAVEPOINT',\n  'SB1',\n  'SB2',\n  'SB4',\n  'SEARCH',\n  'SECOND',\n  'SEGMENT',\n  'SELF',\n  'SEPARATE',\n  'SEQUENCE',\n  'SERIALIZABLE',\n  'SHARE',\n  'SHORT',\n  'SIZE_T',\n  'SIZE',\n  'SMALLINT',\n  'SOME',\n  'SPACE',\n  'SPARSE',\n  'SQL',\n  'SQLCODE',\n  'SQLDATA',\n  'SQLERRM',\n  'SQLNAME',\n  'SQLSTATE',\n  'STANDARD',\n  'START',\n  'STATIC',\n  'STDDEV',\n  'STORED',\n  'STRING',\n  'STRUCT',\n  'STYLE',\n  'SUBMULTISET',\n  'SUBPARTITION',\n  'SUBSTITUTABLE',\n  'SUBTYPE',\n  'SUCCESSFUL',\n  'SUM',\n  'SYNONYM',\n  'SYSDATE',\n  'TABAUTH',\n  'TABLE',\n  'TDO',\n  'THE',\n  'THEN',\n  'TIME',\n  'TIMESTAMP',\n  'TIMEZONE_ABBR',\n  'TIMEZONE_HOUR',\n  'TIMEZONE_MINUTE',\n  'TIMEZONE_REGION',\n  'TO',\n  'TRAILING',\n  'TRANSACTION',\n  'TRANSACTIONAL',\n  'TRIGGER',\n  'TRUE',\n  'TRUSTED',\n  'TYPE',\n  'UB1',\n  'UB2',\n  'UB4',\n  'UID',\n  'UNDER',\n  'UNIQUE',\n  'UNPLUG',\n  'UNSIGNED',\n  'UNTRUSTED',\n  'USE',\n  'USER',\n  'USING',\n  'VALIDATE',\n  'VALIST',\n  'VALUE',\n  'VARCHAR',\n  'VARCHAR2',\n  'VARIABLE',\n  'VARIANCE',\n  'VARRAY',\n  'VARYING',\n  'VIEW',\n  'VIEWS',\n  'VOID',\n  'WHENEVER',\n  'WHILE',\n  'WITH',\n  'WORK',\n  'WRAPPED',\n  'WRITE',\n  'YEAR',\n  'ZONE'\n];\n\nconst reservedTopLevelWords = [\n  'ADD',\n  'ALTER COLUMN',\n  'ALTER TABLE',\n  'BEGIN',\n  'CONNECT BY',\n  'DECLARE',\n  'DELETE FROM',\n  'DELETE',\n  'END',\n  'EXCEPT',\n  'EXCEPTION',\n  'FETCH FIRST',\n  'FROM',\n  'GROUP BY',\n  'HAVING',\n  'INSERT INTO',\n  'INSERT',\n  'LIMIT',\n  'LOOP',\n  'MODIFY',\n  'ORDER BY',\n  'SELECT',\n  'SET CURRENT SCHEMA',\n  'SET SCHEMA',\n  'SET',\n  'START WITH',\n  'UPDATE',\n  'VALUES',\n  'WHERE'\n];\n\nconst reservedTopLevelWordsNoIndent = ['INTERSECT', 'INTERSECT ALL', 'MINUS', 'UNION', 'UNION ALL'];\n\nconst reservedNewlineWords = [\n  'AND',\n  'CROSS APPLY',\n  'CROSS JOIN',\n  'ELSE',\n  'END',\n  'INNER JOIN',\n  'JOIN',\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'OR',\n  'OUTER APPLY',\n  'OUTER JOIN',\n  'RIGHT JOIN',\n  'RIGHT OUTER JOIN',\n  'WHEN',\n  'XOR'\n];\n","import AbstractFormatter from './utils/abstract';\nimport { TokenizerConfig } from '../core/types';\n\nexport default class StandardSqlFormatter extends AbstractFormatter {\n  getTokenizerConfig() {\n    return <TokenizerConfig>{\n      reservedWords,\n      reservedTopLevelWords,\n      reservedNewlineWords,\n      reservedTopLevelWordsNoIndent,\n      stringTypes: [`\"\"`, \"N''\", \"''\", '``', '[]'],\n      openParens: ['(', 'CASE'],\n      closeParens: [')', 'END'],\n      indexedPlaceholderTypes: ['?'],\n      namedPlaceholderTypes: ['@', ':', '%', '$'],\n      lineCommentTypes: ['#', '--'],\n      specialWordChars: []\n    };\n  }\n}\n\nconst reservedWords = [\n  'ACCESSIBLE',\n  'ACTION',\n  'AGAINST',\n  'AGGREGATE',\n  'ALGORITHM',\n  'ALL',\n  'ALTER',\n  'ANALYSE',\n  'ANALYZE',\n  'AS',\n  'ASC',\n  'AUTOCOMMIT',\n  'AUTO_INCREMENT',\n  'BACKUP',\n  'BEGIN',\n  'BETWEEN',\n  'BINLOG',\n  'BOTH',\n  'CASCADE',\n  'CASE',\n  'CHANGE',\n  'CHANGED',\n  'CHARACTER SET',\n  'CHARSET',\n  'CHECK',\n  'CHECKSUM',\n  'COLLATE',\n  'COLLATION',\n  'COLUMN',\n  'COLUMNS',\n  'COMMENT',\n  'COMMIT',\n  'COMMITTED',\n  'COMPRESSED',\n  'CONCURRENT',\n  'CONSTRAINT',\n  'CONTAINS',\n  'CONVERT',\n  'COUNT',\n  'CREATE',\n  'CROSS',\n  'CURRENT_TIMESTAMP',\n  'DATABASE',\n  'DATABASES',\n  'DAY_HOUR',\n  'DAY_MINUTE',\n  'DAY_SECOND',\n  'DAY',\n  'DEFAULT',\n  'DEFINER',\n  'DELAYED',\n  'DELETE',\n  'DESC',\n  'DESCRIBE',\n  'DETERMINISTIC',\n  'DISTINCT',\n  'DISTINCTROW',\n  'DIV',\n  'DO',\n  'DROP',\n  'DUMPFILE',\n  'DUPLICATE',\n  'DYNAMIC',\n  'ELSE',\n  'ENCLOSED',\n  'END',\n  'ENGINE',\n  'ENGINES',\n  'ENGINE_TYPE',\n  'ESCAPE',\n  'ESCAPED',\n  'EVENTS',\n  'EXEC',\n  'EXECUTE',\n  'EXISTS',\n  'EXPLAIN',\n  'EXTENDED',\n  'FAST',\n  'FETCH',\n  'FIELDS',\n  'FILE',\n  'FIRST',\n  'FIXED',\n  'FLUSH',\n  'FOR',\n  'FORCE',\n  'FOREIGN',\n  'FULL',\n  'FULLTEXT',\n  'FUNCTION',\n  'GLOBAL',\n  'GRANTS',\n  'GROUP_CONCAT',\n  'HEAP',\n  'HIGH_PRIORITY',\n  'HOSTS',\n  'HOUR',\n  'HOUR_MINUTE',\n  'HOUR_SECOND',\n  'IDENTIFIED',\n  'IF',\n  'IFNULL',\n  'IGNORE',\n  'IN',\n  'INDEX',\n  'INDEXES',\n  'INFILE',\n  'INSERT',\n  'INSERT_ID',\n  'INSERT_METHOD',\n  'INTERVAL',\n  'INTO',\n  'INVOKER',\n  'IS',\n  'ISOLATION',\n  'KEY',\n  'KEYS',\n  'KILL',\n  'LAST_INSERT_ID',\n  'LEADING',\n  'LEVEL',\n  'LIKE',\n  'LINEAR',\n  'LINES',\n  'LOAD',\n  'LOCAL',\n  'LOCK',\n  'LOCKS',\n  'LOGS',\n  'LOW_PRIORITY',\n  'MARIA',\n  'MASTER',\n  'MASTER_CONNECT_RETRY',\n  'MASTER_HOST',\n  'MASTER_LOG_FILE',\n  'MATCH',\n  'MAX_CONNECTIONS_PER_HOUR',\n  'MAX_QUERIES_PER_HOUR',\n  'MAX_ROWS',\n  'MAX_UPDATES_PER_HOUR',\n  'MAX_USER_CONNECTIONS',\n  'MEDIUM',\n  'MERGE',\n  'MINUTE',\n  'MINUTE_SECOND',\n  'MIN_ROWS',\n  'MODE',\n  'MONTH',\n  'MRG_MYISAM',\n  'MYISAM',\n  'NAMES',\n  'NATURAL',\n  'NOT',\n  'NOW()',\n  'NULL',\n  'OFFSET',\n  'ON DELETE',\n  'ON UPDATE',\n  'ON',\n  'ONLY',\n  'OPEN',\n  'OPTIMIZE',\n  'OPTION',\n  'OPTIONALLY',\n  'OUTFILE',\n  'PACK_KEYS',\n  'PAGE',\n  'PARTIAL',\n  'PARTITION',\n  'PARTITIONS',\n  'PASSWORD',\n  'PRIMARY',\n  'PRIVILEGES',\n  'PROCEDURE',\n  'PROCESS',\n  'PROCESSLIST',\n  'PURGE',\n  'QUICK',\n  'RAID0',\n  'RAID_CHUNKS',\n  'RAID_CHUNKSIZE',\n  'RAID_TYPE',\n  'RANGE',\n  'READ',\n  'READ_ONLY',\n  'READ_WRITE',\n  'REFERENCES',\n  'REGEXP',\n  'RELOAD',\n  'RENAME',\n  'REPAIR',\n  'REPEATABLE',\n  'REPLACE',\n  'REPLICATION',\n  'RESET',\n  'RESTORE',\n  'RESTRICT',\n  'RETURN',\n  'RETURNS',\n  'REVOKE',\n  'RLIKE',\n  'ROLLBACK',\n  'ROW',\n  'ROWS',\n  'ROW_FORMAT',\n  'SECOND',\n  'SECURITY',\n  'SEPARATOR',\n  'SERIALIZABLE',\n  'SESSION',\n  'SHARE',\n  'SHOW',\n  'SHUTDOWN',\n  'SLAVE',\n  'SONAME',\n  'SOUNDS',\n  'SQL',\n  'SQL_AUTO_IS_NULL',\n  'SQL_BIG_RESULT',\n  'SQL_BIG_SELECTS',\n  'SQL_BIG_TABLES',\n  'SQL_BUFFER_RESULT',\n  'SQL_CACHE',\n  'SQL_CALC_FOUND_ROWS',\n  'SQL_LOG_BIN',\n  'SQL_LOG_OFF',\n  'SQL_LOG_UPDATE',\n  'SQL_LOW_PRIORITY_UPDATES',\n  'SQL_MAX_JOIN_SIZE',\n  'SQL_NO_CACHE',\n  'SQL_QUOTE_SHOW_CREATE',\n  'SQL_SAFE_UPDATES',\n  'SQL_SELECT_LIMIT',\n  'SQL_SLAVE_SKIP_COUNTER',\n  'SQL_SMALL_RESULT',\n  'SQL_WARNINGS',\n  'START',\n  'STARTING',\n  'STATUS',\n  'STOP',\n  'STORAGE',\n  'STRAIGHT_JOIN',\n  'STRING',\n  'STRIPED',\n  'SUPER',\n  'TABLE',\n  'TABLES',\n  'TEMPORARY',\n  'TERMINATED',\n  'THEN',\n  'TO',\n  'TRAILING',\n  'TRANSACTIONAL',\n  'TRIGGER',\n  'TRUE',\n  'TRUNCATE',\n  'TYPE',\n  'TYPES',\n  'UNCOMMITTED',\n  'UNIQUE',\n  'UNLOCK',\n  'UNSIGNED',\n  'USAGE',\n  'USE',\n  'USING',\n  'VARIABLES',\n  'VIEW',\n  'WHEN',\n  'WITH',\n  'WORK',\n  'WRITE',\n  'YEAR_MONTH',\n];\n\nconst reservedTopLevelWords = [\n  'ADD',\n  'AFTER',\n  'ALTER COLUMN',\n  'ALTER TABLE',\n  'CREATE OR REPLACE',\n  'DECLARE',\n  'DELETE FROM',\n  'EXCEPT',\n  'FETCH FIRST',\n  'FROM',\n  'GO',\n  'GRANT',\n  'GROUP BY',\n  'HAVING',\n  'INSERT INTO',\n  'INSERT',\n  'LIMIT',\n  'MODIFY',\n  'ORDER BY',\n  'RETURNING',\n  'SELECT',\n  'SET CURRENT SCHEMA',\n  'SET SCHEMA',\n  'SET',\n  'UPDATE',\n  'VALUES',\n  'WHERE',\n];\n\nconst reservedTopLevelWordsNoIndent = ['INTERSECT ALL', 'INTERSECT', 'MINUS', 'UNION ALL', 'UNION'];\n\nconst reservedNewlineWords = [\n  'AND',\n  'CROSS APPLY',\n  'CROSS JOIN',\n  'ELSE',\n  'INNER JOIN',\n  \"FULL JOIN\",\n  \"FULL OUTER JOIN\",\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'NATURAL JOIN',\n  'OR',\n  'OUTER APPLY',\n  'OUTER JOIN',\n  'RENAME',\n  'RIGHT JOIN',\n  'RIGHT OUTER JOIN',\n  'JOIN',\n  'WHEN',\n  'XOR',\n];\n","/**\n * copied from https://github.com/TeamSQL/SQL-Statement-Parser/blob/master/src/index.ts\n * minor improvements\n */\n\nclass QueryParser {\n  static parse(query: string, driver: 'pg' | 'mysql' | 'mssql' | 'cql' = 'mysql'): Array<string> {\n    if (driver === 'mssql') {\n      query = query.replace(/^[ \\t]*GO;?[ \\t]*$/gmi, '');\n    }\n    const delimiter: string = ';';\n    var queries: Array<string> = [];\n    var flag = true;\n    while (flag) {\n      if (restOfQuery == null) {\n        restOfQuery = query;\n      }\n      var statementAndRest = QueryParser.getStatements(restOfQuery, driver, delimiter);\n\n      var statement = statementAndRest[0];\n      if (statement != null && statement.trim() != '') {\n        queries.push(statement);\n      }\n\n      var restOfQuery = statementAndRest[1];\n      if (restOfQuery == null || restOfQuery.trim() == '') {\n        break;\n      }\n    }\n\n    return queries;\n  }\n\n  static getStatements(query: string, driver: string, delimiter: string): Array<string> {\n    var charArray: Array<string> = Array.from(query);\n    var previousChar: string = null;\n    var nextChar: string = null;\n    var isInComment: boolean = false;\n    var commentChar: string = null;\n    var isInString: boolean = false;\n    var stringChar: string = null;\n    var isInTag: boolean = false;\n    var tagChar: string = null;\n\n    var resultQueries: Array<string> = [];\n    for (var index = 0; index < charArray.length; index++) {\n      var char = charArray[index];\n      if (index > 0) {\n        previousChar = charArray[index - 1];\n      }\n\n      if (index < charArray.length) {\n        nextChar = charArray[index + 1];\n      }\n\n      // it's in string, go to next char\n      if (previousChar != '\\\\' && (char == \"'\" || char == '\"') && isInString == false && isInComment == false) {\n        isInString = true;\n        stringChar = char;\n        continue;\n      }\n\n      // it's comment, go to next char\n      if (\n        ((char == '#' && nextChar == ' ') || (char == '-' && nextChar == '-') || (char == '/' && nextChar == '*')) &&\n        isInString == false\n      ) {\n        isInComment = true;\n        commentChar = char;\n        continue;\n      }\n      // it's end of comment, go to next\n      if (\n        isInComment == true &&\n        (((commentChar == '#' || commentChar == '-') && char == '\\n') ||\n          (commentChar == '/' && (char == '*' && nextChar == '/')))\n      ) {\n        isInComment = false;\n        commentChar = null;\n        continue;\n      }\n\n      // string closed, go to next char\n      if (previousChar != '\\\\' && char == stringChar && isInString == true) {\n        isInString = false;\n        stringChar = null;\n        continue;\n      }\n\n      if (char.toLowerCase() == 'd' && isInComment == false && isInString == false) {\n        var delimiterResult = QueryParser.getDelimiter(index, query, driver);\n        if (delimiterResult != null) {\n          // it's delimiter\n          var delimiterSymbol: string = delimiterResult[0];\n          var delimiterEndIndex: number = delimiterResult[1];\n          query = query.substring(delimiterEndIndex);\n          resultQueries = QueryParser.getStatements(query, driver, delimiterSymbol);\n          break;\n        }\n      }\n\n      if (char == '$' && isInComment == false && isInString == false) {\n        var queryUntilTagSymbol = query.substring(index);\n        if (isInTag == false) {\n          var tagSymbolResult = QueryParser.getTag(queryUntilTagSymbol, driver);\n          if (tagSymbolResult != null) {\n            isInTag = true;\n            tagChar = tagSymbolResult[0];\n          }\n        } else {\n          var tagSymbolResult = QueryParser.getTag(queryUntilTagSymbol, driver);\n          if (tagSymbolResult != null) {\n            var tagSymbol = tagSymbolResult[0];\n            if (tagSymbol == tagChar) {\n              isInTag = false;\n            }\n          }\n        }\n      }\n      if (\n        driver === 'mssql'\n        && char.toLowerCase() === 'g'\n        && `${charArray[index + 1] || ''}`.toLowerCase() === 'o'\n        && (\n          typeof charArray[index + 2] !== 'undefined'\n          && /go\\b/gi.test(`${char}${charArray[index + 1]}${charArray[index + 2]}`)\n        )\n      ) {\n        char = `${char}${charArray[index + 1]}`;\n      }\n\n      // it's a query, continue until you get delimiter hit\n      if (\n        (char.toLowerCase() === delimiter.toLowerCase() || char.toLowerCase() === 'go') &&\n        isInString == false &&\n        isInComment == false &&\n        isInTag == false\n      ) {\n        var splittingIndex = index + 1;\n        if (driver === 'mssql' && char.toLowerCase() === 'go') {\n          splittingIndex = index;\n          resultQueries = QueryParser.getQueryParts(query, splittingIndex, 2);\n          break;\n        }\n        resultQueries = QueryParser.getQueryParts(query, splittingIndex, 0);\n        break;\n      }\n    }\n    if (resultQueries.length == 0) {\n      if (query != null) {\n        query = query.trim();\n      }\n      resultQueries.push(query, null);\n    }\n\n    return resultQueries;\n  }\n\n  static getQueryParts(query: string, splittingIndex: number, numChars: number = 1): Array<string> {\n    var statement: string = query.substring(0, splittingIndex);\n    var restOfQuery: string = query.substring(splittingIndex + numChars);\n    var result: Array<string> = [];\n    if (statement != null) {\n      statement = statement.trim();\n    }\n    result.push(statement);\n    result.push(restOfQuery);\n    return result;\n  }\n\n  static getDelimiter(index: number, query: string, driver: string): Array<any> {\n    if (driver == 'mysql') {\n      var delimiterKeyword = 'delimiter ';\n      var delimiterLength = delimiterKeyword.length;\n      var parsedQueryAfterIndexOriginal = query.substring(index);\n      var indexOfDelimiterKeyword = parsedQueryAfterIndexOriginal.toLowerCase().indexOf(delimiterKeyword);\n      if (indexOfDelimiterKeyword == 0) {\n        var parsedQueryAfterIndex = query.substring(index);\n        var indexOfNewLine = parsedQueryAfterIndex.indexOf('\\n');\n        if (indexOfNewLine == -1) {\n          indexOfNewLine = query.length;\n        }\n        parsedQueryAfterIndex = parsedQueryAfterIndex.substring(0, indexOfNewLine);\n        parsedQueryAfterIndex = parsedQueryAfterIndex.substring(delimiterLength);\n        var delimiterSymbol = parsedQueryAfterIndex.trim();\n        delimiterSymbol = QueryParser.clearTextUntilComment(delimiterSymbol);\n        if (delimiterSymbol != null) {\n          delimiterSymbol = delimiterSymbol.trim();\n          var delimiterSymbolEndIndex =\n            parsedQueryAfterIndexOriginal.indexOf(delimiterSymbol) + index + delimiterSymbol.length;\n          var result: Array<any> = [];\n          result.push(delimiterSymbol);\n          result.push(delimiterSymbolEndIndex);\n          return result;\n        } else {\n          return null;\n        }\n      } else {\n        return null;\n      }\n    }\n  }\n\n  static getTag(query: string, driver: string): Array<any> {\n    if (driver == 'pg') {\n      var matchTag = query.match(/^(\\$[a-zA-Z]*\\$)/i);\n      if (matchTag != null && matchTag.length > 1) {\n        var result: Array<any> = [];\n        var tagSymbol = matchTag[1].trim();\n        var indexOfCmd = query.indexOf(tagSymbol);\n        result.push(tagSymbol);\n        result.push(indexOfCmd);\n        return result;\n      } else {\n        return null;\n      }\n    }\n  }\n\n  static isGoDelimiter(driver: string, query: string, index: number): boolean {\n    if (driver == 'mssql') {\n      var match = /(?:\\bgo\\b\\s*)/i.exec(query);\n      if (match != null && match.index == index) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  static clearTextUntilComment(text: string): string {\n    // var previousChar: string = null;\n    var nextChar: string = null;\n    var charArray: Array<string> = Array.from(text);\n    var clearedText: string = null;\n    for (var index = 0; index < charArray.length; index++) {\n      var char = charArray[index];\n      // if (index > 0) {\n      //   previousChar = charArray[index - 1];\n      // }\n\n      if (index < charArray.length) {\n        nextChar = charArray[index + 1];\n      }\n\n      if ((char == '#' && nextChar == ' ') || (char == '-' && nextChar == '-') || (char == '/' && nextChar == '*')) {\n        break;\n      } else {\n        if (clearedText == null) {\n          clearedText = '';\n        }\n        clearedText += char;\n      }\n    }\n\n    return clearedText;\n  }\n}\n\n\nexport default QueryParser.parse;","import { v4 as generateId } from 'uuid';\n\nimport { InternalID } from '@sqltools/types';\nexport default generateId as () => InternalID;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function () {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function () {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function () {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function () {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function () {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function () {\n    return _version.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function () {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function () {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function () {\n    return _parse.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.default)(b);\n}\n\nvar _default = v1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst rnds8 = new Uint8Array(16);\n\nfunction rng() {\n  return _crypto.default.randomFillSync(rnds8);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset_) {\n  const offset = offset_ || 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (byteToHex[buf[offset + 0]] + byteToHex[buf[offset + 1]] + byteToHex[buf[offset + 2]] + byteToHex[buf[offset + 3]] + '-' + byteToHex[buf[offset + 4]] + byteToHex[buf[offset + 5]] + '-' + byteToHex[buf[offset + 6]] + byteToHex[buf[offset + 7]] + '-' + byteToHex[buf[offset + 8]] + byteToHex[buf[offset + 9]] + '-' + byteToHex[buf[offset + 10]] + byteToHex[buf[offset + 11]] + byteToHex[buf[offset + 12]] + byteToHex[buf[offset + 13]] + byteToHex[buf[offset + 14]] + byteToHex[buf[offset + 15]]).toLowerCase();\n}\n\nvar _default = bytesToUuid;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nexports.URL = exports.DNS = void 0;\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction _default(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.default)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return _crypto.default.createHash('md5').update(bytes).digest();\n}\n\nvar _default = md5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.default)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return _crypto.default.createHash('sha1').update(bytes).digest();\n}\n\nvar _default = sha1;\nexports.default = _default;",null,null,null,"/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../typings/thenable.d.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nexports.Event = vscode_languageserver_protocol_1.Event;\r\nconst configuration_1 = require(\"./configuration\");\r\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\r\nconst progress_1 = require(\"./progress\");\r\nconst Is = require(\"./utils/is\");\r\nconst UUID = require(\"./utils/uuid\");\r\n// ------------- Reexport the API surface of the language worker API ----------------------\r\n__export(require(\"vscode-languageserver-protocol\"));\r\nconst fm = require(\"./files\");\r\nvar Files;\r\n(function (Files) {\r\n    Files.uriToFilePath = fm.uriToFilePath;\r\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\r\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\r\n    Files.resolve = fm.resolve;\r\n    Files.resolveModulePath = fm.resolveModulePath;\r\n})(Files = exports.Files || (exports.Files = {}));\r\nlet shutdownReceived = false;\r\nlet exitTimer = undefined;\r\nfunction setupExitTimer() {\r\n    const argName = '--clientProcessId';\r\n    function runTimer(value) {\r\n        try {\r\n            let processId = parseInt(value);\r\n            if (!isNaN(processId)) {\r\n                exitTimer = setInterval(() => {\r\n                    try {\r\n                        process.kill(processId, 0);\r\n                    }\r\n                    catch (ex) {\r\n                        // Parent process doesn't exist anymore. Exit the server.\r\n                        process.exit(shutdownReceived ? 0 : 1);\r\n                    }\r\n                }, 3000);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Ignore errors;\r\n        }\r\n    }\r\n    for (let i = 2; i < process.argv.length; i++) {\r\n        let arg = process.argv[i];\r\n        if (arg === argName && i + 1 < process.argv.length) {\r\n            runTimer(process.argv[i + 1]);\r\n            return;\r\n        }\r\n        else {\r\n            let args = arg.split('=');\r\n            if (args[0] === argName) {\r\n                runTimer(args[1]);\r\n            }\r\n        }\r\n    }\r\n}\r\nsetupExitTimer();\r\nfunction null2Undefined(value) {\r\n    if (value === null) {\r\n        return void 0;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * A manager for simple text documents\r\n */\r\nclass TextDocuments {\r\n    /**\r\n     * Create a new text document manager.\r\n     */\r\n    constructor(configuration) {\r\n        this._documents = Object.create(null);\r\n        this._configuration = configuration;\r\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been opened or the content changes.\r\n     */\r\n    get onDidChangeContent() {\r\n        return this._onDidChangeContent.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been opened.\r\n     */\r\n    get onDidOpen() {\r\n        return this._onDidOpen.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * will be saved.\r\n     */\r\n    get onWillSave() {\r\n        return this._onWillSave.event;\r\n    }\r\n    /**\r\n     * Sets a handler that will be called if a participant wants to provide\r\n     * edits during a text document save.\r\n     */\r\n    onWillSaveWaitUntil(handler) {\r\n        this._willSaveWaitUntil = handler;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been saved.\r\n     */\r\n    get onDidSave() {\r\n        return this._onDidSave.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been closed.\r\n     */\r\n    get onDidClose() {\r\n        return this._onDidClose.event;\r\n    }\r\n    /**\r\n     * Returns the document for the given URI. Returns undefined if\r\n     * the document is not mananged by this instance.\r\n     *\r\n     * @param uri The text document's URI to retrieve.\r\n     * @return the text document or `undefined`.\r\n     */\r\n    get(uri) {\r\n        return this._documents[uri];\r\n    }\r\n    /**\r\n     * Returns all text documents managed by this instance.\r\n     *\r\n     * @return all text documents.\r\n     */\r\n    all() {\r\n        return Object.keys(this._documents).map(key => this._documents[key]);\r\n    }\r\n    /**\r\n     * Returns the URIs of all text documents managed by this instance.\r\n     *\r\n     * @return the URI's of all text documents.\r\n     */\r\n    keys() {\r\n        return Object.keys(this._documents);\r\n    }\r\n    /**\r\n     * Listens for `low level` notification on the given connection to\r\n     * update the text documents managed by this instance.\r\n     *\r\n     * @param connection The connection to listen on.\r\n     */\r\n    listen(connection) {\r\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Full;\r\n        connection.onDidOpenTextDocument((event) => {\r\n            let td = event.textDocument;\r\n            let document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\r\n            this._documents[td.uri] = document;\r\n            let toFire = Object.freeze({ document });\r\n            this._onDidOpen.fire(toFire);\r\n            this._onDidChangeContent.fire(toFire);\r\n        });\r\n        connection.onDidChangeTextDocument((event) => {\r\n            let td = event.textDocument;\r\n            let changes = event.contentChanges;\r\n            if (changes.length === 0) {\r\n                return;\r\n            }\r\n            let document = this._documents[td.uri];\r\n            const { version } = td;\r\n            if (version === null || version === void 0) {\r\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\r\n            }\r\n            document = this._configuration.update(document, changes, version);\r\n            this._documents[td.uri] = document;\r\n            this._onDidChangeContent.fire(Object.freeze({ document }));\r\n        });\r\n        connection.onDidCloseTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                delete this._documents[event.textDocument.uri];\r\n                this._onDidClose.fire(Object.freeze({ document }));\r\n            }\r\n        });\r\n        connection.onWillSaveTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                this._onWillSave.fire(Object.freeze({ document, reason: event.reason }));\r\n            }\r\n        });\r\n        connection.onWillSaveTextDocumentWaitUntil((event, token) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document && this._willSaveWaitUntil) {\r\n                return this._willSaveWaitUntil(Object.freeze({ document, reason: event.reason }), token);\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n        connection.onDidSaveTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                this._onDidSave.fire(Object.freeze({ document }));\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.TextDocuments = TextDocuments;\r\n/**\r\n * Helps tracking error message. Equal occurences of the same\r\n * message are only stored once. This class is for example\r\n * useful if text documents are validated in a loop and equal\r\n * error message should be folded into one.\r\n */\r\nclass ErrorMessageTracker {\r\n    constructor() {\r\n        this._messages = Object.create(null);\r\n    }\r\n    /**\r\n     * Add a message to the tracker.\r\n     *\r\n     * @param message The message to add.\r\n     */\r\n    add(message) {\r\n        let count = this._messages[message];\r\n        if (!count) {\r\n            count = 0;\r\n        }\r\n        count++;\r\n        this._messages[message] = count;\r\n    }\r\n    /**\r\n     * Send all tracked messages to the connection's window.\r\n     *\r\n     * @param connection The connection established between client and server.\r\n     */\r\n    sendErrors(connection) {\r\n        Object.keys(this._messages).forEach(message => {\r\n            connection.window.showErrorMessage(message);\r\n        });\r\n    }\r\n}\r\nexports.ErrorMessageTracker = ErrorMessageTracker;\r\nclass RemoteConsoleImpl {\r\n    constructor() {\r\n    }\r\n    rawAttach(connection) {\r\n        this._rawConnection = connection;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    error(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\r\n    }\r\n    warn(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\r\n    }\r\n    info(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\r\n    }\r\n    log(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\r\n    }\r\n    send(type, message) {\r\n        if (this._rawConnection) {\r\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message });\r\n        }\r\n    }\r\n}\r\nclass _RemoteWindowImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    showErrorMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n    showWarningMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n    showInformationMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n}\r\nconst RemoteWindowImpl = progress_1.ProgressFeature(_RemoteWindowImpl);\r\nvar BulkRegistration;\r\n(function (BulkRegistration) {\r\n    /**\r\n     * Creates a new bulk registration.\r\n     * @return an empty bulk registration.\r\n     */\r\n    function create() {\r\n        return new BulkRegistrationImpl();\r\n    }\r\n    BulkRegistration.create = create;\r\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\r\nclass BulkRegistrationImpl {\r\n    constructor() {\r\n        this._registrations = [];\r\n        this._registered = new Set();\r\n    }\r\n    add(type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        if (this._registered.has(method)) {\r\n            throw new Error(`${method} is already added to this registration`);\r\n        }\r\n        const id = UUID.generateUuid();\r\n        this._registrations.push({\r\n            id: id,\r\n            method: method,\r\n            registerOptions: registerOptions || {}\r\n        });\r\n        this._registered.add(method);\r\n    }\r\n    asRegistrationParams() {\r\n        return {\r\n            registrations: this._registrations\r\n        };\r\n    }\r\n}\r\nvar BulkUnregistration;\r\n(function (BulkUnregistration) {\r\n    function create() {\r\n        return new BulkUnregistrationImpl(undefined, []);\r\n    }\r\n    BulkUnregistration.create = create;\r\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\r\nclass BulkUnregistrationImpl {\r\n    constructor(_connection, unregistrations) {\r\n        this._connection = _connection;\r\n        this._unregistrations = new Map();\r\n        unregistrations.forEach(unregistration => {\r\n            this._unregistrations.set(unregistration.method, unregistration);\r\n        });\r\n    }\r\n    get isAttached() {\r\n        return !!this._connection;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    add(unregistration) {\r\n        this._unregistrations.set(unregistration.method, unregistration);\r\n    }\r\n    dispose() {\r\n        let unregistrations = [];\r\n        for (let unregistration of this._unregistrations.values()) {\r\n            unregistrations.push(unregistration);\r\n        }\r\n        let params = {\r\n            unregisterations: unregistrations\r\n        };\r\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\r\n            this._connection.console.info(`Bulk unregistration failed.`);\r\n        });\r\n    }\r\n    disposeSingle(arg) {\r\n        const method = Is.string(arg) ? arg : arg.method;\r\n        const unregistration = this._unregistrations.get(method);\r\n        if (!unregistration) {\r\n            return false;\r\n        }\r\n        let params = {\r\n            unregisterations: [unregistration]\r\n        };\r\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\r\n            this._unregistrations.delete(method);\r\n        }, (_error) => {\r\n            this._connection.console.info(`Unregistering request handler for ${unregistration.id} failed.`);\r\n        });\r\n        return true;\r\n    }\r\n}\r\nclass RemoteClientImpl {\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\r\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\r\n            return this.registerMany(typeOrRegistrations);\r\n        }\r\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\r\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\r\n        }\r\n        else {\r\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\r\n        }\r\n    }\r\n    registerSingle1(unregistration, type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        const id = UUID.generateUuid();\r\n        let params = {\r\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\r\n        };\r\n        if (!unregistration.isAttached) {\r\n            unregistration.attach(this._connection);\r\n        }\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\r\n            unregistration.add({ id: id, method: method });\r\n            return unregistration;\r\n        }, (_error) => {\r\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n    registerSingle2(type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        const id = UUID.generateUuid();\r\n        let params = {\r\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\r\n        };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\r\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\r\n                this.unregisterSingle(id, method);\r\n            });\r\n        }, (_error) => {\r\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n    unregisterSingle(id, method) {\r\n        let params = {\r\n            unregisterations: [{ id, method }]\r\n        };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\r\n            this.connection.console.info(`Unregistering request handler for ${id} failed.`);\r\n        });\r\n    }\r\n    registerMany(registrations) {\r\n        let params = registrations.asRegistrationParams();\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\r\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\r\n        }, (_error) => {\r\n            this.connection.console.info(`Bulk registration failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n}\r\nclass _RemoteWorkspaceImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    applyEdit(paramOrEdit) {\r\n        function isApplyWorkspaceEditParams(value) {\r\n            return value && !!value.edit;\r\n        }\r\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\r\n    }\r\n}\r\nconst RemoteWorkspaceImpl = workspaceFolders_1.WorkspaceFoldersFeature(configuration_1.ConfigurationFeature(_RemoteWorkspaceImpl));\r\nclass TelemetryImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    logEvent(data) {\r\n        this._connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data);\r\n    }\r\n}\r\nclass TracerImpl {\r\n    constructor() {\r\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    set trace(value) {\r\n        this._trace = value;\r\n    }\r\n    log(message, verbose) {\r\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\r\n            return;\r\n        }\r\n        this._connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\r\n            message: message,\r\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\r\n        });\r\n    }\r\n}\r\nclass LanguagesImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    attachWorkDoneProgress(params) {\r\n        return progress_1.attachWorkDone(this.connection, params);\r\n    }\r\n    attachPartialResultProgress(_type, params) {\r\n        return progress_1.attachPartialResult(this.connection, params);\r\n    }\r\n}\r\nexports.LanguagesImpl = LanguagesImpl;\r\nfunction combineConsoleFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineConsoleFeatures = combineConsoleFeatures;\r\nfunction combineTelemetryFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\r\nfunction combineTracerFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineTracerFeatures = combineTracerFeatures;\r\nfunction combineClientFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineClientFeatures = combineClientFeatures;\r\nfunction combineWindowFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineWindowFeatures = combineWindowFeatures;\r\nfunction combineWorkspaceFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\r\nfunction combineLanguagesFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\r\nfunction combineFeatures(one, two) {\r\n    function combine(one, two, func) {\r\n        if (one && two) {\r\n            return func(one, two);\r\n        }\r\n        else if (one) {\r\n            return one;\r\n        }\r\n        else {\r\n            return two;\r\n        }\r\n    }\r\n    let result = {\r\n        __brand: 'features',\r\n        console: combine(one.console, two.console, combineConsoleFeatures),\r\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\r\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\r\n        client: combine(one.client, two.client, combineClientFeatures),\r\n        window: combine(one.window, two.window, combineWindowFeatures),\r\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures)\r\n    };\r\n    return result;\r\n}\r\nexports.combineFeatures = combineFeatures;\r\nfunction createConnection(arg1, arg2, arg3, arg4) {\r\n    let factories;\r\n    let input;\r\n    let output;\r\n    let strategy;\r\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\r\n        factories = arg1;\r\n        arg1 = arg2;\r\n        arg2 = arg3;\r\n        arg3 = arg4;\r\n    }\r\n    if (vscode_languageserver_protocol_1.ConnectionStrategy.is(arg1)) {\r\n        strategy = arg1;\r\n    }\r\n    else {\r\n        input = arg1;\r\n        output = arg2;\r\n        strategy = arg3;\r\n    }\r\n    return _createConnection(input, output, strategy, factories);\r\n}\r\nexports.createConnection = createConnection;\r\nfunction _createConnection(input, output, strategy, factories) {\r\n    if (!input && !output && process.argv.length > 2) {\r\n        let port = void 0;\r\n        let pipeName = void 0;\r\n        let argv = process.argv.slice(2);\r\n        for (let i = 0; i < argv.length; i++) {\r\n            let arg = argv[i];\r\n            if (arg === '--node-ipc') {\r\n                input = new vscode_languageserver_protocol_1.IPCMessageReader(process);\r\n                output = new vscode_languageserver_protocol_1.IPCMessageWriter(process);\r\n                break;\r\n            }\r\n            else if (arg === '--stdio') {\r\n                input = process.stdin;\r\n                output = process.stdout;\r\n                break;\r\n            }\r\n            else if (arg === '--socket') {\r\n                port = parseInt(argv[i + 1]);\r\n                break;\r\n            }\r\n            else if (arg === '--pipe') {\r\n                pipeName = argv[i + 1];\r\n                break;\r\n            }\r\n            else {\r\n                var args = arg.split('=');\r\n                if (args[0] === '--socket') {\r\n                    port = parseInt(args[1]);\r\n                    break;\r\n                }\r\n                else if (args[0] === '--pipe') {\r\n                    pipeName = args[1];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (port) {\r\n            let transport = vscode_languageserver_protocol_1.createServerSocketTransport(port);\r\n            input = transport[0];\r\n            output = transport[1];\r\n        }\r\n        else if (pipeName) {\r\n            let transport = vscode_languageserver_protocol_1.createServerPipeTransport(pipeName);\r\n            input = transport[0];\r\n            output = transport[1];\r\n        }\r\n    }\r\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\r\n    if (!input) {\r\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\r\n    }\r\n    if (!output) {\r\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\r\n    }\r\n    // Backwards compatibility\r\n    if (Is.func(input.read) && Is.func(input.on)) {\r\n        let inputStream = input;\r\n        inputStream.on('end', () => {\r\n            process.exit(shutdownReceived ? 0 : 1);\r\n        });\r\n        inputStream.on('close', () => {\r\n            process.exit(shutdownReceived ? 0 : 1);\r\n        });\r\n    }\r\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\r\n    const connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger, strategy);\r\n    logger.rawAttach(connection);\r\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\r\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\r\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\r\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\r\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\r\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\r\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages];\r\n    function asPromise(value) {\r\n        if (value instanceof Promise) {\r\n            return value;\r\n        }\r\n        else if (Is.thenable(value)) {\r\n            return new Promise((resolve, reject) => {\r\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(value);\r\n        }\r\n    }\r\n    let shutdownHandler = undefined;\r\n    let initializeHandler = undefined;\r\n    let exitHandler = undefined;\r\n    let protocolConnection = {\r\n        listen: () => connection.listen(),\r\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\r\n        onRequest: (type, handler) => connection.onRequest(type, handler),\r\n        sendNotification: (type, param) => {\r\n            const method = Is.string(type) ? type : type.method;\r\n            if (arguments.length === 1) {\r\n                connection.sendNotification(method);\r\n            }\r\n            else {\r\n                connection.sendNotification(method, param);\r\n            }\r\n        },\r\n        onNotification: (type, handler) => connection.onNotification(type, handler),\r\n        onProgress: connection.onProgress,\r\n        sendProgress: connection.sendProgress,\r\n        onInitialize: (handler) => initializeHandler = handler,\r\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\r\n        onShutdown: (handler) => shutdownHandler = handler,\r\n        onExit: (handler) => exitHandler = handler,\r\n        get console() { return logger; },\r\n        get telemetry() { return telemetry; },\r\n        get tracer() { return tracer; },\r\n        get client() { return client; },\r\n        get window() { return remoteWindow; },\r\n        get workspace() { return workspace; },\r\n        get languages() { return languages; },\r\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\r\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\r\n        __textDocumentSync: undefined,\r\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\r\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\r\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\r\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\r\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\r\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\r\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\r\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\r\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        dispose: () => connection.dispose()\r\n    };\r\n    for (let remote of allRemotes) {\r\n        remote.attach(protocolConnection);\r\n    }\r\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\r\n        const processId = params.processId;\r\n        if (Is.number(processId) && exitTimer === void 0) {\r\n            // We received a parent process id. Set up a timer to periodically check\r\n            // if the parent is still alive.\r\n            setInterval(() => {\r\n                try {\r\n                    process.kill(processId, 0);\r\n                }\r\n                catch (ex) {\r\n                    // Parent process doesn't exist anymore. Exit the server.\r\n                    process.exit(shutdownReceived ? 0 : 1);\r\n                }\r\n            }, 3000);\r\n        }\r\n        if (Is.string(params.trace)) {\r\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\r\n        }\r\n        for (let remote of allRemotes) {\r\n            remote.initialize(params.capabilities);\r\n        }\r\n        if (initializeHandler) {\r\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, progress_1.attachWorkDone(connection, params), undefined);\r\n            return asPromise(result).then((value) => {\r\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\r\n                    return value;\r\n                }\r\n                let result = value;\r\n                if (!result) {\r\n                    result = { capabilities: {} };\r\n                }\r\n                let capabilities = result.capabilities;\r\n                if (!capabilities) {\r\n                    capabilities = {};\r\n                    result.capabilities = capabilities;\r\n                }\r\n                if (capabilities.textDocumentSync === void 0 || capabilities.textDocumentSync === null) {\r\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\r\n                }\r\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\r\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\r\n                }\r\n                for (let remote of allRemotes) {\r\n                    remote.fillServerCapabilities(capabilities);\r\n                }\r\n                return result;\r\n            });\r\n        }\r\n        else {\r\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\r\n            for (let remote of allRemotes) {\r\n                remote.fillServerCapabilities(result.capabilities);\r\n            }\r\n            return result;\r\n        }\r\n    });\r\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\r\n        shutdownReceived = true;\r\n        if (shutdownHandler) {\r\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    });\r\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\r\n        try {\r\n            if (exitHandler) {\r\n                exitHandler();\r\n            }\r\n        }\r\n        finally {\r\n            if (shutdownReceived) {\r\n                process.exit(0);\r\n            }\r\n            else {\r\n                process.exit(1);\r\n            }\r\n        }\r\n    });\r\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\r\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\r\n    });\r\n    return protocolConnection;\r\n}\r\n// Export the protocol currently in proposed state.\r\nconst callHierarchy_proposed_1 = require(\"./callHierarchy.proposed\");\r\nconst st = require(\"./sematicTokens.proposed\");\r\nvar ProposedFeatures;\r\n(function (ProposedFeatures) {\r\n    ProposedFeatures.all = {\r\n        __brand: 'features',\r\n        languages: combineLanguagesFeatures(callHierarchy_proposed_1.CallHierarchyFeature, st.SemanticTokensFeature)\r\n    };\r\n    ProposedFeatures.SemanticTokensBuilder = st.SemanticTokensBuilder;\r\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\r\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nexports.ErrorCodes = vscode_jsonrpc_1.ErrorCodes;\r\nexports.ResponseError = vscode_jsonrpc_1.ResponseError;\r\nexports.CancellationToken = vscode_jsonrpc_1.CancellationToken;\r\nexports.CancellationTokenSource = vscode_jsonrpc_1.CancellationTokenSource;\r\nexports.Disposable = vscode_jsonrpc_1.Disposable;\r\nexports.Event = vscode_jsonrpc_1.Event;\r\nexports.Emitter = vscode_jsonrpc_1.Emitter;\r\nexports.Trace = vscode_jsonrpc_1.Trace;\r\nexports.TraceFormat = vscode_jsonrpc_1.TraceFormat;\r\nexports.SetTraceNotification = vscode_jsonrpc_1.SetTraceNotification;\r\nexports.LogTraceNotification = vscode_jsonrpc_1.LogTraceNotification;\r\nexports.RequestType = vscode_jsonrpc_1.RequestType;\r\nexports.RequestType0 = vscode_jsonrpc_1.RequestType0;\r\nexports.NotificationType = vscode_jsonrpc_1.NotificationType;\r\nexports.NotificationType0 = vscode_jsonrpc_1.NotificationType0;\r\nexports.MessageReader = vscode_jsonrpc_1.MessageReader;\r\nexports.MessageWriter = vscode_jsonrpc_1.MessageWriter;\r\nexports.ConnectionStrategy = vscode_jsonrpc_1.ConnectionStrategy;\r\nexports.StreamMessageReader = vscode_jsonrpc_1.StreamMessageReader;\r\nexports.StreamMessageWriter = vscode_jsonrpc_1.StreamMessageWriter;\r\nexports.IPCMessageReader = vscode_jsonrpc_1.IPCMessageReader;\r\nexports.IPCMessageWriter = vscode_jsonrpc_1.IPCMessageWriter;\r\nexports.createClientPipeTransport = vscode_jsonrpc_1.createClientPipeTransport;\r\nexports.createServerPipeTransport = vscode_jsonrpc_1.createServerPipeTransport;\r\nexports.generateRandomPipeName = vscode_jsonrpc_1.generateRandomPipeName;\r\nexports.createClientSocketTransport = vscode_jsonrpc_1.createClientSocketTransport;\r\nexports.createServerSocketTransport = vscode_jsonrpc_1.createServerSocketTransport;\r\nexports.ProgressType = vscode_jsonrpc_1.ProgressType;\r\n__export(require(\"vscode-languageserver-types\"));\r\n__export(require(\"./protocol\"));\r\nconst callHierarchy = require(\"./protocol.callHierarchy.proposed\");\r\nconst st = require(\"./protocol.sematicTokens.proposed\");\r\nvar Proposed;\r\n(function (Proposed) {\r\n    let CallHierarchyPrepareRequest;\r\n    (function (CallHierarchyPrepareRequest) {\r\n        CallHierarchyPrepareRequest.method = callHierarchy.CallHierarchyPrepareRequest.method;\r\n        CallHierarchyPrepareRequest.type = callHierarchy.CallHierarchyPrepareRequest.type;\r\n    })(CallHierarchyPrepareRequest = Proposed.CallHierarchyPrepareRequest || (Proposed.CallHierarchyPrepareRequest = {}));\r\n    let CallHierarchyIncomingCallsRequest;\r\n    (function (CallHierarchyIncomingCallsRequest) {\r\n        CallHierarchyIncomingCallsRequest.method = callHierarchy.CallHierarchyIncomingCallsRequest.method;\r\n        CallHierarchyIncomingCallsRequest.type = callHierarchy.CallHierarchyIncomingCallsRequest.type;\r\n    })(CallHierarchyIncomingCallsRequest = Proposed.CallHierarchyIncomingCallsRequest || (Proposed.CallHierarchyIncomingCallsRequest = {}));\r\n    let CallHierarchyOutgoingCallsRequest;\r\n    (function (CallHierarchyOutgoingCallsRequest) {\r\n        CallHierarchyOutgoingCallsRequest.method = callHierarchy.CallHierarchyOutgoingCallsRequest.method;\r\n        CallHierarchyOutgoingCallsRequest.type = callHierarchy.CallHierarchyOutgoingCallsRequest.type;\r\n    })(CallHierarchyOutgoingCallsRequest = Proposed.CallHierarchyOutgoingCallsRequest || (Proposed.CallHierarchyOutgoingCallsRequest = {}));\r\n    Proposed.SemanticTokenTypes = st.SemanticTokenTypes;\r\n    Proposed.SemanticTokenModifiers = st.SemanticTokenModifiers;\r\n    Proposed.SemanticTokens = st.SemanticTokens;\r\n    let SemanticTokensRequest;\r\n    (function (SemanticTokensRequest) {\r\n        SemanticTokensRequest.method = st.SemanticTokensRequest.method;\r\n        SemanticTokensRequest.type = st.SemanticTokensRequest.type;\r\n    })(SemanticTokensRequest = Proposed.SemanticTokensRequest || (Proposed.SemanticTokensRequest = {}));\r\n    let SemanticTokensEditsRequest;\r\n    (function (SemanticTokensEditsRequest) {\r\n        SemanticTokensEditsRequest.method = st.SemanticTokensEditsRequest.method;\r\n        SemanticTokensEditsRequest.type = st.SemanticTokensEditsRequest.type;\r\n    })(SemanticTokensEditsRequest = Proposed.SemanticTokensEditsRequest || (Proposed.SemanticTokensEditsRequest = {}));\r\n    let SemanticTokensRangeRequest;\r\n    (function (SemanticTokensRangeRequest) {\r\n        SemanticTokensRangeRequest.method = st.SemanticTokensRangeRequest.method;\r\n        SemanticTokensRangeRequest.type = st.SemanticTokensRangeRequest.type;\r\n    })(SemanticTokensRangeRequest = Proposed.SemanticTokensRangeRequest || (Proposed.SemanticTokensRangeRequest = {}));\r\n})(Proposed = exports.Proposed || (exports.Proposed = {}));\r\nfunction createProtocolConnection(reader, writer, logger, strategy) {\r\n    return vscode_jsonrpc_1.createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../typings/thenable.d.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nvar ProgressNotification;\r\n(function (ProgressNotification) {\r\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\r\n})(ProgressNotification || (ProgressNotification = {}));\r\nclass ProgressType {\r\n    constructor() {\r\n    }\r\n}\r\nexports.ProgressType = ProgressType;\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        if (!Is.string(value)) {\r\n            return Trace.Off;\r\n        }\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let progressHandlers = new Map();\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let unhandledProgressEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        onProgress: (_type, token, handler) => {\r\n            if (progressHandlers.has(token)) {\r\n                throw new Error(`Progress handler for token ${token} already registered`);\r\n            }\r\n            progressHandlers.set(token, handler);\r\n            return {\r\n                dispose: () => {\r\n                    progressHandlers.delete(token);\r\n                }\r\n            };\r\n        },\r\n        sendProgress: (_type, token, value) => {\r\n            connection.sendNotification(ProgressNotification.type, { token, value });\r\n        },\r\n        onUnhandledProgress: unhandledProgressEmitter.event,\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            // eslint-disable-next-line no-console\r\n            console.log('inspect');\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    connection.onNotification(ProgressNotification.type, (params) => {\r\n        const handler = progressHandlers.get(params.token);\r\n        if (handler) {\r\n            handler(params.value);\r\n        }\r\n        else {\r\n            unhandledProgressEmitter.fire(params);\r\n        }\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    ErrorCodes.ContentModified = -32801;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n *\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\n/**\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't received the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-console\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\nEmitter._noop = function () { };\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.socket.destroy();\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this.dispose();\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n    dispose() {\r\n        if (this._emitter) {\r\n            this._emitter.dispose();\r\n            this._emitter = undefined;\r\n        }\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this._token) {\r\n            // ensure to initialize with an empty token if we had none\r\n            this._token = CancellationToken.None;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually dispose\r\n            this._token.dispose();\r\n        }\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","(function (factory) {\r\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        var v = factory(require, exports);\r\n        if (v !== undefined) module.exports = v;\r\n    }\r\n    else if (typeof define === \"function\" && define.amd) {\r\n        define([\"require\", \"exports\"], factory);\r\n    }\r\n})(function (require, exports) {\r\n    /* --------------------------------------------------------------------------------------------\r\n     * Copyright (c) Microsoft Corporation. All rights reserved.\r\n     * Licensed under the MIT License. See License.txt in the project root for license information.\r\n     * ------------------------------------------------------------------------------------------ */\r\n    'use strict';\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    /**\r\n     * The Position namespace provides helper functions to work with\r\n     * [Position](#Position) literals.\r\n     */\r\n    var Position;\r\n    (function (Position) {\r\n        /**\r\n         * Creates a new Position literal from the given line and character.\r\n         * @param line The position's line.\r\n         * @param character The position's character.\r\n         */\r\n        function create(line, character) {\r\n            return { line: line, character: character };\r\n        }\r\n        Position.create = create;\r\n        /**\r\n         * Checks whether the given liternal conforms to the [Position](#Position) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\r\n        }\r\n        Position.is = is;\r\n    })(Position = exports.Position || (exports.Position = {}));\r\n    /**\r\n     * The Range namespace provides helper functions to work with\r\n     * [Range](#Range) literals.\r\n     */\r\n    var Range;\r\n    (function (Range) {\r\n        function create(one, two, three, four) {\r\n            if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\r\n                return { start: Position.create(one, two), end: Position.create(three, four) };\r\n            }\r\n            else if (Position.is(one) && Position.is(two)) {\r\n                return { start: one, end: two };\r\n            }\r\n            else {\r\n                throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n            }\r\n        }\r\n        Range.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n        }\r\n        Range.is = is;\r\n    })(Range = exports.Range || (exports.Range = {}));\r\n    /**\r\n     * The Location namespace provides helper functions to work with\r\n     * [Location](#Location) literals.\r\n     */\r\n    var Location;\r\n    (function (Location) {\r\n        /**\r\n         * Creates a Location literal.\r\n         * @param uri The location's uri.\r\n         * @param range The location's range.\r\n         */\r\n        function create(uri, range) {\r\n            return { uri: uri, range: range };\r\n        }\r\n        Location.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n        }\r\n        Location.is = is;\r\n    })(Location = exports.Location || (exports.Location = {}));\r\n    /**\r\n     * The LocationLink namespace provides helper functions to work with\r\n     * [LocationLink](#LocationLink) literals.\r\n     */\r\n    var LocationLink;\r\n    (function (LocationLink) {\r\n        /**\r\n         * Creates a LocationLink literal.\r\n         * @param targetUri The definition's uri.\r\n         * @param targetRange The full range of the definition.\r\n         * @param targetSelectionRange The span of the symbol definition at the target.\r\n         * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n         */\r\n        function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n            return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n        }\r\n        LocationLink.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n                && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n                && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n        }\r\n        LocationLink.is = is;\r\n    })(LocationLink = exports.LocationLink || (exports.LocationLink = {}));\r\n    /**\r\n     * The Color namespace provides helper functions to work with\r\n     * [Color](#Color) literals.\r\n     */\r\n    var Color;\r\n    (function (Color) {\r\n        /**\r\n         * Creates a new Color literal.\r\n         */\r\n        function create(red, green, blue, alpha) {\r\n            return {\r\n                red: red,\r\n                green: green,\r\n                blue: blue,\r\n                alpha: alpha,\r\n            };\r\n        }\r\n        Color.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.number(candidate.red)\r\n                && Is.number(candidate.green)\r\n                && Is.number(candidate.blue)\r\n                && Is.number(candidate.alpha);\r\n        }\r\n        Color.is = is;\r\n    })(Color = exports.Color || (exports.Color = {}));\r\n    /**\r\n     * The ColorInformation namespace provides helper functions to work with\r\n     * [ColorInformation](#ColorInformation) literals.\r\n     */\r\n    var ColorInformation;\r\n    (function (ColorInformation) {\r\n        /**\r\n         * Creates a new ColorInformation literal.\r\n         */\r\n        function create(range, color) {\r\n            return {\r\n                range: range,\r\n                color: color,\r\n            };\r\n        }\r\n        ColorInformation.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Range.is(candidate.range) && Color.is(candidate.color);\r\n        }\r\n        ColorInformation.is = is;\r\n    })(ColorInformation = exports.ColorInformation || (exports.ColorInformation = {}));\r\n    /**\r\n     * The Color namespace provides helper functions to work with\r\n     * [ColorPresentation](#ColorPresentation) literals.\r\n     */\r\n    var ColorPresentation;\r\n    (function (ColorPresentation) {\r\n        /**\r\n         * Creates a new ColorInformation literal.\r\n         */\r\n        function create(label, textEdit, additionalTextEdits) {\r\n            return {\r\n                label: label,\r\n                textEdit: textEdit,\r\n                additionalTextEdits: additionalTextEdits,\r\n            };\r\n        }\r\n        ColorPresentation.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.string(candidate.label)\r\n                && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n                && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n        }\r\n        ColorPresentation.is = is;\r\n    })(ColorPresentation = exports.ColorPresentation || (exports.ColorPresentation = {}));\r\n    /**\r\n     * Enum of known range kinds\r\n     */\r\n    var FoldingRangeKind;\r\n    (function (FoldingRangeKind) {\r\n        /**\r\n         * Folding range for a comment\r\n         */\r\n        FoldingRangeKind[\"Comment\"] = \"comment\";\r\n        /**\r\n         * Folding range for a imports or includes\r\n         */\r\n        FoldingRangeKind[\"Imports\"] = \"imports\";\r\n        /**\r\n         * Folding range for a region (e.g. `#region`)\r\n         */\r\n        FoldingRangeKind[\"Region\"] = \"region\";\r\n    })(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n    /**\r\n     * The folding range namespace provides helper functions to work with\r\n     * [FoldingRange](#FoldingRange) literals.\r\n     */\r\n    var FoldingRange;\r\n    (function (FoldingRange) {\r\n        /**\r\n         * Creates a new FoldingRange literal.\r\n         */\r\n        function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n            var result = {\r\n                startLine: startLine,\r\n                endLine: endLine\r\n            };\r\n            if (Is.defined(startCharacter)) {\r\n                result.startCharacter = startCharacter;\r\n            }\r\n            if (Is.defined(endCharacter)) {\r\n                result.endCharacter = endCharacter;\r\n            }\r\n            if (Is.defined(kind)) {\r\n                result.kind = kind;\r\n            }\r\n            return result;\r\n        }\r\n        FoldingRange.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.number(candidate.startLine) && Is.number(candidate.startLine)\r\n                && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\r\n                && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\r\n                && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n        }\r\n        FoldingRange.is = is;\r\n    })(FoldingRange = exports.FoldingRange || (exports.FoldingRange = {}));\r\n    /**\r\n     * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n     * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n     */\r\n    var DiagnosticRelatedInformation;\r\n    (function (DiagnosticRelatedInformation) {\r\n        /**\r\n         * Creates a new DiagnosticRelatedInformation literal.\r\n         */\r\n        function create(location, message) {\r\n            return {\r\n                location: location,\r\n                message: message\r\n            };\r\n        }\r\n        DiagnosticRelatedInformation.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n        }\r\n        DiagnosticRelatedInformation.is = is;\r\n    })(DiagnosticRelatedInformation = exports.DiagnosticRelatedInformation || (exports.DiagnosticRelatedInformation = {}));\r\n    /**\r\n     * The diagnostic's severity.\r\n     */\r\n    var DiagnosticSeverity;\r\n    (function (DiagnosticSeverity) {\r\n        /**\r\n         * Reports an error.\r\n         */\r\n        DiagnosticSeverity.Error = 1;\r\n        /**\r\n         * Reports a warning.\r\n         */\r\n        DiagnosticSeverity.Warning = 2;\r\n        /**\r\n         * Reports an information.\r\n         */\r\n        DiagnosticSeverity.Information = 3;\r\n        /**\r\n         * Reports a hint.\r\n         */\r\n        DiagnosticSeverity.Hint = 4;\r\n    })(DiagnosticSeverity = exports.DiagnosticSeverity || (exports.DiagnosticSeverity = {}));\r\n    /**\r\n     * The diagnostic tags.\r\n     *\r\n     * @since 3.15.0\r\n     */\r\n    var DiagnosticTag;\r\n    (function (DiagnosticTag) {\r\n        /**\r\n         * Unused or unnecessary code.\r\n         *\r\n         * Clients are allowed to render diagnostics with this tag faded out instead of having\r\n         * an error squiggle.\r\n         */\r\n        DiagnosticTag.Unnecessary = 1;\r\n        /**\r\n         * Deprecated or obsolete code.\r\n         *\r\n         * Clients are allowed to rendered diagnostics with this tag strike through.\r\n         */\r\n        DiagnosticTag.Deprecated = 2;\r\n    })(DiagnosticTag = exports.DiagnosticTag || (exports.DiagnosticTag = {}));\r\n    /**\r\n     * The Diagnostic namespace provides helper functions to work with\r\n     * [Diagnostic](#Diagnostic) literals.\r\n     */\r\n    var Diagnostic;\r\n    (function (Diagnostic) {\r\n        /**\r\n         * Creates a new Diagnostic literal.\r\n         */\r\n        function create(range, message, severity, code, source, relatedInformation) {\r\n            var result = { range: range, message: message };\r\n            if (Is.defined(severity)) {\r\n                result.severity = severity;\r\n            }\r\n            if (Is.defined(code)) {\r\n                result.code = code;\r\n            }\r\n            if (Is.defined(source)) {\r\n                result.source = source;\r\n            }\r\n            if (Is.defined(relatedInformation)) {\r\n                result.relatedInformation = relatedInformation;\r\n            }\r\n            return result;\r\n        }\r\n        Diagnostic.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate)\r\n                && Range.is(candidate.range)\r\n                && Is.string(candidate.message)\r\n                && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n                && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n                && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n                && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n        }\r\n        Diagnostic.is = is;\r\n    })(Diagnostic = exports.Diagnostic || (exports.Diagnostic = {}));\r\n    /**\r\n     * The Command namespace provides helper functions to work with\r\n     * [Command](#Command) literals.\r\n     */\r\n    var Command;\r\n    (function (Command) {\r\n        /**\r\n         * Creates a new Command literal.\r\n         */\r\n        function create(title, command) {\r\n            var args = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                args[_i - 2] = arguments[_i];\r\n            }\r\n            var result = { title: title, command: command };\r\n            if (Is.defined(args) && args.length > 0) {\r\n                result.arguments = args;\r\n            }\r\n            return result;\r\n        }\r\n        Command.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n        }\r\n        Command.is = is;\r\n    })(Command = exports.Command || (exports.Command = {}));\r\n    /**\r\n     * The TextEdit namespace provides helper function to create replace,\r\n     * insert and delete edits more easily.\r\n     */\r\n    var TextEdit;\r\n    (function (TextEdit) {\r\n        /**\r\n         * Creates a replace text edit.\r\n         * @param range The range of text to be replaced.\r\n         * @param newText The new text.\r\n         */\r\n        function replace(range, newText) {\r\n            return { range: range, newText: newText };\r\n        }\r\n        TextEdit.replace = replace;\r\n        /**\r\n         * Creates a insert text edit.\r\n         * @param position The position to insert the text at.\r\n         * @param newText The text to be inserted.\r\n         */\r\n        function insert(position, newText) {\r\n            return { range: { start: position, end: position }, newText: newText };\r\n        }\r\n        TextEdit.insert = insert;\r\n        /**\r\n         * Creates a delete text edit.\r\n         * @param range The range of text to be deleted.\r\n         */\r\n        function del(range) {\r\n            return { range: range, newText: '' };\r\n        }\r\n        TextEdit.del = del;\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.objectLiteral(candidate)\r\n                && Is.string(candidate.newText)\r\n                && Range.is(candidate.range);\r\n        }\r\n        TextEdit.is = is;\r\n    })(TextEdit = exports.TextEdit || (exports.TextEdit = {}));\r\n    /**\r\n     * The TextDocumentEdit namespace provides helper function to create\r\n     * an edit that manipulates a text document.\r\n     */\r\n    var TextDocumentEdit;\r\n    (function (TextDocumentEdit) {\r\n        /**\r\n         * Creates a new `TextDocumentEdit`\r\n         */\r\n        function create(textDocument, edits) {\r\n            return { textDocument: textDocument, edits: edits };\r\n        }\r\n        TextDocumentEdit.create = create;\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate)\r\n                && VersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n                && Array.isArray(candidate.edits);\r\n        }\r\n        TextDocumentEdit.is = is;\r\n    })(TextDocumentEdit = exports.TextDocumentEdit || (exports.TextDocumentEdit = {}));\r\n    var CreateFile;\r\n    (function (CreateFile) {\r\n        function create(uri, options) {\r\n            var result = {\r\n                kind: 'create',\r\n                uri: uri\r\n            };\r\n            if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n                result.options = options;\r\n            }\r\n            return result;\r\n        }\r\n        CreateFile.create = create;\r\n        function is(value) {\r\n            var candidate = value;\r\n            return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\r\n                (candidate.options === void 0 ||\r\n                    ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n        }\r\n        CreateFile.is = is;\r\n    })(CreateFile = exports.CreateFile || (exports.CreateFile = {}));\r\n    var RenameFile;\r\n    (function (RenameFile) {\r\n        function create(oldUri, newUri, options) {\r\n            var result = {\r\n                kind: 'rename',\r\n                oldUri: oldUri,\r\n                newUri: newUri\r\n            };\r\n            if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n                result.options = options;\r\n            }\r\n            return result;\r\n        }\r\n        RenameFile.create = create;\r\n        function is(value) {\r\n            var candidate = value;\r\n            return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\r\n                (candidate.options === void 0 ||\r\n                    ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n        }\r\n        RenameFile.is = is;\r\n    })(RenameFile = exports.RenameFile || (exports.RenameFile = {}));\r\n    var DeleteFile;\r\n    (function (DeleteFile) {\r\n        function create(uri, options) {\r\n            var result = {\r\n                kind: 'delete',\r\n                uri: uri\r\n            };\r\n            if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n                result.options = options;\r\n            }\r\n            return result;\r\n        }\r\n        DeleteFile.create = create;\r\n        function is(value) {\r\n            var candidate = value;\r\n            return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\r\n                (candidate.options === void 0 ||\r\n                    ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\r\n        }\r\n        DeleteFile.is = is;\r\n    })(DeleteFile = exports.DeleteFile || (exports.DeleteFile = {}));\r\n    var WorkspaceEdit;\r\n    (function (WorkspaceEdit) {\r\n        function is(value) {\r\n            var candidate = value;\r\n            return candidate &&\r\n                (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\r\n                (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\r\n                    if (Is.string(change.kind)) {\r\n                        return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                    }\r\n                    else {\r\n                        return TextDocumentEdit.is(change);\r\n                    }\r\n                }));\r\n        }\r\n        WorkspaceEdit.is = is;\r\n    })(WorkspaceEdit = exports.WorkspaceEdit || (exports.WorkspaceEdit = {}));\r\n    var TextEditChangeImpl = /** @class */ (function () {\r\n        function TextEditChangeImpl(edits) {\r\n            this.edits = edits;\r\n        }\r\n        TextEditChangeImpl.prototype.insert = function (position, newText) {\r\n            this.edits.push(TextEdit.insert(position, newText));\r\n        };\r\n        TextEditChangeImpl.prototype.replace = function (range, newText) {\r\n            this.edits.push(TextEdit.replace(range, newText));\r\n        };\r\n        TextEditChangeImpl.prototype.delete = function (range) {\r\n            this.edits.push(TextEdit.del(range));\r\n        };\r\n        TextEditChangeImpl.prototype.add = function (edit) {\r\n            this.edits.push(edit);\r\n        };\r\n        TextEditChangeImpl.prototype.all = function () {\r\n            return this.edits;\r\n        };\r\n        TextEditChangeImpl.prototype.clear = function () {\r\n            this.edits.splice(0, this.edits.length);\r\n        };\r\n        return TextEditChangeImpl;\r\n    }());\r\n    /**\r\n     * A workspace change helps constructing changes to a workspace.\r\n     */\r\n    var WorkspaceChange = /** @class */ (function () {\r\n        function WorkspaceChange(workspaceEdit) {\r\n            var _this = this;\r\n            this._textEditChanges = Object.create(null);\r\n            if (workspaceEdit) {\r\n                this._workspaceEdit = workspaceEdit;\r\n                if (workspaceEdit.documentChanges) {\r\n                    workspaceEdit.documentChanges.forEach(function (change) {\r\n                        if (TextDocumentEdit.is(change)) {\r\n                            var textEditChange = new TextEditChangeImpl(change.edits);\r\n                            _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                        }\r\n                    });\r\n                }\r\n                else if (workspaceEdit.changes) {\r\n                    Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                        var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                        _this._textEditChanges[key] = textEditChange;\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n            /**\r\n             * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n             * use to be returned from a workspace edit operation like rename.\r\n             */\r\n            get: function () {\r\n                return this._workspaceEdit;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n            if (VersionedTextDocumentIdentifier.is(key)) {\r\n                if (!this._workspaceEdit) {\r\n                    this._workspaceEdit = {\r\n                        documentChanges: []\r\n                    };\r\n                }\r\n                if (!this._workspaceEdit.documentChanges) {\r\n                    throw new Error('Workspace edit is not configured for document changes.');\r\n                }\r\n                var textDocument = key;\r\n                var result = this._textEditChanges[textDocument.uri];\r\n                if (!result) {\r\n                    var edits = [];\r\n                    var textDocumentEdit = {\r\n                        textDocument: textDocument,\r\n                        edits: edits\r\n                    };\r\n                    this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                    result = new TextEditChangeImpl(edits);\r\n                    this._textEditChanges[textDocument.uri] = result;\r\n                }\r\n                return result;\r\n            }\r\n            else {\r\n                if (!this._workspaceEdit) {\r\n                    this._workspaceEdit = {\r\n                        changes: Object.create(null)\r\n                    };\r\n                }\r\n                if (!this._workspaceEdit.changes) {\r\n                    throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n                }\r\n                var result = this._textEditChanges[key];\r\n                if (!result) {\r\n                    var edits = [];\r\n                    this._workspaceEdit.changes[key] = edits;\r\n                    result = new TextEditChangeImpl(edits);\r\n                    this._textEditChanges[key] = result;\r\n                }\r\n                return result;\r\n            }\r\n        };\r\n        WorkspaceChange.prototype.createFile = function (uri, options) {\r\n            this.checkDocumentChanges();\r\n            this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\r\n        };\r\n        WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\r\n            this.checkDocumentChanges();\r\n            this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\r\n        };\r\n        WorkspaceChange.prototype.deleteFile = function (uri, options) {\r\n            this.checkDocumentChanges();\r\n            this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\r\n        };\r\n        WorkspaceChange.prototype.checkDocumentChanges = function () {\r\n            if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n        };\r\n        return WorkspaceChange;\r\n    }());\r\n    exports.WorkspaceChange = WorkspaceChange;\r\n    /**\r\n     * The TextDocumentIdentifier namespace provides helper functions to work with\r\n     * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n     */\r\n    var TextDocumentIdentifier;\r\n    (function (TextDocumentIdentifier) {\r\n        /**\r\n         * Creates a new TextDocumentIdentifier literal.\r\n         * @param uri The document's uri.\r\n         */\r\n        function create(uri) {\r\n            return { uri: uri };\r\n        }\r\n        TextDocumentIdentifier.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Is.string(candidate.uri);\r\n        }\r\n        TextDocumentIdentifier.is = is;\r\n    })(TextDocumentIdentifier = exports.TextDocumentIdentifier || (exports.TextDocumentIdentifier = {}));\r\n    /**\r\n     * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n     * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n     */\r\n    var VersionedTextDocumentIdentifier;\r\n    (function (VersionedTextDocumentIdentifier) {\r\n        /**\r\n         * Creates a new VersionedTextDocumentIdentifier literal.\r\n         * @param uri The document's uri.\r\n         * @param uri The document's text.\r\n         */\r\n        function create(uri, version) {\r\n            return { uri: uri, version: version };\r\n        }\r\n        VersionedTextDocumentIdentifier.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\r\n        }\r\n        VersionedTextDocumentIdentifier.is = is;\r\n    })(VersionedTextDocumentIdentifier = exports.VersionedTextDocumentIdentifier || (exports.VersionedTextDocumentIdentifier = {}));\r\n    /**\r\n     * The TextDocumentItem namespace provides helper functions to work with\r\n     * [TextDocumentItem](#TextDocumentItem) literals.\r\n     */\r\n    var TextDocumentItem;\r\n    (function (TextDocumentItem) {\r\n        /**\r\n         * Creates a new TextDocumentItem literal.\r\n         * @param uri The document's uri.\r\n         * @param languageId The document's language identifier.\r\n         * @param version The document's version number.\r\n         * @param text The document's text.\r\n         */\r\n        function create(uri, languageId, version, text) {\r\n            return { uri: uri, languageId: languageId, version: version, text: text };\r\n        }\r\n        TextDocumentItem.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\r\n        }\r\n        TextDocumentItem.is = is;\r\n    })(TextDocumentItem = exports.TextDocumentItem || (exports.TextDocumentItem = {}));\r\n    /**\r\n     * Describes the content type that a client supports in various\r\n     * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n     *\r\n     * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n     * are reserved for internal usage.\r\n     */\r\n    var MarkupKind;\r\n    (function (MarkupKind) {\r\n        /**\r\n         * Plain text is supported as a content format\r\n         */\r\n        MarkupKind.PlainText = 'plaintext';\r\n        /**\r\n         * Markdown is supported as a content format\r\n         */\r\n        MarkupKind.Markdown = 'markdown';\r\n    })(MarkupKind = exports.MarkupKind || (exports.MarkupKind = {}));\r\n    (function (MarkupKind) {\r\n        /**\r\n         * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n        }\r\n        MarkupKind.is = is;\r\n    })(MarkupKind = exports.MarkupKind || (exports.MarkupKind = {}));\r\n    var MarkupContent;\r\n    (function (MarkupContent) {\r\n        /**\r\n         * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n        }\r\n        MarkupContent.is = is;\r\n    })(MarkupContent = exports.MarkupContent || (exports.MarkupContent = {}));\r\n    /**\r\n     * The kind of a completion entry.\r\n     */\r\n    var CompletionItemKind;\r\n    (function (CompletionItemKind) {\r\n        CompletionItemKind.Text = 1;\r\n        CompletionItemKind.Method = 2;\r\n        CompletionItemKind.Function = 3;\r\n        CompletionItemKind.Constructor = 4;\r\n        CompletionItemKind.Field = 5;\r\n        CompletionItemKind.Variable = 6;\r\n        CompletionItemKind.Class = 7;\r\n        CompletionItemKind.Interface = 8;\r\n        CompletionItemKind.Module = 9;\r\n        CompletionItemKind.Property = 10;\r\n        CompletionItemKind.Unit = 11;\r\n        CompletionItemKind.Value = 12;\r\n        CompletionItemKind.Enum = 13;\r\n        CompletionItemKind.Keyword = 14;\r\n        CompletionItemKind.Snippet = 15;\r\n        CompletionItemKind.Color = 16;\r\n        CompletionItemKind.File = 17;\r\n        CompletionItemKind.Reference = 18;\r\n        CompletionItemKind.Folder = 19;\r\n        CompletionItemKind.EnumMember = 20;\r\n        CompletionItemKind.Constant = 21;\r\n        CompletionItemKind.Struct = 22;\r\n        CompletionItemKind.Event = 23;\r\n        CompletionItemKind.Operator = 24;\r\n        CompletionItemKind.TypeParameter = 25;\r\n    })(CompletionItemKind = exports.CompletionItemKind || (exports.CompletionItemKind = {}));\r\n    /**\r\n     * Defines whether the insert text in a completion item should be interpreted as\r\n     * plain text or a snippet.\r\n     */\r\n    var InsertTextFormat;\r\n    (function (InsertTextFormat) {\r\n        /**\r\n         * The primary text to be inserted is treated as a plain string.\r\n         */\r\n        InsertTextFormat.PlainText = 1;\r\n        /**\r\n         * The primary text to be inserted is treated as a snippet.\r\n         *\r\n         * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n         * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n         * the end of the snippet. Placeholders with equal identifiers are linked,\r\n         * that is typing in one will update others too.\r\n         *\r\n         * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\r\n         */\r\n        InsertTextFormat.Snippet = 2;\r\n    })(InsertTextFormat = exports.InsertTextFormat || (exports.InsertTextFormat = {}));\r\n    /**\r\n     * Completion item tags are extra annotations that tweak the rendering of a completion\r\n     * item.\r\n     *\r\n     * @since 3.15.0\r\n     */\r\n    var CompletionItemTag;\r\n    (function (CompletionItemTag) {\r\n        /**\r\n         * Render a completion as obsolete, usually using a strike-out.\r\n         */\r\n        CompletionItemTag.Deprecated = 1;\r\n    })(CompletionItemTag = exports.CompletionItemTag || (exports.CompletionItemTag = {}));\r\n    /**\r\n     * The CompletionItem namespace provides functions to deal with\r\n     * completion items.\r\n     */\r\n    var CompletionItem;\r\n    (function (CompletionItem) {\r\n        /**\r\n         * Create a completion item and seed it with a label.\r\n         * @param label The completion item's label\r\n         */\r\n        function create(label) {\r\n            return { label: label };\r\n        }\r\n        CompletionItem.create = create;\r\n    })(CompletionItem = exports.CompletionItem || (exports.CompletionItem = {}));\r\n    /**\r\n     * The CompletionList namespace provides functions to deal with\r\n     * completion lists.\r\n     */\r\n    var CompletionList;\r\n    (function (CompletionList) {\r\n        /**\r\n         * Creates a new completion list.\r\n         *\r\n         * @param items The completion items.\r\n         * @param isIncomplete The list is not complete.\r\n         */\r\n        function create(items, isIncomplete) {\r\n            return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n        }\r\n        CompletionList.create = create;\r\n    })(CompletionList = exports.CompletionList || (exports.CompletionList = {}));\r\n    var MarkedString;\r\n    (function (MarkedString) {\r\n        /**\r\n         * Creates a marked string from plain text.\r\n         *\r\n         * @param plainText The plain text.\r\n         */\r\n        function fromPlainText(plainText) {\r\n            return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n        }\r\n        MarkedString.fromPlainText = fromPlainText;\r\n        /**\r\n         * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n        }\r\n        MarkedString.is = is;\r\n    })(MarkedString = exports.MarkedString || (exports.MarkedString = {}));\r\n    var Hover;\r\n    (function (Hover) {\r\n        /**\r\n         * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n                MarkedString.is(candidate.contents) ||\r\n                Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n        }\r\n        Hover.is = is;\r\n    })(Hover = exports.Hover || (exports.Hover = {}));\r\n    /**\r\n     * The ParameterInformation namespace provides helper functions to work with\r\n     * [ParameterInformation](#ParameterInformation) literals.\r\n     */\r\n    var ParameterInformation;\r\n    (function (ParameterInformation) {\r\n        /**\r\n         * Creates a new parameter information literal.\r\n         *\r\n         * @param label A label string.\r\n         * @param documentation A doc string.\r\n         */\r\n        function create(label, documentation) {\r\n            return documentation ? { label: label, documentation: documentation } : { label: label };\r\n        }\r\n        ParameterInformation.create = create;\r\n    })(ParameterInformation = exports.ParameterInformation || (exports.ParameterInformation = {}));\r\n    /**\r\n     * The SignatureInformation namespace provides helper functions to work with\r\n     * [SignatureInformation](#SignatureInformation) literals.\r\n     */\r\n    var SignatureInformation;\r\n    (function (SignatureInformation) {\r\n        function create(label, documentation) {\r\n            var parameters = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                parameters[_i - 2] = arguments[_i];\r\n            }\r\n            var result = { label: label };\r\n            if (Is.defined(documentation)) {\r\n                result.documentation = documentation;\r\n            }\r\n            if (Is.defined(parameters)) {\r\n                result.parameters = parameters;\r\n            }\r\n            else {\r\n                result.parameters = [];\r\n            }\r\n            return result;\r\n        }\r\n        SignatureInformation.create = create;\r\n    })(SignatureInformation = exports.SignatureInformation || (exports.SignatureInformation = {}));\r\n    /**\r\n     * A document highlight kind.\r\n     */\r\n    var DocumentHighlightKind;\r\n    (function (DocumentHighlightKind) {\r\n        /**\r\n         * A textual occurrence.\r\n         */\r\n        DocumentHighlightKind.Text = 1;\r\n        /**\r\n         * Read-access of a symbol, like reading a variable.\r\n         */\r\n        DocumentHighlightKind.Read = 2;\r\n        /**\r\n         * Write-access of a symbol, like writing to a variable.\r\n         */\r\n        DocumentHighlightKind.Write = 3;\r\n    })(DocumentHighlightKind = exports.DocumentHighlightKind || (exports.DocumentHighlightKind = {}));\r\n    /**\r\n     * DocumentHighlight namespace to provide helper functions to work with\r\n     * [DocumentHighlight](#DocumentHighlight) literals.\r\n     */\r\n    var DocumentHighlight;\r\n    (function (DocumentHighlight) {\r\n        /**\r\n         * Create a DocumentHighlight object.\r\n         * @param range The range the highlight applies to.\r\n         */\r\n        function create(range, kind) {\r\n            var result = { range: range };\r\n            if (Is.number(kind)) {\r\n                result.kind = kind;\r\n            }\r\n            return result;\r\n        }\r\n        DocumentHighlight.create = create;\r\n    })(DocumentHighlight = exports.DocumentHighlight || (exports.DocumentHighlight = {}));\r\n    /**\r\n     * A symbol kind.\r\n     */\r\n    var SymbolKind;\r\n    (function (SymbolKind) {\r\n        SymbolKind.File = 1;\r\n        SymbolKind.Module = 2;\r\n        SymbolKind.Namespace = 3;\r\n        SymbolKind.Package = 4;\r\n        SymbolKind.Class = 5;\r\n        SymbolKind.Method = 6;\r\n        SymbolKind.Property = 7;\r\n        SymbolKind.Field = 8;\r\n        SymbolKind.Constructor = 9;\r\n        SymbolKind.Enum = 10;\r\n        SymbolKind.Interface = 11;\r\n        SymbolKind.Function = 12;\r\n        SymbolKind.Variable = 13;\r\n        SymbolKind.Constant = 14;\r\n        SymbolKind.String = 15;\r\n        SymbolKind.Number = 16;\r\n        SymbolKind.Boolean = 17;\r\n        SymbolKind.Array = 18;\r\n        SymbolKind.Object = 19;\r\n        SymbolKind.Key = 20;\r\n        SymbolKind.Null = 21;\r\n        SymbolKind.EnumMember = 22;\r\n        SymbolKind.Struct = 23;\r\n        SymbolKind.Event = 24;\r\n        SymbolKind.Operator = 25;\r\n        SymbolKind.TypeParameter = 26;\r\n    })(SymbolKind = exports.SymbolKind || (exports.SymbolKind = {}));\r\n    /**\r\n     * Symbol tags are extra annotations that tweak the rendering of a symbol.\r\n     * @since 3.15\r\n     */\r\n    var SymbolTag;\r\n    (function (SymbolTag) {\r\n        /**\r\n         * Render a symbol as obsolete, usually using a strike-out.\r\n         */\r\n        SymbolTag.Deprecated = 1;\r\n    })(SymbolTag = exports.SymbolTag || (exports.SymbolTag = {}));\r\n    var SymbolInformation;\r\n    (function (SymbolInformation) {\r\n        /**\r\n         * Creates a new symbol information literal.\r\n         *\r\n         * @param name The name of the symbol.\r\n         * @param kind The kind of the symbol.\r\n         * @param range The range of the location of the symbol.\r\n         * @param uri The resource of the location of symbol, defaults to the current document.\r\n         * @param containerName The name of the symbol containing the symbol.\r\n         */\r\n        function create(name, kind, range, uri, containerName) {\r\n            var result = {\r\n                name: name,\r\n                kind: kind,\r\n                location: { uri: uri, range: range }\r\n            };\r\n            if (containerName) {\r\n                result.containerName = containerName;\r\n            }\r\n            return result;\r\n        }\r\n        SymbolInformation.create = create;\r\n    })(SymbolInformation = exports.SymbolInformation || (exports.SymbolInformation = {}));\r\n    var DocumentSymbol;\r\n    (function (DocumentSymbol) {\r\n        /**\r\n         * Creates a new symbol information literal.\r\n         *\r\n         * @param name The name of the symbol.\r\n         * @param detail The detail of the symbol.\r\n         * @param kind The kind of the symbol.\r\n         * @param range The range of the symbol.\r\n         * @param selectionRange The selectionRange of the symbol.\r\n         * @param children Children of the symbol.\r\n         */\r\n        function create(name, detail, kind, range, selectionRange, children) {\r\n            var result = {\r\n                name: name,\r\n                detail: detail,\r\n                kind: kind,\r\n                range: range,\r\n                selectionRange: selectionRange\r\n            };\r\n            if (children !== void 0) {\r\n                result.children = children;\r\n            }\r\n            return result;\r\n        }\r\n        DocumentSymbol.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return candidate &&\r\n                Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n                Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n                (candidate.detail === void 0 || Is.string(candidate.detail)) &&\r\n                (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\r\n                (candidate.children === void 0 || Array.isArray(candidate.children));\r\n        }\r\n        DocumentSymbol.is = is;\r\n    })(DocumentSymbol = exports.DocumentSymbol || (exports.DocumentSymbol = {}));\r\n    /**\r\n     * A set of predefined code action kinds\r\n     */\r\n    var CodeActionKind;\r\n    (function (CodeActionKind) {\r\n        /**\r\n         * Empty kind.\r\n         */\r\n        CodeActionKind.Empty = '';\r\n        /**\r\n         * Base kind for quickfix actions: 'quickfix'\r\n         */\r\n        CodeActionKind.QuickFix = 'quickfix';\r\n        /**\r\n         * Base kind for refactoring actions: 'refactor'\r\n         */\r\n        CodeActionKind.Refactor = 'refactor';\r\n        /**\r\n         * Base kind for refactoring extraction actions: 'refactor.extract'\r\n         *\r\n         * Example extract actions:\r\n         *\r\n         * - Extract method\r\n         * - Extract function\r\n         * - Extract variable\r\n         * - Extract interface from class\r\n         * - ...\r\n         */\r\n        CodeActionKind.RefactorExtract = 'refactor.extract';\r\n        /**\r\n         * Base kind for refactoring inline actions: 'refactor.inline'\r\n         *\r\n         * Example inline actions:\r\n         *\r\n         * - Inline function\r\n         * - Inline variable\r\n         * - Inline constant\r\n         * - ...\r\n         */\r\n        CodeActionKind.RefactorInline = 'refactor.inline';\r\n        /**\r\n         * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n         *\r\n         * Example rewrite actions:\r\n         *\r\n         * - Convert JavaScript function to class\r\n         * - Add or remove parameter\r\n         * - Encapsulate field\r\n         * - Make method static\r\n         * - Move method to base class\r\n         * - ...\r\n         */\r\n        CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n        /**\r\n         * Base kind for source actions: `source`\r\n         *\r\n         * Source code actions apply to the entire file.\r\n         */\r\n        CodeActionKind.Source = 'source';\r\n        /**\r\n         * Base kind for an organize imports source action: `source.organizeImports`\r\n         */\r\n        CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n        /**\r\n         * Base kind for auto-fix source actions: `source.fixAll`.\r\n         *\r\n         * Fix all actions automatically fix errors that have a clear fix that do not require user input.\r\n         * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\r\n         *\r\n         * @since 3.15.0\r\n         */\r\n        CodeActionKind.SourceFixAll = 'source.fixAll';\r\n    })(CodeActionKind = exports.CodeActionKind || (exports.CodeActionKind = {}));\r\n    /**\r\n     * The CodeActionContext namespace provides helper functions to work with\r\n     * [CodeActionContext](#CodeActionContext) literals.\r\n     */\r\n    var CodeActionContext;\r\n    (function (CodeActionContext) {\r\n        /**\r\n         * Creates a new CodeActionContext literal.\r\n         */\r\n        function create(diagnostics, only) {\r\n            var result = { diagnostics: diagnostics };\r\n            if (only !== void 0 && only !== null) {\r\n                result.only = only;\r\n            }\r\n            return result;\r\n        }\r\n        CodeActionContext.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\r\n        }\r\n        CodeActionContext.is = is;\r\n    })(CodeActionContext = exports.CodeActionContext || (exports.CodeActionContext = {}));\r\n    var CodeAction;\r\n    (function (CodeAction) {\r\n        function create(title, commandOrEdit, kind) {\r\n            var result = { title: title };\r\n            if (Command.is(commandOrEdit)) {\r\n                result.command = commandOrEdit;\r\n            }\r\n            else {\r\n                result.edit = commandOrEdit;\r\n            }\r\n            if (kind !== void 0) {\r\n                result.kind = kind;\r\n            }\r\n            return result;\r\n        }\r\n        CodeAction.create = create;\r\n        function is(value) {\r\n            var candidate = value;\r\n            return candidate && Is.string(candidate.title) &&\r\n                (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n                (candidate.kind === void 0 || Is.string(candidate.kind)) &&\r\n                (candidate.edit !== void 0 || candidate.command !== void 0) &&\r\n                (candidate.command === void 0 || Command.is(candidate.command)) &&\r\n                (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) &&\r\n                (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n        }\r\n        CodeAction.is = is;\r\n    })(CodeAction = exports.CodeAction || (exports.CodeAction = {}));\r\n    /**\r\n     * The CodeLens namespace provides helper functions to work with\r\n     * [CodeLens](#CodeLens) literals.\r\n     */\r\n    var CodeLens;\r\n    (function (CodeLens) {\r\n        /**\r\n         * Creates a new CodeLens literal.\r\n         */\r\n        function create(range, data) {\r\n            var result = { range: range };\r\n            if (Is.defined(data)) {\r\n                result.data = data;\r\n            }\r\n            return result;\r\n        }\r\n        CodeLens.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n        }\r\n        CodeLens.is = is;\r\n    })(CodeLens = exports.CodeLens || (exports.CodeLens = {}));\r\n    /**\r\n     * The FormattingOptions namespace provides helper functions to work with\r\n     * [FormattingOptions](#FormattingOptions) literals.\r\n     */\r\n    var FormattingOptions;\r\n    (function (FormattingOptions) {\r\n        /**\r\n         * Creates a new FormattingOptions literal.\r\n         */\r\n        function create(tabSize, insertSpaces) {\r\n            return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n        }\r\n        FormattingOptions.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n        }\r\n        FormattingOptions.is = is;\r\n    })(FormattingOptions = exports.FormattingOptions || (exports.FormattingOptions = {}));\r\n    /**\r\n     * The DocumentLink namespace provides helper functions to work with\r\n     * [DocumentLink](#DocumentLink) literals.\r\n     */\r\n    var DocumentLink;\r\n    (function (DocumentLink) {\r\n        /**\r\n         * Creates a new DocumentLink literal.\r\n         */\r\n        function create(range, target, data) {\r\n            return { range: range, target: target, data: data };\r\n        }\r\n        DocumentLink.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n        }\r\n        DocumentLink.is = is;\r\n    })(DocumentLink = exports.DocumentLink || (exports.DocumentLink = {}));\r\n    /**\r\n     * The SelectionRange namespace provides helper function to work with\r\n     * SelectionRange literals.\r\n     */\r\n    var SelectionRange;\r\n    (function (SelectionRange) {\r\n        /**\r\n         * Creates a new SelectionRange\r\n         * @param range the range.\r\n         * @param parent an optional parent.\r\n         */\r\n        function create(range, parent) {\r\n            return { range: range, parent: parent };\r\n        }\r\n        SelectionRange.create = create;\r\n        function is(value) {\r\n            var candidate = value;\r\n            return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\r\n        }\r\n        SelectionRange.is = is;\r\n    })(SelectionRange = exports.SelectionRange || (exports.SelectionRange = {}));\r\n    exports.EOL = ['\\n', '\\r\\n', '\\r'];\r\n    /**\r\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\r\n     */\r\n    var TextDocument;\r\n    (function (TextDocument) {\r\n        /**\r\n         * Creates a new ITextDocument literal from the given uri and content.\r\n         * @param uri The document's uri.\r\n         * @param languageId  The document's language Id.\r\n         * @param content The document's content.\r\n         */\r\n        function create(uri, languageId, version, content) {\r\n            return new FullTextDocument(uri, languageId, version, content);\r\n        }\r\n        TextDocument.create = create;\r\n        /**\r\n         * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n         */\r\n        function is(value) {\r\n            var candidate = value;\r\n            return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\r\n                && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n        }\r\n        TextDocument.is = is;\r\n        function applyEdits(document, edits) {\r\n            var text = document.getText();\r\n            var sortedEdits = mergeSort(edits, function (a, b) {\r\n                var diff = a.range.start.line - b.range.start.line;\r\n                if (diff === 0) {\r\n                    return a.range.start.character - b.range.start.character;\r\n                }\r\n                return diff;\r\n            });\r\n            var lastModifiedOffset = text.length;\r\n            for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n                var e = sortedEdits[i];\r\n                var startOffset = document.offsetAt(e.range.start);\r\n                var endOffset = document.offsetAt(e.range.end);\r\n                if (endOffset <= lastModifiedOffset) {\r\n                    text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n                }\r\n                else {\r\n                    throw new Error('Overlapping edit');\r\n                }\r\n                lastModifiedOffset = startOffset;\r\n            }\r\n            return text;\r\n        }\r\n        TextDocument.applyEdits = applyEdits;\r\n        function mergeSort(data, compare) {\r\n            if (data.length <= 1) {\r\n                // sorted\r\n                return data;\r\n            }\r\n            var p = (data.length / 2) | 0;\r\n            var left = data.slice(0, p);\r\n            var right = data.slice(p);\r\n            mergeSort(left, compare);\r\n            mergeSort(right, compare);\r\n            var leftIdx = 0;\r\n            var rightIdx = 0;\r\n            var i = 0;\r\n            while (leftIdx < left.length && rightIdx < right.length) {\r\n                var ret = compare(left[leftIdx], right[rightIdx]);\r\n                if (ret <= 0) {\r\n                    // smaller_equal -> take left to preserve order\r\n                    data[i++] = left[leftIdx++];\r\n                }\r\n                else {\r\n                    // greater -> take right\r\n                    data[i++] = right[rightIdx++];\r\n                }\r\n            }\r\n            while (leftIdx < left.length) {\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            while (rightIdx < right.length) {\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n            return data;\r\n        }\r\n    })(TextDocument = exports.TextDocument || (exports.TextDocument = {}));\r\n    var FullTextDocument = /** @class */ (function () {\r\n        function FullTextDocument(uri, languageId, version, content) {\r\n            this._uri = uri;\r\n            this._languageId = languageId;\r\n            this._version = version;\r\n            this._content = content;\r\n            this._lineOffsets = undefined;\r\n        }\r\n        Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n            get: function () {\r\n                return this._uri;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n            get: function () {\r\n                return this._languageId;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n            get: function () {\r\n                return this._version;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        FullTextDocument.prototype.getText = function (range) {\r\n            if (range) {\r\n                var start = this.offsetAt(range.start);\r\n                var end = this.offsetAt(range.end);\r\n                return this._content.substring(start, end);\r\n            }\r\n            return this._content;\r\n        };\r\n        FullTextDocument.prototype.update = function (event, version) {\r\n            this._content = event.text;\r\n            this._version = version;\r\n            this._lineOffsets = undefined;\r\n        };\r\n        FullTextDocument.prototype.getLineOffsets = function () {\r\n            if (this._lineOffsets === undefined) {\r\n                var lineOffsets = [];\r\n                var text = this._content;\r\n                var isLineStart = true;\r\n                for (var i = 0; i < text.length; i++) {\r\n                    if (isLineStart) {\r\n                        lineOffsets.push(i);\r\n                        isLineStart = false;\r\n                    }\r\n                    var ch = text.charAt(i);\r\n                    isLineStart = (ch === '\\r' || ch === '\\n');\r\n                    if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                        i++;\r\n                    }\r\n                }\r\n                if (isLineStart && text.length > 0) {\r\n                    lineOffsets.push(text.length);\r\n                }\r\n                this._lineOffsets = lineOffsets;\r\n            }\r\n            return this._lineOffsets;\r\n        };\r\n        FullTextDocument.prototype.positionAt = function (offset) {\r\n            offset = Math.max(Math.min(offset, this._content.length), 0);\r\n            var lineOffsets = this.getLineOffsets();\r\n            var low = 0, high = lineOffsets.length;\r\n            if (high === 0) {\r\n                return Position.create(0, offset);\r\n            }\r\n            while (low < high) {\r\n                var mid = Math.floor((low + high) / 2);\r\n                if (lineOffsets[mid] > offset) {\r\n                    high = mid;\r\n                }\r\n                else {\r\n                    low = mid + 1;\r\n                }\r\n            }\r\n            // low is the least x for which the line offset is larger than the current offset\r\n            // or array.length if no line offset is larger than the current offset\r\n            var line = low - 1;\r\n            return Position.create(line, offset - lineOffsets[line]);\r\n        };\r\n        FullTextDocument.prototype.offsetAt = function (position) {\r\n            var lineOffsets = this.getLineOffsets();\r\n            if (position.line >= lineOffsets.length) {\r\n                return this._content.length;\r\n            }\r\n            else if (position.line < 0) {\r\n                return 0;\r\n            }\r\n            var lineOffset = lineOffsets[position.line];\r\n            var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n            return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n        };\r\n        Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n            get: function () {\r\n                return this.getLineOffsets().length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        return FullTextDocument;\r\n    }());\r\n    var Is;\r\n    (function (Is) {\r\n        var toString = Object.prototype.toString;\r\n        function defined(value) {\r\n            return typeof value !== 'undefined';\r\n        }\r\n        Is.defined = defined;\r\n        function undefined(value) {\r\n            return typeof value === 'undefined';\r\n        }\r\n        Is.undefined = undefined;\r\n        function boolean(value) {\r\n            return value === true || value === false;\r\n        }\r\n        Is.boolean = boolean;\r\n        function string(value) {\r\n            return toString.call(value) === '[object String]';\r\n        }\r\n        Is.string = string;\r\n        function number(value) {\r\n            return toString.call(value) === '[object Number]';\r\n        }\r\n        Is.number = number;\r\n        function func(value) {\r\n            return toString.call(value) === '[object Function]';\r\n        }\r\n        Is.func = func;\r\n        function objectLiteral(value) {\r\n            // Strictly speaking class instances pass this check as well. Since the LSP\r\n            // doesn't use classes we ignore this for now. If we do we need to add something\r\n            // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n            return value !== null && typeof value === 'object';\r\n        }\r\n        Is.objectLiteral = objectLiteral;\r\n        function typedArray(value, check) {\r\n            return Array.isArray(value) && value.every(check);\r\n        }\r\n        Is.typedArray = typedArray;\r\n    })(Is || (Is = {}));\r\n});\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nexports.ImplementationRequest = protocol_implementation_1.ImplementationRequest;\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nexports.TypeDefinitionRequest = protocol_typeDefinition_1.TypeDefinitionRequest;\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nexports.WorkspaceFoldersRequest = protocol_workspaceFolders_1.WorkspaceFoldersRequest;\r\nexports.DidChangeWorkspaceFoldersNotification = protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nexports.ConfigurationRequest = protocol_configuration_1.ConfigurationRequest;\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nexports.DocumentColorRequest = protocol_colorProvider_1.DocumentColorRequest;\r\nexports.ColorPresentationRequest = protocol_colorProvider_1.ColorPresentationRequest;\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nexports.FoldingRangeRequest = protocol_foldingRange_1.FoldingRangeRequest;\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nexports.DeclarationRequest = protocol_declaration_1.DeclarationRequest;\r\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\r\nexports.SelectionRangeRequest = protocol_selectionRange_1.SelectionRangeRequest;\r\nconst protocol_progress_1 = require(\"./protocol.progress\");\r\nexports.WorkDoneProgress = protocol_progress_1.WorkDoneProgress;\r\nexports.WorkDoneProgressCreateRequest = protocol_progress_1.WorkDoneProgressCreateRequest;\r\nexports.WorkDoneProgressCancelNotification = protocol_progress_1.WorkDoneProgressCancelNotification;\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * The DocumentFilter namespace provides helper functions to work with\r\n * [DocumentFilter](#DocumentFilter) literals.\r\n */\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The DocumentSelector namespace provides helper functions to work with\r\n * [DocumentSelector](#DocumentSelector)s.\r\n */\r\nvar DocumentSelector;\r\n(function (DocumentSelector) {\r\n    function is(value) {\r\n        if (!Array.isArray(value)) {\r\n            return false;\r\n        }\r\n        for (let elem of value) {\r\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    DocumentSelector.is = is;\r\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling startegy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guarantee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * The StaticRegistrationOptions namespace provides helper functions to work with\r\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\r\n */\r\nvar StaticRegistrationOptions;\r\n(function (StaticRegistrationOptions) {\r\n    function hasId(value) {\r\n        const candidate = value;\r\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\r\n    }\r\n    StaticRegistrationOptions.hasId = hasId;\r\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\r\n/**\r\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\r\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\r\n */\r\nvar TextDocumentRegistrationOptions;\r\n(function (TextDocumentRegistrationOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\r\n    }\r\n    TextDocumentRegistrationOptions.is = is;\r\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\r\n/**\r\n * The WorkDoneProgressOptions namespace provides helper functions to work with\r\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\r\n */\r\nvar WorkDoneProgressOptions;\r\n(function (WorkDoneProgressOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\r\n    }\r\n    WorkDoneProgressOptions.is = is;\r\n    function hasWorkDoneProgress(value) {\r\n        const candidate = value;\r\n        return candidate && Is.boolean(candidate.workDoneProgress);\r\n    }\r\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\r\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The intialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\r\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\r\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\r\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\r\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nvar TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\r\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\r\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.method = 'textDocument/completion';\r\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\r\n    /** @deprecated Use CompletionRequest.type */\r\n    CompletionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.method = 'completionItem/resolve';\r\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.method = 'textDocument/hover';\r\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\n/**\r\n * How a signature help was triggered.\r\n *\r\n * @since 3.15.0\r\n */\r\nvar SignatureHelpTriggerKind;\r\n(function (SignatureHelpTriggerKind) {\r\n    /**\r\n     * Signature help was invoked manually by the user or by a command.\r\n     */\r\n    SignatureHelpTriggerKind.Invoked = 1;\r\n    /**\r\n     * Signature help was triggered by a trigger character.\r\n     */\r\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Signature help was triggered by the cursor moving or by the document content changing.\r\n     */\r\n    SignatureHelpTriggerKind.ContentChange = 3;\r\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\r\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.method = 'textDocument/definition';\r\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\r\n    /** @deprecated Use DefinitionRequest.type */\r\n    DefinitionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.method = 'textDocument/references';\r\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\r\n    /** @deprecated Use ReferencesRequest.type */\r\n    ReferencesRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\r\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\r\n    /** @deprecated Use DocumentHighlightRequest.type */\r\n    DocumentHighlightRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\r\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\r\n    /** @deprecated Use DocumentSymbolRequest.type */\r\n    DocumentSymbolRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.method = 'textDocument/codeAction';\r\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\r\n    /** @deprecated Use CodeActionRequest.type */\r\n    CodeActionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\r\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\r\n    /** @deprecated Use WorkspaceSymbolRequest.type */\r\n    WorkspaceSymbolRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.type = new messages_1.ProtocolRequestType('textDocument/codeLens');\r\n    /** @deprecated Use CodeLensRequest.type */\r\n    CodeLensRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType('codeLens/resolve');\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.method = 'textDocument/documentLink';\r\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\r\n    /** @deprecated Use DocumentLinkRequest.type */\r\n    DocumentLinkRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType('documentLink/resolve');\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.method = 'textDocument/formatting';\r\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\r\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\r\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.method = 'textDocument/rename';\r\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\r\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction objectLiteral(value) {\r\n    // Strictly speaking class instances pass this check as well. Since the LSP\r\n    // doesn't use classes we ignore this for now. If we do we need to add something\r\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n    return value !== null && typeof value === 'object';\r\n}\r\nexports.objectLiteral = objectLiteral;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolRequestType0 = ProtocolRequestType0;\r\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolRequestType = ProtocolRequestType;\r\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolNotificationType = ProtocolNotificationType;\r\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.method = 'textDocument/implementation';\r\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\r\n    /** @deprecated Use ImplementationRequest.type */\r\n    ImplementationRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\r\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\r\n    /** @deprecated Use TypeDefinitionRequest.type */\r\n    TypeDefinitionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.method = 'textDocument/documentColor';\r\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\r\n    /** @deprecated Use DocumentColorRequest.type */\r\n    DocumentColorRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\r\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\r\n    /** @deprecated Use FoldingRangeRequest.type */\r\n    FoldingRangeRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.method = 'textDocument/declaration';\r\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\r\n    /** @deprecated Use DeclarationRequest.type */\r\n    DeclarationRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to provide selection ranges in a document. The request's\r\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\r\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar SelectionRangeRequest;\r\n(function (SelectionRangeRequest) {\r\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\r\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\r\n    /** @deprecated  Use SelectionRangeRequest.type */\r\n    SelectionRangeRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\nvar WorkDoneProgress;\r\n(function (WorkDoneProgress) {\r\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\r\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\r\n/**\r\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\r\n * reporting from the server.\r\n */\r\nvar WorkDoneProgressCreateRequest;\r\n(function (WorkDoneProgressCreateRequest) {\r\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\r\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\r\n/**\r\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\r\n * initiated on the server side.\r\n */\r\nvar WorkDoneProgressCancelNotification;\r\n(function (WorkDoneProgressCancelNotification) {\r\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\r\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) TypeFox and others. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to result a `CallHierarchyItem` in a document at a given position.\r\n * Can be used as an input to a incoming or outgoing call hierarchy.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyPrepareRequest;\r\n(function (CallHierarchyPrepareRequest) {\r\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\r\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\r\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\r\n/**\r\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyIncomingCallsRequest;\r\n(function (CallHierarchyIncomingCallsRequest) {\r\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\r\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\r\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\r\n/**\r\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyOutgoingCallsRequest;\r\n(function (CallHierarchyOutgoingCallsRequest) {\r\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\r\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\r\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A set of predefined token types. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokenTypes;\r\n(function (SemanticTokenTypes) {\r\n    SemanticTokenTypes[\"comment\"] = \"comment\";\r\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\r\n    SemanticTokenTypes[\"string\"] = \"string\";\r\n    SemanticTokenTypes[\"number\"] = \"number\";\r\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\r\n    SemanticTokenTypes[\"operator\"] = \"operator\";\r\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\r\n    SemanticTokenTypes[\"type\"] = \"type\";\r\n    SemanticTokenTypes[\"struct\"] = \"struct\";\r\n    SemanticTokenTypes[\"class\"] = \"class\";\r\n    SemanticTokenTypes[\"interface\"] = \"interface\";\r\n    SemanticTokenTypes[\"enum\"] = \"enum\";\r\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\r\n    SemanticTokenTypes[\"function\"] = \"function\";\r\n    SemanticTokenTypes[\"member\"] = \"member\";\r\n    SemanticTokenTypes[\"property\"] = \"property\";\r\n    SemanticTokenTypes[\"macro\"] = \"macro\";\r\n    SemanticTokenTypes[\"variable\"] = \"variable\";\r\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\r\n    SemanticTokenTypes[\"label\"] = \"label\";\r\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\r\n/**\r\n * A set of predefined token modifiers. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokenModifiers;\r\n(function (SemanticTokenModifiers) {\r\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\r\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\r\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\r\n    SemanticTokenModifiers[\"reference\"] = \"reference\";\r\n    SemanticTokenModifiers[\"static\"] = \"static\";\r\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\r\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\r\n    SemanticTokenModifiers[\"async\"] = \"async\";\r\n    SemanticTokenModifiers[\"volatile\"] = \"volatile\";\r\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\r\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokens;\r\n(function (SemanticTokens) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\r\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\r\n    }\r\n    SemanticTokens.is = is;\r\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensRequest;\r\n(function (SemanticTokensRequest) {\r\n    SemanticTokensRequest.method = 'textDocument/semanticTokens';\r\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\r\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensEditsRequest;\r\n(function (SemanticTokensEditsRequest) {\r\n    SemanticTokensEditsRequest.method = 'textDocument/semanticTokens/edits';\r\n    SemanticTokensEditsRequest.type = new messages_1.ProtocolRequestType(SemanticTokensEditsRequest.method);\r\n})(SemanticTokensEditsRequest = exports.SemanticTokensEditsRequest || (exports.SemanticTokensEditsRequest = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensRangeRequest;\r\n(function (SemanticTokensRangeRequest) {\r\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\r\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\r\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nexports.ConfigurationFeature = (Base) => {\r\n    return class extends Base {\r\n        getConfiguration(arg) {\r\n            if (!arg) {\r\n                return this._getConfiguration({});\r\n            }\r\n            else if (Is.string(arg)) {\r\n                return this._getConfiguration({ section: arg });\r\n            }\r\n            else {\r\n                return this._getConfiguration(arg);\r\n            }\r\n        }\r\n        _getConfiguration(arg) {\r\n            let params = {\r\n                items: Array.isArray(arg) ? arg : [arg]\r\n            };\r\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\r\n                return Array.isArray(arg) ? result : result[0];\r\n            });\r\n        }\r\n    };\r\n};\r\n//# sourceMappingURL=configuration.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n//# sourceMappingURL=is.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nexports.WorkspaceFoldersFeature = (Base) => {\r\n    return class extends Base {\r\n        initialize(capabilities) {\r\n            let workspaceCapabilities = capabilities.workspace;\r\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\r\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\r\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\r\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\r\n                });\r\n            }\r\n        }\r\n        getWorkspaceFolders() {\r\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\r\n        }\r\n        get onDidChangeWorkspaceFolders() {\r\n            if (!this._onDidChangeWorkspaceFolders) {\r\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\r\n            }\r\n            if (!this._unregistration) {\r\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\r\n            }\r\n            return this._onDidChangeWorkspaceFolders.event;\r\n        }\r\n    };\r\n};\r\n//# sourceMappingURL=workspaceFolders.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst uuid_1 = require(\"./utils/uuid\");\r\nclass WorkDoneProgressImpl {\r\n    constructor(_connection, _token) {\r\n        this._connection = _connection;\r\n        this._token = _token;\r\n        WorkDoneProgressImpl.Instances.set(this._token, this);\r\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\r\n    }\r\n    get token() {\r\n        return this._source.token;\r\n    }\r\n    begin(title, percentage, message, cancellable) {\r\n        let param = {\r\n            kind: 'begin',\r\n            title,\r\n            percentage,\r\n            message,\r\n            cancellable\r\n        };\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\r\n    }\r\n    report(arg0, arg1) {\r\n        let param = {\r\n            kind: 'report'\r\n        };\r\n        if (typeof arg0 === 'number') {\r\n            param.percentage = arg0;\r\n            if (arg1 !== undefined) {\r\n                param.message = arg1;\r\n            }\r\n        }\r\n        else {\r\n            param.message = arg0;\r\n        }\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\r\n    }\r\n    done() {\r\n        WorkDoneProgressImpl.Instances.delete(this._token);\r\n        this._source.dispose();\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\r\n    }\r\n    cancel() {\r\n        this._source.cancel();\r\n    }\r\n}\r\nWorkDoneProgressImpl.Instances = new Map();\r\nclass NullProgress {\r\n    constructor() {\r\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\r\n    }\r\n    get token() {\r\n        return this._source.token;\r\n    }\r\n    begin() {\r\n    }\r\n    report() {\r\n    }\r\n    done() {\r\n    }\r\n}\r\nfunction attachWorkDone(connection, params) {\r\n    if (params === undefined || params.workDoneToken === undefined) {\r\n        return new NullProgress();\r\n    }\r\n    const token = params.workDoneToken;\r\n    delete params.workDoneToken;\r\n    return new WorkDoneProgressImpl(connection, token);\r\n}\r\nexports.attachWorkDone = attachWorkDone;\r\nexports.ProgressFeature = (Base) => {\r\n    return class extends Base {\r\n        initialize(capabilities) {\r\n            var _a;\r\n            if (((_a = capabilities === null || capabilities === void 0 ? void 0 : capabilities.window) === null || _a === void 0 ? void 0 : _a.workDoneProgress) === true) {\r\n                this._progressSupported = true;\r\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\r\n                    let progress = WorkDoneProgressImpl.Instances.get(params.token);\r\n                    if (progress !== undefined) {\r\n                        progress.cancel();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        attachWorkDoneProgress(token) {\r\n            if (token === undefined) {\r\n                return new NullProgress();\r\n            }\r\n            else {\r\n                return new WorkDoneProgressImpl(this.connection, token);\r\n            }\r\n        }\r\n        createWorkDoneProgress() {\r\n            if (this._progressSupported) {\r\n                const token = uuid_1.generateUuid();\r\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\r\n                    const result = new WorkDoneProgressImpl(this.connection, token);\r\n                    return result;\r\n                });\r\n            }\r\n            else {\r\n                return Promise.resolve(new NullProgress());\r\n            }\r\n        }\r\n    };\r\n};\r\nvar ResultProgress;\r\n(function (ResultProgress) {\r\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\r\n})(ResultProgress || (ResultProgress = {}));\r\nclass ResultProgressImpl {\r\n    constructor(_connection, _token) {\r\n        this._connection = _connection;\r\n        this._token = _token;\r\n    }\r\n    report(data) {\r\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\r\n    }\r\n}\r\nfunction attachPartialResult(connection, params) {\r\n    if (params === undefined || params.partialResultToken === undefined) {\r\n        return undefined;\r\n    }\r\n    const token = params.partialResultToken;\r\n    delete params.partialResultToken;\r\n    return new ResultProgressImpl(connection, token);\r\n}\r\nexports.attachPartialResult = attachPartialResult;\r\n//# sourceMappingURL=progress.js.map","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ValueUUID {\r\n    constructor(_value) {\r\n        this._value = _value;\r\n        // empty\r\n    }\r\n    asHex() {\r\n        return this._value;\r\n    }\r\n    equals(other) {\r\n        return this.asHex() === other.asHex();\r\n    }\r\n}\r\nclass V4UUID extends ValueUUID {\r\n    constructor() {\r\n        super([\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            '4',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._oneOf(V4UUID._timeHighBits),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n        ].join(''));\r\n    }\r\n    static _oneOf(array) {\r\n        return array[Math.floor(array.length * Math.random())];\r\n    }\r\n    static _randomHex() {\r\n        return V4UUID._oneOf(V4UUID._chars);\r\n    }\r\n}\r\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\r\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\r\n/**\r\n * An empty UUID that contains only zeros.\r\n */\r\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\r\nfunction v4() {\r\n    return new V4UUID();\r\n}\r\nexports.v4 = v4;\r\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\nfunction isUUID(value) {\r\n    return _UUIDPattern.test(value);\r\n}\r\nexports.isUUID = isUUID;\r\n/**\r\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\r\n * @param value A uuid string.\r\n */\r\nfunction parse(value) {\r\n    if (!isUUID(value)) {\r\n        throw new Error('invalid uuid');\r\n    }\r\n    return new ValueUUID(value);\r\n}\r\nexports.parse = parse;\r\nfunction generateUuid() {\r\n    return v4().asHex();\r\n}\r\nexports.generateUuid = generateUuid;\r\n//# sourceMappingURL=uuid.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst url = require(\"url\");\r\nconst path = require(\"path\");\r\nconst fs = require(\"fs\");\r\nconst child_process_1 = require(\"child_process\");\r\n/**\r\n * @deprecated Use the `vscode-uri` npm module which provides a more\r\n * complete implementation of handling VS Code URIs.\r\n */\r\nfunction uriToFilePath(uri) {\r\n    let parsed = url.parse(uri);\r\n    if (parsed.protocol !== 'file:' || !parsed.path) {\r\n        return undefined;\r\n    }\r\n    let segments = parsed.path.split('/');\r\n    for (var i = 0, len = segments.length; i < len; i++) {\r\n        segments[i] = decodeURIComponent(segments[i]);\r\n    }\r\n    if (process.platform === 'win32' && segments.length > 1) {\r\n        let first = segments[0];\r\n        let second = segments[1];\r\n        // Do we have a drive letter and we started with a / which is the\r\n        // case if the first segement is empty (see split above)\r\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\r\n            // Remove first slash\r\n            segments.shift();\r\n        }\r\n    }\r\n    return path.normalize(segments.join('/'));\r\n}\r\nexports.uriToFilePath = uriToFilePath;\r\nfunction isWindows() {\r\n    return process.platform === 'win32';\r\n}\r\nfunction resolve(moduleName, nodePath, cwd, tracer) {\r\n    const nodePathKey = 'NODE_PATH';\r\n    const app = [\r\n        'var p = process;',\r\n        'p.on(\\'message\\',function(m){',\r\n        'if(m.c===\\'e\\'){',\r\n        'p.exit(0);',\r\n        '}',\r\n        'else if(m.c===\\'rs\\'){',\r\n        'try{',\r\n        'var r=require.resolve(m.a);',\r\n        'p.send({c:\\'r\\',s:true,r:r});',\r\n        '}',\r\n        'catch(err){',\r\n        'p.send({c:\\'r\\',s:false});',\r\n        '}',\r\n        '}',\r\n        '});'\r\n    ].join('');\r\n    return new Promise((resolve, reject) => {\r\n        let env = process.env;\r\n        let newEnv = Object.create(null);\r\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\r\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\r\n            if (newEnv[nodePathKey]) {\r\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\r\n            }\r\n            else {\r\n                newEnv[nodePathKey] = nodePath;\r\n            }\r\n            if (tracer) {\r\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\r\n            }\r\n        }\r\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\r\n        try {\r\n            let cp = child_process_1.fork('', [], {\r\n                cwd: cwd,\r\n                env: newEnv,\r\n                execArgv: ['-e', app]\r\n            });\r\n            if (cp.pid === void 0) {\r\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\r\n                return;\r\n            }\r\n            cp.on('error', (error) => {\r\n                reject(error);\r\n            });\r\n            cp.on('message', (message) => {\r\n                if (message.c === 'r') {\r\n                    cp.send({ c: 'e' });\r\n                    if (message.s) {\r\n                        resolve(message.r);\r\n                    }\r\n                    else {\r\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\r\n                    }\r\n                }\r\n            });\r\n            let message = {\r\n                c: 'rs',\r\n                a: moduleName\r\n            };\r\n            cp.send(message);\r\n        }\r\n        catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n}\r\nexports.resolve = resolve;\r\n/**\r\n * Resolve the global npm package path.\r\n * @deprecated Since this depends on the used package manager and their version the best is that servers\r\n * implement this themselves since they know best what kind of package managers to support.\r\n * @param tracer the tracer to use\r\n */\r\nfunction resolveGlobalNodePath(tracer) {\r\n    let npmCommand = 'npm';\r\n    const env = Object.create(null);\r\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\r\n    env['NO_UPDATE_NOTIFIER'] = 'true';\r\n    const options = {\r\n        encoding: 'utf8',\r\n        env\r\n    };\r\n    if (isWindows()) {\r\n        npmCommand = 'npm.cmd';\r\n        options.shell = true;\r\n    }\r\n    let handler = () => { };\r\n    try {\r\n        process.on('SIGPIPE', handler);\r\n        let stdout = child_process_1.spawnSync(npmCommand, ['config', 'get', 'prefix'], options).stdout;\r\n        if (!stdout) {\r\n            if (tracer) {\r\n                tracer(`'npm config get prefix' didn't return a value.`);\r\n            }\r\n            return undefined;\r\n        }\r\n        let prefix = stdout.trim();\r\n        if (tracer) {\r\n            tracer(`'npm config get prefix' value is: ${prefix}`);\r\n        }\r\n        if (prefix.length > 0) {\r\n            if (isWindows()) {\r\n                return path.join(prefix, 'node_modules');\r\n            }\r\n            else {\r\n                return path.join(prefix, 'lib', 'node_modules');\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    catch (err) {\r\n        return undefined;\r\n    }\r\n    finally {\r\n        process.removeListener('SIGPIPE', handler);\r\n    }\r\n}\r\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\r\n/*\r\n * Resolve the global yarn pakage path.\r\n * @deprecated Since this depends on the used package manager and their version the best is that servers\r\n * implement this themselves since they know best what kind of package managers to support.\r\n * @param tracer the tracer to use\r\n */\r\nfunction resolveGlobalYarnPath(tracer) {\r\n    let yarnCommand = 'yarn';\r\n    let options = {\r\n        encoding: 'utf8'\r\n    };\r\n    if (isWindows()) {\r\n        yarnCommand = 'yarn.cmd';\r\n        options.shell = true;\r\n    }\r\n    let handler = () => { };\r\n    try {\r\n        process.on('SIGPIPE', handler);\r\n        let results = child_process_1.spawnSync(yarnCommand, ['global', 'dir', '--json'], options);\r\n        let stdout = results.stdout;\r\n        if (!stdout) {\r\n            if (tracer) {\r\n                tracer(`'yarn global dir' didn't return a value.`);\r\n                if (results.stderr) {\r\n                    tracer(results.stderr);\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n        let lines = stdout.trim().split(/\\r?\\n/);\r\n        for (let line of lines) {\r\n            try {\r\n                let yarn = JSON.parse(line);\r\n                if (yarn.type === 'log') {\r\n                    return path.join(yarn.data, 'node_modules');\r\n                }\r\n            }\r\n            catch (e) {\r\n                // Do nothing. Ignore the line\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    catch (err) {\r\n        return undefined;\r\n    }\r\n    finally {\r\n        process.removeListener('SIGPIPE', handler);\r\n    }\r\n}\r\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\r\nvar FileSystem;\r\n(function (FileSystem) {\r\n    let _isCaseSensitive = undefined;\r\n    function isCaseSensitive() {\r\n        if (_isCaseSensitive !== void 0) {\r\n            return _isCaseSensitive;\r\n        }\r\n        if (process.platform === 'win32') {\r\n            _isCaseSensitive = false;\r\n        }\r\n        else {\r\n            // convert current file name to upper case / lower case and check if file exists\r\n            // (guards against cases when name is already all uppercase or lowercase)\r\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\r\n        }\r\n        return _isCaseSensitive;\r\n    }\r\n    FileSystem.isCaseSensitive = isCaseSensitive;\r\n    function isParent(parent, child) {\r\n        if (isCaseSensitive()) {\r\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\r\n        }\r\n        else {\r\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\r\n        }\r\n    }\r\n    FileSystem.isParent = isParent;\r\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\r\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\r\n    if (nodePath) {\r\n        if (!path.isAbsolute(nodePath)) {\r\n            nodePath = path.join(workspaceRoot, nodePath);\r\n        }\r\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\r\n            if (FileSystem.isParent(nodePath, value)) {\r\n                return value;\r\n            }\r\n            else {\r\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\r\n            }\r\n        }).then(undefined, (_error) => {\r\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\r\n        });\r\n    }\r\n    else {\r\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\r\n    }\r\n}\r\nexports.resolveModulePath = resolveModulePath;\r\n//# sourceMappingURL=files.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nexports.CallHierarchyFeature = (Base) => {\r\n    return class extends Base {\r\n        get callHierarchy() {\r\n            return {\r\n                onPrepare: (handler) => {\r\n                    this.connection.onRequest(vscode_languageserver_protocol_1.Proposed.CallHierarchyPrepareRequest.type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\r\n                    });\r\n                },\r\n                onIncomingCalls: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.CallHierarchyIncomingCallsRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onOutgoingCalls: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.CallHierarchyOutgoingCallsRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    };\r\n};\r\n//# sourceMappingURL=callHierarchy.proposed.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nexports.SemanticTokensFeature = (Base) => {\r\n    return class extends Base {\r\n        get semanticTokens() {\r\n            return {\r\n                on: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.SemanticTokensRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onEdits: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.SemanticTokensEditsRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onRange: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.SemanticTokensRangeRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    };\r\n};\r\nclass SemanticTokensBuilder {\r\n    constructor() {\r\n        this._prevData = undefined;\r\n        this.initialize();\r\n    }\r\n    initialize() {\r\n        this._id = Date.now();\r\n        this._prevLine = 0;\r\n        this._prevChar = 0;\r\n        this._data = [];\r\n        this._dataLen = 0;\r\n    }\r\n    push(line, char, length, tokenType, tokenModifiers) {\r\n        let pushLine = line;\r\n        let pushChar = char;\r\n        if (this._dataLen > 0) {\r\n            pushLine -= this._prevLine;\r\n            if (pushLine === 0) {\r\n                pushChar -= this._prevChar;\r\n            }\r\n        }\r\n        this._data[this._dataLen++] = pushLine;\r\n        this._data[this._dataLen++] = pushChar;\r\n        this._data[this._dataLen++] = length;\r\n        this._data[this._dataLen++] = tokenType;\r\n        this._data[this._dataLen++] = tokenModifiers;\r\n        this._prevLine = line;\r\n        this._prevChar = char;\r\n    }\r\n    get id() {\r\n        return this._id.toString();\r\n    }\r\n    previousResult(id) {\r\n        if (this.id === id) {\r\n            this._prevData = this._data;\r\n        }\r\n        this.initialize();\r\n    }\r\n    build() {\r\n        this._prevData = undefined;\r\n        return {\r\n            resultId: this.id,\r\n            data: this._data\r\n        };\r\n    }\r\n    canBuildEdits() {\r\n        return this._prevData !== undefined;\r\n    }\r\n    buildEdits() {\r\n        if (this._prevData !== undefined) {\r\n            const prevDataLength = this._prevData.length;\r\n            const dataLength = this._data.length;\r\n            let startIndex = 0;\r\n            while (startIndex < dataLength && startIndex < prevDataLength && this._prevData[startIndex] === this._data[startIndex]) {\r\n                startIndex++;\r\n            }\r\n            if (startIndex < dataLength && startIndex < prevDataLength) {\r\n                // Find end index\r\n                let endIndex = 0;\r\n                while (endIndex < dataLength && endIndex < prevDataLength && this._prevData[prevDataLength - 1 - endIndex] === this._data[dataLength - 1 - endIndex]) {\r\n                    endIndex++;\r\n                }\r\n                const newData = this._data.slice(startIndex, dataLength - endIndex);\r\n                const result = {\r\n                    resultId: this.id,\r\n                    edits: [\r\n                        { start: startIndex, deleteCount: prevDataLength - endIndex - startIndex, data: newData }\r\n                    ]\r\n                };\r\n                return result;\r\n            }\r\n            else if (startIndex < dataLength) {\r\n                return { resultId: this.id, edits: [\r\n                        { start: startIndex, deleteCount: 0, data: this._data.slice(startIndex) }\r\n                    ] };\r\n            }\r\n            else if (startIndex < prevDataLength) {\r\n                return { resultId: this.id, edits: [\r\n                        { start: startIndex, deleteCount: prevDataLength - startIndex }\r\n                    ] };\r\n            }\r\n            else {\r\n                return { resultId: this.id, edits: [] };\r\n            }\r\n        }\r\n        else {\r\n            return this.build();\r\n        }\r\n    }\r\n}\r\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\r\n//# sourceMappingURL=sematicTokens.proposed.js.map",null,null,null,"'use strict';\nconst path = require('path');\nconst os = require('os');\n\nconst homedir = os.homedir();\nconst tmpdir = os.tmpdir();\nconst {env} = process;\n\nconst macos = name => {\n\tconst library = path.join(homedir, 'Library');\n\n\treturn {\n\t\tdata: path.join(library, 'Application Support', name),\n\t\tconfig: path.join(library, 'Preferences', name),\n\t\tcache: path.join(library, 'Caches', name),\n\t\tlog: path.join(library, 'Logs', name),\n\t\ttemp: path.join(tmpdir, name)\n\t};\n};\n\nconst windows = name => {\n\tconst appData = env.APPDATA || path.join(homedir, 'AppData', 'Roaming');\n\tconst localAppData = env.LOCALAPPDATA || path.join(homedir, 'AppData', 'Local');\n\n\treturn {\n\t\t// Data/config/cache/log are invented by me as Windows isn't opinionated about this\n\t\tdata: path.join(localAppData, name, 'Data'),\n\t\tconfig: path.join(appData, name, 'Config'),\n\t\tcache: path.join(localAppData, name, 'Cache'),\n\t\tlog: path.join(localAppData, name, 'Log'),\n\t\ttemp: path.join(tmpdir, name)\n\t};\n};\n\n// https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html\nconst linux = name => {\n\tconst username = path.basename(homedir);\n\n\treturn {\n\t\tdata: path.join(env.XDG_DATA_HOME || path.join(homedir, '.local', 'share'), name),\n\t\tconfig: path.join(env.XDG_CONFIG_HOME || path.join(homedir, '.config'), name),\n\t\tcache: path.join(env.XDG_CACHE_HOME || path.join(homedir, '.cache'), name),\n\t\t// https://wiki.debian.org/XDGBaseDirectorySpecification#state\n\t\tlog: path.join(env.XDG_STATE_HOME || path.join(homedir, '.local', 'state'), name),\n\t\ttemp: path.join(tmpdir, username, name)\n\t};\n};\n\nconst envPaths = (name, options) => {\n\tif (typeof name !== 'string') {\n\t\tthrow new TypeError(`Expected string, got ${typeof name}`);\n\t}\n\n\toptions = Object.assign({suffix: 'nodejs'}, options);\n\n\tif (options.suffix) {\n\t\t// Add suffix to prevent possible conflict with native apps\n\t\tname += `-${options.suffix}`;\n\t}\n\n\tif (process.platform === 'darwin') {\n\t\treturn macos(name);\n\t}\n\n\tif (process.platform === 'win32') {\n\t\treturn windows(name);\n\t}\n\n\treturn linux(name);\n};\n\nmodule.exports = envPaths;\n// TODO: Remove this for the next major release\nmodule.exports.default = envPaths;\n","var async = require('./lib/async');\nasync.core = require('./lib/core');\nasync.isCore = require('./lib/is-core');\nasync.sync = require('./lib/sync');\n\nmodule.exports = async;\n","var fs = require('fs');\nvar path = require('path');\nvar caller = require('./caller.js');\nvar nodeModulesPaths = require('./node-modules-paths.js');\nvar normalizeOptions = require('./normalize-options.js');\nvar isCore = require('./is-core');\n\nvar realpathFS = fs.realpath && typeof fs.realpath.native === 'function' ? fs.realpath.native : fs.realpath;\n\nvar defaultIsFile = function isFile(file, cb) {\n    fs.stat(file, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isFile() || stat.isFIFO());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultIsDir = function isDirectory(dir, cb) {\n    fs.stat(dir, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isDirectory());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultRealpath = function realpath(x, cb) {\n    realpathFS(x, function (realpathErr, realPath) {\n        if (realpathErr && realpathErr.code !== 'ENOENT') cb(realpathErr);\n        else cb(null, realpathErr ? x : realPath);\n    });\n};\n\nvar maybeRealpath = function maybeRealpath(realpath, x, opts, cb) {\n    if (opts && opts.preserveSymlinks === false) {\n        realpath(x, cb);\n    } else {\n        cb(null, x);\n    }\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolve(x, options, callback) {\n    var cb = callback;\n    var opts = options;\n    if (typeof options === 'function') {\n        cb = opts;\n        opts = {};\n    }\n    if (typeof x !== 'string') {\n        var err = new TypeError('Path must be a string.');\n        return process.nextTick(function () {\n            cb(err);\n        });\n    }\n\n    opts = normalizeOptions(x, opts);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var readFile = opts.readFile || fs.readFile;\n    var realpath = opts.realpath || defaultRealpath;\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || [];\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = path.resolve(basedir);\n\n    maybeRealpath(\n        realpath,\n        absoluteStart,\n        opts,\n        function (err, realStart) {\n            if (err) cb(err);\n            else init(realStart);\n        }\n    );\n\n    var res;\n    function init(basedir) {\n        if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n            res = path.resolve(basedir, x);\n            if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n            if ((/\\/$/).test(x) && res === basedir) {\n                loadAsDirectory(res, opts.package, onfile);\n            } else loadAsFile(res, opts.package, onfile);\n        } else if (isCore(x)) {\n            return cb(null, x);\n        } else loadNodeModules(x, basedir, function (err, n, pkg) {\n            if (err) cb(err);\n            else if (n) {\n                return maybeRealpath(realpath, n, opts, function (err, realN) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realN, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function onfile(err, m, pkg) {\n        if (err) cb(err);\n        else if (m) cb(null, m, pkg);\n        else loadAsDirectory(res, function (err, d, pkg) {\n            if (err) cb(err);\n            else if (d) {\n                maybeRealpath(realpath, d, opts, function (err, realD) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realD, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function loadAsFile(x, thePackage, callback) {\n        var loadAsFilePackage = thePackage;\n        var cb = callback;\n        if (typeof loadAsFilePackage === 'function') {\n            cb = loadAsFilePackage;\n            loadAsFilePackage = undefined;\n        }\n\n        var exts = [''].concat(extensions);\n        load(exts, x, loadAsFilePackage);\n\n        function load(exts, x, loadPackage) {\n            if (exts.length === 0) return cb(null, undefined, loadPackage);\n            var file = x + exts[0];\n\n            var pkg = loadPackage;\n            if (pkg) onpkg(null, pkg);\n            else loadpkg(path.dirname(file), onpkg);\n\n            function onpkg(err, pkg_, dir) {\n                pkg = pkg_;\n                if (err) return cb(err);\n                if (dir && pkg && opts.pathFilter) {\n                    var rfile = path.relative(dir, file);\n                    var rel = rfile.slice(0, rfile.length - exts[0].length);\n                    var r = opts.pathFilter(pkg, x, rel);\n                    if (r) return load(\n                        [''].concat(extensions.slice()),\n                        path.resolve(dir, r),\n                        pkg\n                    );\n                }\n                isFile(file, onex);\n            }\n            function onex(err, ex) {\n                if (err) return cb(err);\n                if (ex) return cb(null, file, pkg);\n                load(exts.slice(1), x, pkg);\n            }\n        }\n    }\n\n    function loadpkg(dir, cb) {\n        if (dir === '' || dir === '/') return cb(null);\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return cb(null);\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return cb(null);\n\n        maybeRealpath(realpath, dir, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return loadpkg(path.dirname(dir), cb);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                // on err, ex is false\n                if (!ex) return loadpkg(path.dirname(dir), cb);\n\n                readFile(pkgfile, function (err, body) {\n                    if (err) cb(err);\n                    try { var pkg = JSON.parse(body); } catch (jsonErr) {}\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n                    cb(null, pkg, dir);\n                });\n            });\n        });\n    }\n\n    function loadAsDirectory(x, loadAsDirectoryPackage, callback) {\n        var cb = callback;\n        var fpkg = loadAsDirectoryPackage;\n        if (typeof fpkg === 'function') {\n            cb = fpkg;\n            fpkg = opts.package;\n        }\n\n        maybeRealpath(realpath, x, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return cb(unwrapErr);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                if (err) return cb(err);\n                if (!ex) return loadAsFile(path.join(x, 'index'), fpkg, cb);\n\n                readFile(pkgfile, function (err, body) {\n                    if (err) return cb(err);\n                    try {\n                        var pkg = JSON.parse(body);\n                    } catch (jsonErr) {}\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n\n                    if (pkg && pkg.main) {\n                        if (typeof pkg.main !== 'string') {\n                            var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n                            mainError.code = 'INVALID_PACKAGE_MAIN';\n                            return cb(mainError);\n                        }\n                        if (pkg.main === '.' || pkg.main === './') {\n                            pkg.main = 'index';\n                        }\n                        loadAsFile(path.resolve(x, pkg.main), pkg, function (err, m, pkg) {\n                            if (err) return cb(err);\n                            if (m) return cb(null, m, pkg);\n                            if (!pkg) return loadAsFile(path.join(x, 'index'), pkg, cb);\n\n                            var dir = path.resolve(x, pkg.main);\n                            loadAsDirectory(dir, pkg, function (err, n, pkg) {\n                                if (err) return cb(err);\n                                if (n) return cb(null, n, pkg);\n                                loadAsFile(path.join(x, 'index'), pkg, cb);\n                            });\n                        });\n                        return;\n                    }\n\n                    loadAsFile(path.join(x, '/index'), pkg, cb);\n                });\n            });\n        });\n    }\n\n    function processDirs(cb, dirs) {\n        if (dirs.length === 0) return cb(null, undefined);\n        var dir = dirs[0];\n\n        isDirectory(path.dirname(dir), isdir);\n\n        function isdir(err, isdir) {\n            if (err) return cb(err);\n            if (!isdir) return processDirs(cb, dirs.slice(1));\n            loadAsFile(dir, opts.package, onfile);\n        }\n\n        function onfile(err, m, pkg) {\n            if (err) return cb(err);\n            if (m) return cb(null, m, pkg);\n            loadAsDirectory(dir, opts.package, ondir);\n        }\n\n        function ondir(err, n, pkg) {\n            if (err) return cb(err);\n            if (n) return cb(null, n, pkg);\n            processDirs(cb, dirs.slice(1));\n        }\n    }\n    function loadNodeModules(x, start, cb) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        processDirs(\n            cb,\n            packageIterator ? packageIterator(x, start, thunk, opts) : thunk()\n        );\n    }\n};\n","module.exports = function () {\n    // see https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\n    var origPrepareStackTrace = Error.prepareStackTrace;\n    Error.prepareStackTrace = function (_, stack) { return stack; };\n    var stack = (new Error()).stack;\n    Error.prepareStackTrace = origPrepareStackTrace;\n    return stack[2].getFileName();\n};\n","var path = require('path');\nvar parse = path.parse || require('path-parse');\n\nvar getNodeModulesDirs = function getNodeModulesDirs(absoluteStart, modules) {\n    var prefix = '/';\n    if ((/^([A-Za-z]:)/).test(absoluteStart)) {\n        prefix = '';\n    } else if ((/^\\\\\\\\/).test(absoluteStart)) {\n        prefix = '\\\\\\\\';\n    }\n\n    var paths = [absoluteStart];\n    var parsed = parse(absoluteStart);\n    while (parsed.dir !== paths[paths.length - 1]) {\n        paths.push(parsed.dir);\n        parsed = parse(parsed.dir);\n    }\n\n    return paths.reduce(function (dirs, aPath) {\n        return dirs.concat(modules.map(function (moduleDir) {\n            return path.resolve(prefix, aPath, moduleDir);\n        }));\n    }, []);\n};\n\nmodule.exports = function nodeModulesPaths(start, opts, request) {\n    var modules = opts && opts.moduleDirectory\n        ? [].concat(opts.moduleDirectory)\n        : ['node_modules'];\n\n    if (opts && typeof opts.paths === 'function') {\n        return opts.paths(\n            request,\n            start,\n            function () { return getNodeModulesDirs(start, modules); },\n            opts\n        );\n    }\n\n    var dirs = getNodeModulesDirs(start, modules);\n    return opts && opts.paths ? dirs.concat(opts.paths) : dirs;\n};\n","'use strict';\n\nvar isWindows = process.platform === 'win32';\n\n// Regex to split a windows path into three parts: [*, device, slash,\n// tail] windows-only\nvar splitDeviceRe =\n    /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\n// Regex to split the tail part of the above into [*, dir, basename, ext]\nvar splitTailRe =\n    /^([\\s\\S]*?)((?:\\.{1,2}|[^\\\\\\/]+?|)(\\.[^.\\/\\\\]*|))(?:[\\\\\\/]*)$/;\n\nvar win32 = {};\n\n// Function to split a filename into [root, dir, basename, ext]\nfunction win32SplitPath(filename) {\n  // Separate device+slash from tail\n  var result = splitDeviceRe.exec(filename),\n      device = (result[1] || '') + (result[2] || ''),\n      tail = result[3] || '';\n  // Split the tail into dir, basename and extension\n  var result2 = splitTailRe.exec(tail),\n      dir = result2[1],\n      basename = result2[2],\n      ext = result2[3];\n  return [device, dir, basename, ext];\n}\n\nwin32.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = win32SplitPath(pathString);\n  if (!allParts || allParts.length !== 4) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  return {\n    root: allParts[0],\n    dir: allParts[0] + allParts[1].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[3],\n    name: allParts[2].slice(0, allParts[2].length - allParts[3].length)\n  };\n};\n\n\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar posix = {};\n\n\nfunction posixSplitPath(filename) {\n  return splitPathRe.exec(filename).slice(1);\n}\n\n\nposix.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = posixSplitPath(pathString);\n  if (!allParts || allParts.length !== 4) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  allParts[1] = allParts[1] || '';\n  allParts[2] = allParts[2] || '';\n  allParts[3] = allParts[3] || '';\n\n  return {\n    root: allParts[0],\n    dir: allParts[0] + allParts[1].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[3],\n    name: allParts[2].slice(0, allParts[2].length - allParts[3].length)\n  };\n};\n\n\nif (isWindows)\n  module.exports = win32.parse;\nelse /* posix */\n  module.exports = posix.parse;\n\nmodule.exports.posix = posix.parse;\nmodule.exports.win32 = win32.parse;\n","module.exports = function (x, opts) {\n    /**\n     * This file is purposefully a passthrough. It's expected that third-party\n     * environments will override it at runtime in order to inject special logic\n     * into `resolve` (by manipulating the options). One such example is the PnP\n     * code path in Yarn.\n     */\n\n    return opts || {};\n};\n","var core = require('./core');\n\nmodule.exports = function isCore(x) {\n    return Object.prototype.hasOwnProperty.call(core, x);\n};\n","var current = (process.versions && process.versions.node && process.versions.node.split('.')) || [];\n\nfunction specifierIncluded(specifier) {\n    var parts = specifier.split(' ');\n    var op = parts.length > 1 ? parts[0] : '=';\n    var versionParts = (parts.length > 1 ? parts[1] : parts[0]).split('.');\n\n    for (var i = 0; i < 3; ++i) {\n        var cur = Number(current[i] || 0);\n        var ver = Number(versionParts[i] || 0);\n        if (cur === ver) {\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        }\n        if (op === '<') {\n            return cur < ver;\n        } else if (op === '>=') {\n            return cur >= ver;\n        } else {\n            return false;\n        }\n    }\n    return op === '>=';\n}\n\nfunction matchesRange(range) {\n    var specifiers = range.split(/ ?&& ?/);\n    if (specifiers.length === 0) { return false; }\n    for (var i = 0; i < specifiers.length; ++i) {\n        if (!specifierIncluded(specifiers[i])) { return false; }\n    }\n    return true;\n}\n\nfunction versionIncluded(specifierValue) {\n    if (typeof specifierValue === 'boolean') { return specifierValue; }\n    if (specifierValue && typeof specifierValue === 'object') {\n        for (var i = 0; i < specifierValue.length; ++i) {\n            if (matchesRange(specifierValue[i])) { return true; }\n        }\n        return false;\n    }\n    return matchesRange(specifierValue);\n}\n\nvar data = require('./core.json');\n\nvar core = {};\nfor (var mod in data) { // eslint-disable-line no-restricted-syntax\n    if (Object.prototype.hasOwnProperty.call(data, mod)) {\n        core[mod] = versionIncluded(data[mod]);\n    }\n}\nmodule.exports = core;\n","{\n    \"assert\": true,\n    \"async_hooks\": \">= 8\",\n    \"buffer_ieee754\": \"< 0.9.7\",\n    \"buffer\": true,\n    \"child_process\": true,\n    \"cluster\": true,\n    \"console\": true,\n    \"constants\": true,\n    \"crypto\": true,\n    \"_debug_agent\": \">= 1 && < 8\",\n    \"_debugger\": \"< 8\",\n    \"dgram\": true,\n    \"dns\": true,\n    \"domain\": true,\n    \"events\": true,\n    \"freelist\": \"< 6\",\n    \"fs\": true,\n    \"fs/promises\": [\">= 10 && < 10.1\", \">= 14\"],\n    \"_http_agent\": \">= 0.11.1\",\n    \"_http_client\": \">= 0.11.1\",\n    \"_http_common\": \">= 0.11.1\",\n    \"_http_incoming\": \">= 0.11.1\",\n    \"_http_outgoing\": \">= 0.11.1\",\n    \"_http_server\": \">= 0.11.1\",\n    \"http\": true,\n    \"http2\": \">= 8.8\",\n    \"https\": true,\n    \"inspector\": \">= 8.0.0\",\n    \"_linklist\": \"< 8\",\n    \"module\": true,\n    \"net\": true,\n    \"node-inspect/lib/_inspect\": \">= 7.6.0 && < 12\",\n    \"node-inspect/lib/internal/inspect_client\": \">= 7.6.0 && < 12\",\n    \"node-inspect/lib/internal/inspect_repl\": \">= 7.6.0 && < 12\",\n    \"os\": true,\n    \"path\": true,\n    \"perf_hooks\": \">= 8.5\",\n    \"process\": \">= 1\",\n    \"punycode\": true,\n    \"querystring\": true,\n    \"readline\": true,\n    \"repl\": true,\n    \"smalloc\": \">= 0.11.5 && < 3\",\n    \"_stream_duplex\": \">= 0.9.4\",\n    \"_stream_transform\": \">= 0.9.4\",\n    \"_stream_wrap\": \">= 1.4.1\",\n    \"_stream_passthrough\": \">= 0.9.4\",\n    \"_stream_readable\": \">= 0.9.4\",\n    \"_stream_writable\": \">= 0.9.4\",\n    \"stream\": true,\n    \"string_decoder\": true,\n    \"sys\": true,\n    \"timers\": true,\n    \"_tls_common\": \">= 0.11.13\",\n    \"_tls_legacy\": \">= 0.11.3 && < 10\",\n    \"_tls_wrap\": \">= 0.11.3\",\n    \"tls\": true,\n    \"trace_events\": \">= 10\",\n    \"tty\": true,\n    \"url\": true,\n    \"util\": true,\n    \"v8/tools/arguments\": \">= 10 && < 12\",\n    \"v8/tools/codemap\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/consarray\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/csvparser\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/logreader\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/profile_view\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/splaytree\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8\": \">= 1\",\n    \"vm\": true,\n    \"wasi\": \">= 13.4 && < 13.5\",\n    \"worker_threads\": \">= 11.7\",\n    \"zlib\": true\n}\n","var isCore = require('./is-core');\nvar fs = require('fs');\nvar path = require('path');\nvar caller = require('./caller.js');\nvar nodeModulesPaths = require('./node-modules-paths.js');\nvar normalizeOptions = require('./normalize-options.js');\n\nvar realpathFS = fs.realpathSync && typeof fs.realpathSync.native === 'function' ? fs.realpathSync.native : fs.realpathSync;\n\nvar defaultIsFile = function isFile(file) {\n    try {\n        var stat = fs.statSync(file);\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return stat.isFile() || stat.isFIFO();\n};\n\nvar defaultIsDir = function isDirectory(dir) {\n    try {\n        var stat = fs.statSync(dir);\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return stat.isDirectory();\n};\n\nvar defaultRealpathSync = function realpathSync(x) {\n    try {\n        return realpathFS(x);\n    } catch (realpathErr) {\n        if (realpathErr.code !== 'ENOENT') {\n            throw realpathErr;\n        }\n    }\n    return x;\n};\n\nvar maybeRealpathSync = function maybeRealpathSync(realpathSync, x, opts) {\n    if (opts && opts.preserveSymlinks === false) {\n        return realpathSync(x);\n    }\n    return x;\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolveSync(x, options) {\n    if (typeof x !== 'string') {\n        throw new TypeError('Path must be a string.');\n    }\n    var opts = normalizeOptions(x, options);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var readFileSync = opts.readFileSync || fs.readFileSync;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var realpathSync = opts.realpathSync || defaultRealpathSync;\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || [];\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = maybeRealpathSync(realpathSync, path.resolve(basedir), opts);\n\n    if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n        var res = path.resolve(absoluteStart, x);\n        if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n        var m = loadAsFileSync(res) || loadAsDirectorySync(res);\n        if (m) return maybeRealpathSync(realpathSync, m, opts);\n    } else if (isCore(x)) {\n        return x;\n    } else {\n        var n = loadNodeModulesSync(x, absoluteStart);\n        if (n) return maybeRealpathSync(realpathSync, n, opts);\n    }\n\n    var err = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n\n    function loadAsFileSync(x) {\n        var pkg = loadpkg(path.dirname(x));\n\n        if (pkg && pkg.dir && pkg.pkg && opts.pathFilter) {\n            var rfile = path.relative(pkg.dir, x);\n            var r = opts.pathFilter(pkg.pkg, x, rfile);\n            if (r) {\n                x = path.resolve(pkg.dir, r); // eslint-disable-line no-param-reassign\n            }\n        }\n\n        if (isFile(x)) {\n            return x;\n        }\n\n        for (var i = 0; i < extensions.length; i++) {\n            var file = x + extensions[i];\n            if (isFile(file)) {\n                return file;\n            }\n        }\n    }\n\n    function loadpkg(dir) {\n        if (dir === '' || dir === '/') return;\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return;\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return;\n\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, dir, opts), 'package.json');\n\n        if (!isFile(pkgfile)) {\n            return loadpkg(path.dirname(dir));\n        }\n\n        var body = readFileSync(pkgfile);\n\n        try {\n            var pkg = JSON.parse(body);\n        } catch (jsonErr) {}\n\n        if (pkg && opts.packageFilter) {\n            // v2 will pass pkgfile\n            pkg = opts.packageFilter(pkg, /*pkgfile,*/ dir); // eslint-disable-line spaced-comment\n        }\n\n        return { pkg: pkg, dir: dir };\n    }\n\n    function loadAsDirectorySync(x) {\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, x, opts), '/package.json');\n        if (isFile(pkgfile)) {\n            try {\n                var body = readFileSync(pkgfile, 'UTF8');\n                var pkg = JSON.parse(body);\n            } catch (e) {}\n\n            if (pkg && opts.packageFilter) {\n                // v2 will pass pkgfile\n                pkg = opts.packageFilter(pkg, /*pkgfile,*/ x); // eslint-disable-line spaced-comment\n            }\n\n            if (pkg && pkg.main) {\n                if (typeof pkg.main !== 'string') {\n                    var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n                    mainError.code = 'INVALID_PACKAGE_MAIN';\n                    throw mainError;\n                }\n                if (pkg.main === '.' || pkg.main === './') {\n                    pkg.main = 'index';\n                }\n                try {\n                    var m = loadAsFileSync(path.resolve(x, pkg.main));\n                    if (m) return m;\n                    var n = loadAsDirectorySync(path.resolve(x, pkg.main));\n                    if (n) return n;\n                } catch (e) {}\n            }\n        }\n\n        return loadAsFileSync(path.join(x, '/index'));\n    }\n\n    function loadNodeModulesSync(x, start) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        var dirs = packageIterator ? packageIterator(x, start, thunk, opts) : thunk();\n\n        for (var i = 0; i < dirs.length; i++) {\n            var dir = dirs[i];\n            if (isDirectory(path.dirname(dir))) {\n                var m = loadAsFileSync(dir);\n                if (m) return m;\n                var n = loadAsDirectorySync(dir);\n                if (n) return n;\n            }\n        }\n    }\n};\n","'use strict';\nconst fs = require('fs');\nconst path = require('path');\nconst {promisify} = require('util');\nconst semver = require('semver');\n\nconst useNativeRecursiveOption = semver.satisfies(process.version, '>=10.12.0');\n\n// https://github.com/nodejs/node/issues/8987\n// https://github.com/libuv/libuv/pull/1088\nconst checkPath = pth => {\n\tif (process.platform === 'win32') {\n\t\tconst pathHasInvalidWinCharacters = /[<>:\"|?*]/.test(pth.replace(path.parse(pth).root, ''));\n\n\t\tif (pathHasInvalidWinCharacters) {\n\t\t\tconst error = new Error(`Path contains invalid characters: ${pth}`);\n\t\t\terror.code = 'EINVAL';\n\t\t\tthrow error;\n\t\t}\n\t}\n};\n\nconst processOptions = options => {\n\t// https://github.com/sindresorhus/make-dir/issues/18\n\tconst defaults = {\n\t\tmode: 0o777,\n\t\tfs\n\t};\n\n\treturn {\n\t\t...defaults,\n\t\t...options\n\t};\n};\n\nconst permissionError = pth => {\n\t// This replicates the exception of `fs.mkdir` with native the\n\t// `recusive` option when run on an invalid drive under Windows.\n\tconst error = new Error(`operation not permitted, mkdir '${pth}'`);\n\terror.code = 'EPERM';\n\terror.errno = -4048;\n\terror.path = pth;\n\terror.syscall = 'mkdir';\n\treturn error;\n};\n\nconst makeDir = async (input, options) => {\n\tcheckPath(input);\n\toptions = processOptions(options);\n\n\tconst mkdir = promisify(options.fs.mkdir);\n\tconst stat = promisify(options.fs.stat);\n\n\tif (useNativeRecursiveOption && options.fs.mkdir === fs.mkdir) {\n\t\tconst pth = path.resolve(input);\n\n\t\tawait mkdir(pth, {\n\t\t\tmode: options.mode,\n\t\t\trecursive: true\n\t\t});\n\n\t\treturn pth;\n\t}\n\n\tconst make = async pth => {\n\t\ttry {\n\t\t\tawait mkdir(pth, options.mode);\n\n\t\t\treturn pth;\n\t\t} catch (error) {\n\t\t\tif (error.code === 'EPERM') {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\tif (error.code === 'ENOENT') {\n\t\t\t\tif (path.dirname(pth) === pth) {\n\t\t\t\t\tthrow permissionError(pth);\n\t\t\t\t}\n\n\t\t\t\tif (error.message.includes('null bytes')) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\n\t\t\t\tawait make(path.dirname(pth));\n\n\t\t\t\treturn make(pth);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst stats = await stat(pth);\n\t\t\t\tif (!stats.isDirectory()) {\n\t\t\t\t\tthrow new Error('The path is not a directory');\n\t\t\t\t}\n\t\t\t} catch (_) {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\treturn pth;\n\t\t}\n\t};\n\n\treturn make(path.resolve(input));\n};\n\nmodule.exports = makeDir;\n\nmodule.exports.sync = (input, options) => {\n\tcheckPath(input);\n\toptions = processOptions(options);\n\n\tif (useNativeRecursiveOption && options.fs.mkdirSync === fs.mkdirSync) {\n\t\tconst pth = path.resolve(input);\n\n\t\tfs.mkdirSync(pth, {\n\t\t\tmode: options.mode,\n\t\t\trecursive: true\n\t\t});\n\n\t\treturn pth;\n\t}\n\n\tconst make = pth => {\n\t\ttry {\n\t\t\toptions.fs.mkdirSync(pth, options.mode);\n\t\t} catch (error) {\n\t\t\tif (error.code === 'EPERM') {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\tif (error.code === 'ENOENT') {\n\t\t\t\tif (path.dirname(pth) === pth) {\n\t\t\t\t\tthrow permissionError(pth);\n\t\t\t\t}\n\n\t\t\t\tif (error.message.includes('null bytes')) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\n\t\t\t\tmake(path.dirname(pth));\n\t\t\t\treturn make(pth);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (!options.fs.statSync(pth).isDirectory()) {\n\t\t\t\t\tthrow new Error('The path is not a directory');\n\t\t\t\t}\n\t\t\t} catch (_) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn pth;\n\t};\n\n\treturn make(path.resolve(input));\n};\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar t = exports.tokens = {}\nvar R = 0\n\nfunction tok (n) {\n  t[n] = R++\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ntok('NUMERICIDENTIFIER')\nsrc[t.NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\ntok('NUMERICIDENTIFIERLOOSE')\nsrc[t.NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ntok('NONNUMERICIDENTIFIER')\nsrc[t.NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ntok('MAINVERSION')\nsrc[t.MAINVERSION] = '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')'\n\ntok('MAINVERSIONLOOSE')\nsrc[t.MAINVERSIONLOOSE] = '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ntok('PRERELEASEIDENTIFIER')\nsrc[t.PRERELEASEIDENTIFIER] = '(?:' + src[t.NUMERICIDENTIFIER] +\n                            '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\ntok('PRERELEASEIDENTIFIERLOOSE')\nsrc[t.PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[t.NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ntok('PRERELEASE')\nsrc[t.PRERELEASE] = '(?:-(' + src[t.PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[t.PRERELEASEIDENTIFIER] + ')*))'\n\ntok('PRERELEASELOOSE')\nsrc[t.PRERELEASELOOSE] = '(?:-?(' + src[t.PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[t.PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ntok('BUILDIDENTIFIER')\nsrc[t.BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ntok('BUILD')\nsrc[t.BUILD] = '(?:\\\\+(' + src[t.BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[t.BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ntok('FULL')\ntok('FULLPLAIN')\nsrc[t.FULLPLAIN] = 'v?' + src[t.MAINVERSION] +\n                  src[t.PRERELEASE] + '?' +\n                  src[t.BUILD] + '?'\n\nsrc[t.FULL] = '^' + src[t.FULLPLAIN] + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ntok('LOOSEPLAIN')\nsrc[t.LOOSEPLAIN] = '[v=\\\\s]*' + src[t.MAINVERSIONLOOSE] +\n                  src[t.PRERELEASELOOSE] + '?' +\n                  src[t.BUILD] + '?'\n\ntok('LOOSE')\nsrc[t.LOOSE] = '^' + src[t.LOOSEPLAIN] + '$'\n\ntok('GTLT')\nsrc[t.GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ntok('XRANGEIDENTIFIERLOOSE')\nsrc[t.XRANGEIDENTIFIERLOOSE] = src[t.NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\ntok('XRANGEIDENTIFIER')\nsrc[t.XRANGEIDENTIFIER] = src[t.NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\ntok('XRANGEPLAIN')\nsrc[t.XRANGEPLAIN] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[t.PRERELEASE] + ')?' +\n                   src[t.BUILD] + '?' +\n                   ')?)?'\n\ntok('XRANGEPLAINLOOSE')\nsrc[t.XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[t.PRERELEASELOOSE] + ')?' +\n                        src[t.BUILD] + '?' +\n                        ')?)?'\n\ntok('XRANGE')\nsrc[t.XRANGE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAIN] + '$'\ntok('XRANGELOOSE')\nsrc[t.XRANGELOOSE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ntok('COERCE')\nsrc[t.COERCE] = '(^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\ntok('COERCERTL')\nre[t.COERCERTL] = new RegExp(src[t.COERCE], 'g')\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ntok('LONETILDE')\nsrc[t.LONETILDE] = '(?:~>?)'\n\ntok('TILDETRIM')\nsrc[t.TILDETRIM] = '(\\\\s*)' + src[t.LONETILDE] + '\\\\s+'\nre[t.TILDETRIM] = new RegExp(src[t.TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\ntok('TILDE')\nsrc[t.TILDE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAIN] + '$'\ntok('TILDELOOSE')\nsrc[t.TILDELOOSE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ntok('LONECARET')\nsrc[t.LONECARET] = '(?:\\\\^)'\n\ntok('CARETTRIM')\nsrc[t.CARETTRIM] = '(\\\\s*)' + src[t.LONECARET] + '\\\\s+'\nre[t.CARETTRIM] = new RegExp(src[t.CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\ntok('CARET')\nsrc[t.CARET] = '^' + src[t.LONECARET] + src[t.XRANGEPLAIN] + '$'\ntok('CARETLOOSE')\nsrc[t.CARETLOOSE] = '^' + src[t.LONECARET] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ntok('COMPARATORLOOSE')\nsrc[t.COMPARATORLOOSE] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.LOOSEPLAIN] + ')$|^$'\ntok('COMPARATOR')\nsrc[t.COMPARATOR] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.FULLPLAIN] + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ntok('COMPARATORTRIM')\nsrc[t.COMPARATORTRIM] = '(\\\\s*)' + src[t.GTLT] +\n                      '\\\\s*(' + src[t.LOOSEPLAIN] + '|' + src[t.XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[t.COMPARATORTRIM] = new RegExp(src[t.COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ntok('HYPHENRANGE')\nsrc[t.HYPHENRANGE] = '^\\\\s*(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\ntok('HYPHENRANGELOOSE')\nsrc[t.HYPHENRANGELOOSE] = '^\\\\s*(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\ntok('STAR')\nsrc[t.STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\nSemVer.prototype.compareBuild = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  var i = 0\n  do {\n    var a = this.build[i]\n    var b = other.build[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.compareBuild = compareBuild\nfunction compareBuild (a, b, loose) {\n  var versionA = new SemVer(a, loose)\n  var versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(b, a, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1] !== undefined ? m[1] : ''\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY || version === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    if (this.value === '') {\n      return true\n    }\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    if (comp.value === '') {\n      return true\n    }\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return (\n      isSatisfiable(thisComparators, options) &&\n      range.set.some(function (rangeComparators) {\n        return (\n          isSatisfiable(rangeComparators, options) &&\n          thisComparators.every(function (thisComparator) {\n            return rangeComparators.every(function (rangeComparator) {\n              return thisComparator.intersects(rangeComparator, options)\n            })\n          })\n        )\n      })\n    )\n  })\n}\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nfunction isSatisfiable (comparators, options) {\n  var result = true\n  var remainingComparators = comparators.slice()\n  var testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every(function (otherComparator) {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p + pr\n    } else if (xm) {\n      ret = '>=' + M + '.0.0' + pr + ' <' + (+M + 1) + '.0.0' + pr\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0' + pr +\n        ' <' + M + '.' + (+m + 1) + '.0' + pr\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version, options) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  var match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    var next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n      (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n          next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(match[2] +\n    '.' + (match[3] || '0') +\n    '.' + (match[4] || '0'), options)\n}\n",null,null,null,"'use strict'\n/* eslint no-prototype-builtins: 0 */\nconst os = require('os')\nconst stdSerializers = require('pino-std-serializers')\nconst redaction = require('./lib/redaction')\nconst time = require('./lib/time')\nconst proto = require('./lib/proto')\nconst symbols = require('./lib/symbols')\nconst { assertDefaultLevelFound, mappings, genLsCache } = require('./lib/levels')\nconst {\n  createArgsNormalizer,\n  asChindings,\n  final,\n  stringify,\n  buildSafeSonicBoom,\n  buildFormatters,\n  noop\n} = require('./lib/tools')\nconst { version } = require('./lib/meta')\nconst {\n  chindingsSym,\n  redactFmtSym,\n  serializersSym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  stringifySym,\n  stringifiersSym,\n  setLevelSym,\n  endSym,\n  formatOptsSym,\n  messageKeySym,\n  nestedKeySym,\n  mixinSym,\n  useOnlyCustomLevelsSym,\n  formattersSym,\n  hooksSym\n} = symbols\nconst { epochTime, nullTime } = time\nconst { pid } = process\nconst hostname = os.hostname()\nconst defaultErrorSerializer = stdSerializers.err\nconst defaultOptions = {\n  level: 'info',\n  messageKey: 'msg',\n  nestedKey: null,\n  enabled: true,\n  prettyPrint: false,\n  base: { pid, hostname },\n  serializers: Object.assign(Object.create(null), {\n    err: defaultErrorSerializer\n  }),\n  formatters: Object.assign(Object.create(null), {\n    bindings (bindings) {\n      return bindings\n    },\n    level (label, number) {\n      return { level: number }\n    }\n  }),\n  hooks: {\n    logMethod: undefined\n  },\n  timestamp: epochTime,\n  name: undefined,\n  redact: null,\n  customLevels: null,\n  levelKey: undefined,\n  useOnlyCustomLevels: false\n}\n\nconst normalize = createArgsNormalizer(defaultOptions)\n\nconst serializers = Object.assign(Object.create(null), stdSerializers)\n\nfunction pino (...args) {\n  const instance = {}\n  const { opts, stream } = normalize(instance, ...args)\n  const {\n    redact,\n    crlf,\n    serializers,\n    timestamp,\n    messageKey,\n    nestedKey,\n    base,\n    name,\n    level,\n    customLevels,\n    useLevelLabels,\n    changeLevelName,\n    levelKey,\n    mixin,\n    useOnlyCustomLevels,\n    formatters,\n    hooks\n  } = opts\n\n  const allFormatters = buildFormatters(\n    formatters.level,\n    formatters.bindings,\n    formatters.log\n  )\n\n  if (useLevelLabels && !(changeLevelName || levelKey)) {\n    process.emitWarning('useLevelLabels is deprecated, use the formatters.level option instead', 'Warning', 'PINODEP001')\n    allFormatters.level = labelsFormatter\n  } else if ((changeLevelName || levelKey) && !useLevelLabels) {\n    process.emitWarning('changeLevelName and levelKey are deprecated, use the formatters.level option instead', 'Warning', 'PINODEP002')\n    allFormatters.level = levelNameFormatter(changeLevelName || levelKey)\n  } else if ((changeLevelName || levelKey) && useLevelLabels) {\n    process.emitWarning('useLevelLabels is deprecated, use the formatters.level option instead', 'Warning', 'PINODEP001')\n    process.emitWarning('changeLevelName and levelKey are deprecated, use the formatters.level option instead', 'Warning', 'PINODEP002')\n    allFormatters.level = levelNameLabelFormatter(changeLevelName || levelKey)\n  }\n\n  if (serializers[Symbol.for('pino.*')]) {\n    process.emitWarning('The pino.* serializer is deprecated, use the formatters.log options instead', 'Warning', 'PINODEP003')\n    allFormatters.log = serializers[Symbol.for('pino.*')]\n  }\n\n  if (!allFormatters.bindings) {\n    allFormatters.bindings = defaultOptions.formatters.bindings\n  }\n  if (!allFormatters.level) {\n    allFormatters.level = defaultOptions.formatters.level\n  }\n\n  const stringifiers = redact ? redaction(redact, stringify) : {}\n  const formatOpts = redact\n    ? { stringify: stringifiers[redactFmtSym] }\n    : { stringify }\n  const end = '}' + (crlf ? '\\r\\n' : '\\n')\n  const coreChindings = asChindings.bind(null, {\n    [chindingsSym]: '',\n    [serializersSym]: serializers,\n    [stringifiersSym]: stringifiers,\n    [stringifySym]: stringify,\n    [formattersSym]: allFormatters\n  })\n  const chindings = base === null ? '' : (name === undefined)\n    ? coreChindings(base) : coreChindings(Object.assign({}, base, { name }))\n  const time = (timestamp instanceof Function)\n    ? timestamp : (timestamp ? epochTime : nullTime)\n  const timeSliceIndex = time().indexOf(':') + 1\n\n  if (useOnlyCustomLevels && !customLevels) throw Error('customLevels is required if useOnlyCustomLevels is set true')\n  if (mixin && typeof mixin !== 'function') throw Error(`Unknown mixin type \"${typeof mixin}\" - expected \"function\"`)\n\n  assertDefaultLevelFound(level, customLevels, useOnlyCustomLevels)\n  const levels = mappings(customLevels, useOnlyCustomLevels)\n\n  Object.assign(instance, {\n    levels,\n    [useOnlyCustomLevelsSym]: useOnlyCustomLevels,\n    [streamSym]: stream,\n    [timeSym]: time,\n    [timeSliceIndexSym]: timeSliceIndex,\n    [stringifySym]: stringify,\n    [stringifiersSym]: stringifiers,\n    [endSym]: end,\n    [formatOptsSym]: formatOpts,\n    [messageKeySym]: messageKey,\n    [nestedKeySym]: nestedKey,\n    [serializersSym]: serializers,\n    [mixinSym]: mixin,\n    [chindingsSym]: chindings,\n    [formattersSym]: allFormatters,\n    [hooksSym]: hooks,\n    silent: noop\n  })\n\n  Object.setPrototypeOf(instance, proto())\n\n  genLsCache(instance)\n\n  instance[setLevelSym](level)\n\n  return instance\n}\n\nfunction labelsFormatter (label, number) {\n  return { level: label }\n}\n\nfunction levelNameFormatter (name) {\n  return function (label, number) {\n    return { [name]: number }\n  }\n}\n\nfunction levelNameLabelFormatter (name) {\n  return function (label, number) {\n    return { [name]: label }\n  }\n}\n\npino.extreme = (dest = process.stdout.fd) => {\n  process.emitWarning(\n    'The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.',\n    { code: 'extreme_deprecation' }\n  )\n  return buildSafeSonicBoom({ dest, minLength: 4096, sync: false })\n}\npino.destination = (dest = process.stdout.fd) => {\n  if (typeof dest === 'object') {\n    dest.dest = dest.dest || process.stdout.fd\n    return buildSafeSonicBoom(dest)\n  } else {\n    return buildSafeSonicBoom({ dest, minLength: 0, sync: true })\n  }\n}\n\npino.final = final\npino.levels = mappings()\npino.stdSerializers = serializers\npino.stdTimeFunctions = Object.assign({}, time)\npino.symbols = symbols\npino.version = version\n\nmodule.exports = pino\n","'use strict'\n\nvar errSerializer = require('./lib/err')\nvar reqSerializers = require('./lib/req')\nvar resSerializers = require('./lib/res')\n\nmodule.exports = {\n  err: errSerializer,\n  mapHttpRequest: reqSerializers.mapHttpRequest,\n  mapHttpResponse: resSerializers.mapHttpResponse,\n  req: reqSerializers.reqSerializer,\n  res: resSerializers.resSerializer,\n\n  wrapErrorSerializer: function wrapErrorSerializer (customSerializer) {\n    if (customSerializer === errSerializer) return customSerializer\n    return function wrapErrSerializer (err) {\n      return customSerializer(errSerializer(err))\n    }\n  },\n\n  wrapRequestSerializer: function wrapRequestSerializer (customSerializer) {\n    if (customSerializer === reqSerializers.reqSerializer) return customSerializer\n    return function wrappedReqSerializer (req) {\n      return customSerializer(reqSerializers.reqSerializer(req))\n    }\n  },\n\n  wrapResponseSerializer: function wrapResponseSerializer (customSerializer) {\n    if (customSerializer === resSerializers.resSerializer) return customSerializer\n    return function wrappedResSerializer (res) {\n      return customSerializer(resSerializers.resSerializer(res))\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = errSerializer\n\nconst seen = Symbol('circular-ref-tag')\nconst rawSymbol = Symbol('pino-raw-err-ref')\nconst pinoErrProto = Object.create({}, {\n  type: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  message: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  stack: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoErrProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction errSerializer (err) {\n  if (!(err instanceof Error)) {\n    return err\n  }\n\n  err[seen] = undefined // tag to prevent re-looking at this\n  const _err = Object.create(pinoErrProto)\n  _err.type = err.constructor.name\n  _err.message = err.message\n  _err.stack = err.stack\n  for (const key in err) {\n    if (_err[key] === undefined) {\n      const val = err[key]\n      if (val instanceof Error) {\n        if (!val.hasOwnProperty(seen)) {\n          _err[key] = errSerializer(val)\n        }\n      } else {\n        _err[key] = val\n      }\n    }\n  }\n\n  delete err[seen] // clean up tag in case err is serialized again later\n  _err.raw = err\n  return _err\n}\n","'use strict'\n\nmodule.exports = {\n  mapHttpRequest,\n  reqSerializer\n}\n\nvar rawSymbol = Symbol('pino-raw-req-ref')\nvar pinoReqProto = Object.create({}, {\n  id: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  method: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  url: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  headers: {\n    enumerable: true,\n    writable: true,\n    value: {}\n  },\n  remoteAddress: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  remotePort: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoReqProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction reqSerializer (req) {\n  // req.info is for hapi compat.\n  var connection = req.info || req.connection\n  const _req = Object.create(pinoReqProto)\n  _req.id = (typeof req.id === 'function' ? req.id() : (req.id || (req.info ? req.info.id : undefined)))\n  _req.method = req.method\n  // req.originalUrl is for expressjs compat.\n  if (req.originalUrl) {\n    _req.url = req.originalUrl\n  } else {\n    // req.url.path is  for hapi compat.\n    _req.url = req.url ? (req.url.path || req.url) : undefined\n  }\n  _req.headers = req.headers\n  _req.remoteAddress = connection && connection.remoteAddress\n  _req.remotePort = connection && connection.remotePort\n  // req.raw is  for hapi compat/equivalence\n  _req.raw = req.raw || req\n  return _req\n}\n\nfunction mapHttpRequest (req) {\n  return {\n    req: reqSerializer(req)\n  }\n}\n","'use strict'\n\nmodule.exports = {\n  mapHttpResponse,\n  resSerializer\n}\n\nvar rawSymbol = Symbol('pino-raw-res-ref')\nvar pinoResProto = Object.create({}, {\n  statusCode: {\n    enumerable: true,\n    writable: true,\n    value: 0\n  },\n  headers: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoResProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction resSerializer (res) {\n  const _res = Object.create(pinoResProto)\n  _res.statusCode = res.statusCode\n  _res.headers = res.getHeaders ? res.getHeaders() : res._headers\n  _res.raw = res\n  return _res\n}\n\nfunction mapHttpResponse (res) {\n  return {\n    res: resSerializer(res)\n  }\n}\n","'use strict'\n\nconst fastRedact = require('fast-redact')\nconst { redactFmtSym, wildcardFirstSym } = require('./symbols')\nconst { rx, validator } = fastRedact\n\nconst validate = validator({\n  ERR_PATHS_MUST_BE_STRINGS: () => 'pino – redacted paths must be strings',\n  ERR_INVALID_PATH: (s) => `pino – redact paths array contains an invalid path (${s})`\n})\n\nconst CENSOR = '[Redacted]'\nconst strict = false // TODO should this be configurable?\n\nfunction redaction (opts, serialize) {\n  const { paths, censor } = handle(opts)\n\n  const shape = paths.reduce((o, str) => {\n    rx.lastIndex = 0\n    const first = rx.exec(str)\n    const next = rx.exec(str)\n\n    // ns is the top-level path segment, brackets + quoting removed.\n    let ns = first[1] !== undefined\n      ? first[1].replace(/^(?:\"|'|`)(.*)(?:\"|'|`)$/, '$1')\n      : first[0]\n\n    if (ns === '*') {\n      ns = wildcardFirstSym\n    }\n\n    // top level key:\n    if (next === null) {\n      o[ns] = null\n      return o\n    }\n\n    // path with at least two segments:\n    // if ns is already redacted at the top level, ignore lower level redactions\n    if (o[ns] === null) {\n      return o\n    }\n\n    const { index } = next\n    const nextPath = `${str.substr(index, str.length - 1)}`\n\n    o[ns] = o[ns] || []\n\n    // shape is a mix of paths beginning with literal values and wildcard\n    // paths [ \"a.b.c\", \"*.b.z\" ] should reduce to a shape of\n    // { \"a\": [ \"b.c\", \"b.z\" ], *: [ \"b.z\" ] }\n    // note: \"b.z\" is in both \"a\" and * arrays because \"a\" matches the wildcard.\n    // (* entry has wildcardFirstSym as key)\n    if (ns !== wildcardFirstSym && o[ns].length === 0) {\n      // first time ns's get all '*' redactions so far\n      o[ns].push(...(o[wildcardFirstSym] || []))\n    }\n\n    if (ns === wildcardFirstSym) {\n      // new * path gets added to all previously registered literal ns's.\n      Object.keys(o).forEach(function (k) {\n        if (o[k]) {\n          o[k].push(nextPath)\n        }\n      })\n    }\n\n    o[ns].push(nextPath)\n    return o\n  }, {})\n\n  // the redactor assigned to the format symbol key\n  // provides top level redaction for instances where\n  // an object is interpolated into the msg string\n  const result = {\n    [redactFmtSym]: fastRedact({ paths, censor, serialize, strict })\n  }\n\n  const topCensor = (...args) =>\n    typeof censor === 'function' ? serialize(censor(...args)) : serialize(censor)\n\n  return [...Object.keys(shape), ...Object.getOwnPropertySymbols(shape)].reduce((o, k) => {\n    // top level key:\n    if (shape[k] === null) o[k] = topCensor\n    else o[k] = fastRedact({ paths: shape[k], censor, serialize, strict })\n    return o\n  }, result)\n}\n\nfunction handle (opts) {\n  if (Array.isArray(opts)) {\n    opts = { paths: opts, censor: CENSOR }\n    validate(opts)\n    return opts\n  }\n  var { paths, censor = CENSOR, remove } = opts\n  if (Array.isArray(paths) === false) { throw Error('pino – redact must contain an array of strings') }\n  if (remove === true) censor = undefined\n  validate({ paths, censor })\n\n  return { paths, censor }\n}\n\nmodule.exports = redaction\n","'use strict'\n\nconst validator = require('./lib/validator')\nconst parse = require('./lib/parse')\nconst redactor = require('./lib/redactor')\nconst restorer = require('./lib/restorer')\nconst { groupRedact, nestedRedact } = require('./lib/modifiers')\nconst state = require('./lib/state')\nconst rx = require('./lib/rx')\nconst validate = validator()\nconst noop = (o) => o\nnoop.restore = noop\n\nconst DEFAULT_CENSOR = '[REDACTED]'\nfastRedact.rx = rx\nfastRedact.validator = validator\n\nmodule.exports = fastRedact\n\nfunction fastRedact (opts = {}) {\n  const paths = Array.from(new Set(opts.paths || []))\n  const serialize = 'serialize' in opts ? (\n    opts.serialize === false ? opts.serialize\n      : (typeof opts.serialize === 'function' ? opts.serialize : JSON.stringify)\n  ) : JSON.stringify\n  const remove = opts.remove\n  if (remove === true && serialize !== JSON.stringify) {\n    throw Error('fast-redact – remove option may only be set when serializer is JSON.stringify')\n  }\n  const censor = remove === true\n    ? undefined\n    : 'censor' in opts ? opts.censor : DEFAULT_CENSOR\n\n  const isCensorFct = typeof censor === 'function'\n\n  if (paths.length === 0) return serialize || noop\n\n  validate({ paths, serialize, censor })\n\n  const { wildcards, wcLen, secret } = parse({ paths, censor })\n\n  const compileRestore = restorer({ secret, wcLen })\n  const strict = 'strict' in opts ? opts.strict : true\n\n  return redactor({ secret, wcLen, serialize, strict, isCensorFct }, state({\n    secret,\n    censor,\n    compileRestore,\n    serialize,\n    groupRedact,\n    nestedRedact,\n    wildcards,\n    wcLen\n  }))\n}\n","'use strict'\n\nconst { createContext, runInContext } = require('vm')\n\nmodule.exports = validator\n\nfunction validator (opts = {}) {\n  const {\n    ERR_PATHS_MUST_BE_STRINGS = () => 'fast-redact - Paths must be strings',\n    ERR_INVALID_PATH = (s) => `fast-redact – Invalid path (${s})`\n  } = opts\n\n  return function validate ({ paths }) {\n    paths.forEach((s) => {\n      if (typeof s !== 'string') {\n        throw Error(ERR_PATHS_MUST_BE_STRINGS())\n      }\n      try {\n        if (/〇/.test(s)) throw Error()\n        const proxy = new Proxy({}, { get: () => proxy, set: () => { throw Error() } })\n        const expr = (s[0] === '[' ? '' : '.') + s.replace(/^\\*/, '〇').replace(/\\.\\*/g, '.〇').replace(/\\[\\*\\]/g, '[〇]')\n        if (/\\n|\\r|;/.test(expr)) throw Error()\n        if (/\\/\\*/.test(expr)) throw Error()\n        runInContext(`\n          (function () {\n            'use strict'\n            o${expr}\n            if ([o${expr}].length !== 1) throw Error()\n          })()\n        `, createContext({ o: proxy, 〇: null }), {\n          codeGeneration: { strings: false, wasm: false }\n        })\n      } catch (e) {\n        throw Error(ERR_INVALID_PATH(s))\n      }\n    })\n  }\n}\n","'use strict'\n\nconst rx = require('./rx')\n\nmodule.exports = parse\n\nfunction parse ({ paths }) {\n  const wildcards = []\n  var wcLen = 0\n  const secret = paths.reduce(function (o, strPath, ix) {\n    var path = strPath.match(rx).map((p) => p.replace(/'|\"|`/g, ''))\n    const leadingBracket = strPath[0] === '['\n    path = path.map((p) => {\n      if (p[0] === '[') return p.substr(1, p.length - 2)\n      else return p\n    })\n    const star = path.indexOf('*')\n    if (star > -1) {\n      const before = path.slice(0, star)\n      const beforeStr = before.join('.')\n      const after = path.slice(star + 1, path.length)\n      if (after.indexOf('*') > -1) throw Error('fast-redact – Only one wildcard per path is supported')\n      const nested = after.length > 0\n      wcLen++\n      wildcards.push({\n        before,\n        beforeStr,\n        after,\n        nested\n      })\n    } else {\n      o[strPath] = {\n        path: path,\n        val: undefined,\n        precensored: false,\n        circle: '',\n        escPath: JSON.stringify(strPath),\n        leadingBracket: leadingBracket\n      }\n    }\n    return o\n  }, {})\n\n  return { wildcards, wcLen, secret }\n}\n","'use strict'\n\nmodule.exports = /[^.[\\]]+|\\[((?:.)*?)\\]/g\n","'use strict'\n\nconst rx = require('./rx')\n\nmodule.exports = redactor\n\nfunction redactor ({ secret, serialize, wcLen, strict, isCensorFct }, state) {\n  /* eslint-disable-next-line */\n  const redact = Function('o', `\n    if (typeof o !== 'object' || o == null) {\n      ${strictImpl(strict, serialize)}\n    }\n    const { censor, secret } = this\n    ${redactTmpl(secret, isCensorFct)}\n    this.compileRestore()\n    ${dynamicRedactTmpl(wcLen > 0, isCensorFct)}\n    ${resultTmpl(serialize)}\n  `).bind(state)\n\n  if (serialize === false) {\n    redact.restore = (o) => state.restore(o)\n  }\n\n  return redact\n}\n\nfunction redactTmpl (secret, isCensorFct) {\n  return Object.keys(secret).map((path) => {\n    const { escPath, leadingBracket } = secret[path]\n    const skip = leadingBracket ? 1 : 0\n    const delim = leadingBracket ? '' : '.'\n    const hops = []\n    var match\n    while ((match = rx.exec(path)) !== null) {\n      const [ , ix ] = match\n      const { index, input } = match\n      if (index > skip) hops.push(input.substring(0, index - (ix ? 0 : 1)))\n    }\n    var existence = hops.map((p) => `o${delim}${p}`).join(' && ')\n    if (existence.length === 0) existence += `o${delim}${path} != null`\n    else existence += ` && o${delim}${path} != null`\n\n    const circularDetection = `\n      switch (true) {\n        ${hops.reverse().map((p) => `\n          case o${delim}${p} === censor:\n            secret[${escPath}].circle = ${JSON.stringify(p)}\n            break\n        `).join('\\n')}\n      }\n    `\n    return `\n      if (${existence}) {\n        const val = o${delim}${path}\n        if (val === censor) {\n          secret[${escPath}].precensored = true\n        } else {\n          secret[${escPath}].val = val\n          o${delim}${path} = ${isCensorFct ? 'censor(val)' : 'censor'}\n          ${circularDetection}\n        }\n      }\n    `\n  }).join('\\n')\n}\n\nfunction dynamicRedactTmpl (hasWildcards, isCensorFct) {\n  return hasWildcards === true ? `\n    {\n      const { wildcards, wcLen, groupRedact, nestedRedact } = this\n      for (var i = 0; i < wcLen; i++) {\n        const { before, beforeStr, after, nested } = wildcards[i]\n        if (nested === true) {\n          secret[beforeStr] = secret[beforeStr] || []\n          nestedRedact(secret[beforeStr], o, before, after, censor, ${isCensorFct})\n        } else secret[beforeStr] = groupRedact(o, before, censor, ${isCensorFct})\n      }\n    }\n  ` : ''\n}\n\nfunction resultTmpl (serialize) {\n  return serialize === false ? `return o` : `\n    var s = this.serialize(o)\n    this.restore(o)\n    return s\n  `\n}\n\nfunction strictImpl (strict, serialize) {\n  return strict === true\n    ? `throw Error('fast-redact: primitives cannot be redacted')`\n    : serialize === false ? `return o` : `return this.serialize(o)`\n}\n","'use strict'\n\nconst { groupRestore, nestedRestore } = require('./modifiers')\n\nmodule.exports = restorer\n\nfunction restorer ({ secret, wcLen }) {\n  return function compileRestore () {\n    if (this.restore) return\n    const paths = Object.keys(secret)\n      .filter((path) => secret[path].precensored === false)\n    const resetters = resetTmpl(secret, paths)\n    const hasWildcards = wcLen > 0\n    const state = hasWildcards ? { secret, groupRestore, nestedRestore } : { secret }\n    /* eslint-disable-next-line */\n    this.restore = Function(\n      'o',\n      restoreTmpl(resetters, paths, hasWildcards)\n    ).bind(state)\n  }\n}\n\n/**\n * Mutates the original object to be censored by restoring its original values\n * prior to censoring.\n *\n * @param {object} secret Compiled object describing which target fields should\n * be censored and the field states.\n * @param {string[]} paths The list of paths to censor as provided at\n * initialization time.\n *\n * @returns {string} String of JavaScript to be used by `Function()`. The\n * string compiles to the function that does the work in the description.\n */\nfunction resetTmpl (secret, paths) {\n  return paths.map((path) => {\n    const { circle, escPath, leadingBracket } = secret[path]\n    const delim = leadingBracket ? '' : '.'\n    const reset = circle\n      ? `o.${circle} = secret[${escPath}].val`\n      : `o${delim}${path} = secret[${escPath}].val`\n    const clear = `secret[${escPath}].val = undefined`\n    return `\n      if (secret[${escPath}].val !== undefined) {\n        try { ${reset} } catch (e) {}\n        ${clear}\n      }\n    `\n  }).join('')\n}\n\nfunction restoreTmpl (resetters, paths, hasWildcards) {\n  const dynamicReset = hasWildcards === true ? `\n    const keys = Object.keys(secret)\n    const len = keys.length\n    for (var i = ${paths.length}; i < len; i++) {\n      const k = keys[i]\n      const o = secret[k]\n      if (o.flat === true) this.groupRestore(o)\n      else this.nestedRestore(o)\n      secret[k] = null\n    }\n  ` : ''\n\n  return `\n    const secret = this.secret\n    ${resetters}\n    ${dynamicReset}\n    return o\n  `\n}\n","'use strict'\n\nmodule.exports = {\n  groupRedact,\n  groupRestore,\n  nestedRedact,\n  nestedRestore\n}\n\nfunction groupRestore ({ keys, values, target }) {\n  if (target == null) return\n  const length = keys.length\n  for (var i = 0; i < length; i++) {\n    const k = keys[i]\n    target[k] = values[i]\n  }\n}\n\nfunction groupRedact (o, path, censor, isCensorFct) {\n  const target = get(o, path)\n  if (target == null) return { keys: null, values: null, target: null, flat: true }\n  const keys = Object.keys(target)\n  const length = keys.length\n  const values = new Array(length)\n  for (var i = 0; i < length; i++) {\n    const k = keys[i]\n    values[i] = target[k]\n    target[k] = isCensorFct ? censor(target[k]) : censor\n  }\n  return { keys, values, target, flat: true }\n}\n\nfunction nestedRestore (arr) {\n  const length = arr.length\n  for (var i = 0; i < length; i++) {\n    const { key, target, value } = arr[i]\n    target[key] = value\n  }\n}\n\nfunction nestedRedact (store, o, path, ns, censor, isCensorFct) {\n  const target = get(o, path)\n  if (target == null) return\n  const keys = Object.keys(target)\n  const length = keys.length\n  for (var i = 0; i < length; i++) {\n    const key = keys[i]\n    const { value, parent, exists } = specialSet(target, key, ns, censor, isCensorFct)\n\n    if (exists === true && parent !== null) {\n      store.push({ key: ns[ns.length - 1], target: parent, value })\n    }\n  }\n  return store\n}\n\nfunction has (obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop)\n}\n\nfunction specialSet (o, k, p, v, f) {\n  var i = -1\n  var l = p.length\n  var li = l - 1\n  var n\n  var nv\n  var ov\n  var oov = null\n  var exists = true\n  ov = n = o[k]\n  if (typeof n !== 'object') return { value: null, parent: null, exists }\n  while (n != null && ++i < l) {\n    k = p[i]\n    oov = ov\n    if (!(k in n)) {\n      exists = false\n      break\n    }\n    ov = n[k]\n    nv = f ? v(ov) : v\n    nv = (i !== li) ? ov : nv\n    n[k] = (has(n, k) && nv === ov) || (nv === undefined && v !== undefined) ? n[k] : nv\n    n = n[k]\n    if (typeof n !== 'object') break\n  }\n  return { value: ov, parent: oov, exists }\n}\nfunction get (o, p) {\n  var i = -1\n  var l = p.length\n  var n = o\n  while (n != null && ++i < l) {\n    n = n[p[i]]\n  }\n  return n\n}\n","'use strict'\n\nmodule.exports = state\n\nfunction state (o) {\n  const {\n    secret,\n    censor,\n    isCensorFct,\n    compileRestore,\n    serialize,\n    groupRedact,\n    nestedRedact,\n    wildcards,\n    wcLen\n  } = o\n  const builder = [{ secret, censor, isCensorFct, compileRestore }]\n  builder.push({ secret })\n  if (serialize !== false) builder.push({ serialize })\n  if (wcLen > 0) builder.push({ groupRedact, nestedRedact, wildcards, wcLen })\n  return Object.assign(...builder)\n}\n","'use strict'\n\nconst setLevelSym = Symbol('pino.setLevel')\nconst getLevelSym = Symbol('pino.getLevel')\nconst levelValSym = Symbol('pino.levelVal')\nconst useLevelLabelsSym = Symbol('pino.useLevelLabels')\nconst useOnlyCustomLevelsSym = Symbol('pino.useOnlyCustomLevels')\nconst mixinSym = Symbol('pino.mixin')\n\nconst lsCacheSym = Symbol('pino.lsCache')\nconst chindingsSym = Symbol('pino.chindings')\nconst parsedChindingsSym = Symbol('pino.parsedChindings')\n\nconst asJsonSym = Symbol('pino.asJson')\nconst writeSym = Symbol('pino.write')\nconst redactFmtSym = Symbol('pino.redactFmt')\n\nconst timeSym = Symbol('pino.time')\nconst timeSliceIndexSym = Symbol('pino.timeSliceIndex')\nconst streamSym = Symbol('pino.stream')\nconst stringifySym = Symbol('pino.stringify')\nconst stringifiersSym = Symbol('pino.stringifiers')\nconst endSym = Symbol('pino.end')\nconst formatOptsSym = Symbol('pino.formatOpts')\nconst messageKeySym = Symbol('pino.messageKey')\nconst nestedKeySym = Symbol('pino.nestedKey')\n\nconst wildcardFirstSym = Symbol('pino.wildcardFirst')\n\n// public symbols, no need to use the same pino\n// version for these\nconst serializersSym = Symbol.for('pino.serializers')\nconst formattersSym = Symbol.for('pino.formatters')\nconst hooksSym = Symbol.for('pino.hooks')\nconst needsMetadataGsym = Symbol.for('pino.metadata')\n\nmodule.exports = {\n  setLevelSym,\n  getLevelSym,\n  levelValSym,\n  useLevelLabelsSym,\n  mixinSym,\n  lsCacheSym,\n  chindingsSym,\n  parsedChindingsSym,\n  asJsonSym,\n  writeSym,\n  serializersSym,\n  redactFmtSym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  stringifySym,\n  stringifiersSym,\n  endSym,\n  formatOptsSym,\n  messageKeySym,\n  nestedKeySym,\n  wildcardFirstSym,\n  needsMetadataGsym,\n  useOnlyCustomLevelsSym,\n  formattersSym,\n  hooksSym\n}\n","'use strict'\n\nconst nullTime = () => ''\n\nconst epochTime = () => `,\"time\":${Date.now()}`\n\nconst unixTime = () => `,\"time\":${Math.round(Date.now() / 1000.0)}`\n\nconst isoTime = () => `,\"time\":\"${new Date(Date.now()).toISOString()}\"` // using Date.now() for testability\n\nmodule.exports = { nullTime, epochTime, unixTime, isoTime }\n","'use strict'\n\n/* eslint no-prototype-builtins: 0 */\n\nconst { EventEmitter } = require('events')\nconst SonicBoom = require('sonic-boom')\nconst flatstr = require('flatstr')\nconst {\n  lsCacheSym,\n  levelValSym,\n  setLevelSym,\n  getLevelSym,\n  chindingsSym,\n  mixinSym,\n  asJsonSym,\n  writeSym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  serializersSym,\n  formattersSym,\n  useOnlyCustomLevelsSym,\n  needsMetadataGsym\n} = require('./symbols')\nconst {\n  getLevel,\n  setLevel,\n  isLevelEnabled,\n  mappings,\n  initialLsCache,\n  genLsCache,\n  assertNoLevelCollisions\n} = require('./levels')\nconst {\n  asChindings,\n  asJson,\n  buildFormatters\n} = require('./tools')\nconst {\n  version\n} = require('./meta')\n\n// note: use of class is satirical\n// https://github.com/pinojs/pino/pull/433#pullrequestreview-127703127\nconst constructor = class Pino {}\nconst prototype = {\n  constructor,\n  child,\n  bindings,\n  setBindings,\n  flush,\n  isLevelEnabled,\n  version,\n  get level () { return this[getLevelSym]() },\n  set level (lvl) { this[setLevelSym](lvl) },\n  get levelVal () { return this[levelValSym] },\n  set levelVal (n) { throw Error('levelVal is read-only') },\n  [lsCacheSym]: initialLsCache,\n  [writeSym]: write,\n  [asJsonSym]: asJson,\n  [getLevelSym]: getLevel,\n  [setLevelSym]: setLevel\n}\n\nObject.setPrototypeOf(prototype, EventEmitter.prototype)\n\n// exporting and consuming the prototype object using factory pattern fixes scoping issues with getters when serializing\nmodule.exports = function () {\n  return Object.create(prototype)\n}\n\nconst resetChildingsFormatter = bindings => bindings\nfunction child (bindings) {\n  if (!bindings) {\n    throw Error('missing bindings for child Pino')\n  }\n  const serializers = this[serializersSym]\n  const formatters = this[formattersSym]\n  const instance = Object.create(this)\n  if (bindings.hasOwnProperty('serializers') === true) {\n    instance[serializersSym] = Object.create(null)\n\n    for (var k in serializers) {\n      instance[serializersSym][k] = serializers[k]\n    }\n    const parentSymbols = Object.getOwnPropertySymbols(serializers)\n    for (var i = 0; i < parentSymbols.length; i++) {\n      const ks = parentSymbols[i]\n      instance[serializersSym][ks] = serializers[ks]\n    }\n\n    for (var bk in bindings.serializers) {\n      instance[serializersSym][bk] = bindings.serializers[bk]\n    }\n    const bindingsSymbols = Object.getOwnPropertySymbols(bindings.serializers)\n    for (var bi = 0; bi < bindingsSymbols.length; bi++) {\n      const bks = bindingsSymbols[bi]\n      instance[serializersSym][bks] = bindings.serializers[bks]\n    }\n  } else instance[serializersSym] = serializers\n  if (bindings.hasOwnProperty('formatters')) {\n    const { level, bindings: chindings, log } = bindings.formatters\n    instance[formattersSym] = buildFormatters(\n      level || formatters.level,\n      chindings || resetChildingsFormatter,\n      log || formatters.log\n    )\n  } else {\n    instance[formattersSym] = buildFormatters(\n      formatters.level,\n      resetChildingsFormatter,\n      formatters.log\n    )\n  }\n  if (bindings.hasOwnProperty('customLevels') === true) {\n    assertNoLevelCollisions(this.levels, bindings.customLevels)\n    instance.levels = mappings(bindings.customLevels, instance[useOnlyCustomLevelsSym])\n    genLsCache(instance)\n  }\n  instance[chindingsSym] = asChindings(instance, bindings)\n  const childLevel = bindings.level || this.level\n  instance[setLevelSym](childLevel)\n\n  return instance\n}\n\nfunction bindings () {\n  const chindings = this[chindingsSym]\n  var chindingsJson = `{${chindings.substr(1)}}` // at least contains ,\"pid\":7068,\"hostname\":\"myMac\"\n  var bindingsFromJson = JSON.parse(chindingsJson)\n  delete bindingsFromJson.pid\n  delete bindingsFromJson.hostname\n  return bindingsFromJson\n}\n\nfunction setBindings (newBindings) {\n  const chindings = asChindings(this, newBindings)\n  this[chindingsSym] = chindings\n}\n\nfunction write (_obj, msg, num) {\n  const t = this[timeSym]()\n  const mixin = this[mixinSym]\n  const objError = _obj instanceof Error\n  var obj\n\n  if (_obj === undefined || _obj === null) {\n    obj = mixin ? mixin() : {}\n  } else {\n    obj = Object.assign(mixin ? mixin() : {}, _obj)\n    if (!msg && objError) {\n      msg = _obj.message\n    }\n\n    if (objError) {\n      obj.stack = _obj.stack\n      if (!obj.type) {\n        obj.type = 'Error'\n      }\n    }\n  }\n\n  const s = this[asJsonSym](obj, msg, num, t)\n\n  const stream = this[streamSym]\n  if (stream[needsMetadataGsym] === true) {\n    stream.lastLevel = num\n    stream.lastObj = obj\n    stream.lastMsg = msg\n    stream.lastTime = t.slice(this[timeSliceIndexSym])\n    stream.lastLogger = this // for child loggers\n  }\n  if (stream instanceof SonicBoom) stream.write(s)\n  else stream.write(flatstr(s))\n}\n\nfunction flush () {\n  const stream = this[streamSym]\n  if ('flush' in stream) stream.flush()\n}\n","'use strict'\n\nconst fs = require('fs')\nconst EventEmitter = require('events')\nconst flatstr = require('flatstr')\nconst inherits = require('util').inherits\n\nconst BUSY_WRITE_TIMEOUT = 100\n\nconst sleep = require('atomic-sleep')\n\n// 16 MB - magic number\n// This constant ensures that SonicBoom only needs\n// 32 MB of free memory to run. In case of having 1GB+\n// of data to write, this prevents an out of memory\n// condition.\nconst MAX_WRITE = 16 * 1024 * 1024\n\nfunction openFile (file, sonic) {\n  sonic._opening = true\n  sonic._writing = true\n  sonic.file = file\n\n  // NOTE: 'error' and 'ready' events emitted below only relevant when sonic.sync===false\n  // for sync mode, there is no way to add a listener that will receive these\n\n  function fileOpened (err, fd) {\n    if (err) {\n      sonic.emit('error', err)\n      return\n    }\n\n    sonic.fd = fd\n    sonic._reopening = false\n    sonic._opening = false\n    sonic._writing = false\n\n    sonic.emit('ready')\n\n    if (sonic._reopening) {\n      return\n    }\n\n    // start\n    var len = sonic._buf.length\n    if (len > 0 && len > sonic.minLength && !sonic.destroyed) {\n      actualWrite(sonic)\n    }\n  }\n\n  if (sonic.sync) {\n    const fd = fs.openSync(file, 'a')\n    fileOpened(null, fd)\n    process.nextTick(() => sonic.emit('ready'))\n  } else {\n    fs.open(file, 'a', fileOpened)\n  }\n}\n\nfunction SonicBoom (opts) {\n  if (!(this instanceof SonicBoom)) {\n    return new SonicBoom(opts)\n  }\n\n  var { fd, dest, minLength, sync } = opts || {}\n\n  fd = fd || dest\n\n  this._buf = ''\n  this.fd = -1\n  this._writing = false\n  this._writingBuf = ''\n  this._ending = false\n  this._reopening = false\n  this._asyncDrainScheduled = false\n  this.file = null\n  this.destroyed = false\n  this.sync = sync || false\n\n  this.minLength = minLength || 0\n\n  if (typeof fd === 'number') {\n    this.fd = fd\n    process.nextTick(() => this.emit('ready'))\n  } else if (typeof fd === 'string') {\n    openFile(fd, this)\n  } else {\n    throw new Error('SonicBoom supports only file descriptors and files')\n  }\n\n  this.release = (err, n) => {\n    if (err) {\n      if (err.code === 'EAGAIN') {\n        if (this.sync) {\n          // This error code should not happen in sync mode, because it is\n          // not using the underlining operating system asynchronous functions.\n          // However it happens, and so we handle it.\n          // Ref: https://github.com/pinojs/pino/issues/783\n          try {\n            sleep(BUSY_WRITE_TIMEOUT)\n            this.release(undefined, 0)\n          } catch (err) {\n            this.release(err)\n          }\n        } else {\n          // Let's give the destination some time to process the chunk.\n          setTimeout(() => {\n            fs.write(this.fd, this._writingBuf, 'utf8', this.release)\n          }, BUSY_WRITE_TIMEOUT)\n        }\n      } else {\n        this.emit('error', err)\n      }\n      return\n    }\n\n    if (this._writingBuf.length !== n) {\n      this._writingBuf = this._writingBuf.slice(n)\n      if (this.sync) {\n        try {\n          do {\n            n = fs.writeSync(this.fd, this._writingBuf, 'utf8')\n            this._writingBuf = this._writingBuf.slice(n)\n          } while (this._writingBuf.length !== 0)\n        } catch (err) {\n          this.release(err)\n          return\n        }\n      } else {\n        fs.write(this.fd, this._writingBuf, 'utf8', this.release)\n        return\n      }\n    }\n\n    this._writingBuf = ''\n\n    if (this.destroyed) {\n      return\n    }\n\n    var len = this._buf.length\n    if (this._reopening) {\n      this._writing = false\n      this._reopening = false\n      this.reopen()\n    } else if (len > 0 && len > this.minLength) {\n      actualWrite(this)\n    } else if (this._ending) {\n      if (len > 0) {\n        actualWrite(this)\n      } else {\n        this._writing = false\n        actualClose(this)\n      }\n    } else {\n      this._writing = false\n      if (this.sync) {\n        if (!this._asyncDrainScheduled) {\n          this._asyncDrainScheduled = true\n          process.nextTick(emitDrain, this)\n        }\n      } else {\n        this.emit('drain')\n      }\n    }\n  }\n}\n\nfunction emitDrain (sonic) {\n  sonic._asyncDrainScheduled = false\n  sonic.emit('drain')\n}\n\ninherits(SonicBoom, EventEmitter)\n\nSonicBoom.prototype.write = function (data) {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  this._buf += data\n  var len = this._buf.length\n  if (!this._writing && len > this.minLength) {\n    actualWrite(this)\n  }\n  return len < 16384\n}\n\nSonicBoom.prototype.flush = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._writing || this.minLength <= 0) {\n    return\n  }\n\n  actualWrite(this)\n}\n\nSonicBoom.prototype.reopen = function (file) {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._opening) {\n    this.once('ready', () => {\n      this.reopen(file)\n    })\n    return\n  }\n\n  if (this._ending) {\n    return\n  }\n\n  if (!this.file) {\n    throw new Error('Unable to reopen a file descriptor, you must pass a file to SonicBoom')\n  }\n\n  this._reopening = true\n\n  if (this._writing) {\n    return\n  }\n\n  fs.close(this.fd, (err) => {\n    if (err) {\n      return this.emit('error', err)\n    }\n  })\n\n  openFile(file || this.file, this)\n}\n\nSonicBoom.prototype.end = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._opening) {\n    this.once('ready', () => {\n      this.end()\n    })\n    return\n  }\n\n  if (this._ending) {\n    return\n  }\n\n  this._ending = true\n\n  if (!this._writing && this._buf.length > 0 && this.fd >= 0) {\n    actualWrite(this)\n    return\n  }\n\n  if (this._writing) {\n    return\n  }\n\n  actualClose(this)\n}\n\nSonicBoom.prototype.flushSync = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this.fd < 0) {\n    throw new Error('sonic boom is not ready yet')\n  }\n\n  if (this._buf.length > 0) {\n    fs.writeSync(this.fd, this._buf, 'utf8')\n    this._buf = ''\n  }\n}\n\nSonicBoom.prototype.destroy = function () {\n  if (this.destroyed) {\n    return\n  }\n  actualClose(this)\n}\n\nfunction actualWrite (sonic) {\n  sonic._writing = true\n  var buf = sonic._buf\n  var release = sonic.release\n  if (buf.length > MAX_WRITE) {\n    buf = buf.slice(0, MAX_WRITE)\n    sonic._buf = sonic._buf.slice(MAX_WRITE)\n  } else {\n    sonic._buf = ''\n  }\n  flatstr(buf)\n  sonic._writingBuf = buf\n  if (sonic.sync) {\n    try {\n      var written = fs.writeSync(sonic.fd, buf, 'utf8')\n      release(null, written)\n    } catch (err) {\n      release(err)\n    }\n  } else {\n    fs.write(sonic.fd, buf, 'utf8', release)\n  }\n}\n\nfunction actualClose (sonic) {\n  if (sonic.fd === -1) {\n    sonic.once('ready', actualClose.bind(null, sonic))\n    return\n  }\n  // TODO write a test to check if we are not leaking fds\n  fs.close(sonic.fd, (err) => {\n    if (err) {\n      sonic.emit('error', err)\n      return\n    }\n\n    if (sonic._ending && !sonic._writing) {\n      sonic.emit('finish')\n    }\n    sonic.emit('close')\n  })\n  sonic.destroyed = true\n  sonic._buf = ''\n}\n\nmodule.exports = SonicBoom\n","'use strict'\n\n// You may be tempted to copy and paste this, \n// but take a look at the commit history first,\n// this is a moving target so relying on the module\n// is the best way to make sure the optimization\n// method is kept up to date and compatible with\n// every Node version.\n\nfunction flatstr (s) {\n  s | 0\n  return s\n}\n\nmodule.exports = flatstr","'use strict'\n\n/* global SharedArrayBuffer, Atomics */\n\nif (typeof SharedArrayBuffer !== 'undefined' && typeof Atomics !== 'undefined') {\n  const nil = new Int32Array(new SharedArrayBuffer(4))\n\n  function sleep (ms) {\n    // also filters out NaN, non-number types, including empty strings, but allows bigints\n    const valid = ms > 0 && ms < Infinity \n    if (valid === false) {\n      if (typeof ms !== 'number' && typeof ms !== 'bigint') {\n        throw TypeError('sleep: ms must be a number')\n      }\n      throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity')\n    }\n\n    Atomics.wait(nil, 0, 0, Number(ms))\n  }\n  module.exports = sleep\n} else {\n\n  function sleep (ms) {\n    // also filters out NaN, non-number types, including empty strings, but allows bigints\n    const valid = ms > 0 && ms < Infinity \n    if (valid === false) {\n      if (typeof ms !== 'number' && typeof ms !== 'bigint') {\n        throw TypeError('sleep: ms must be a number')\n      }\n      throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity')\n    }\n    const target = Date.now() + Number(ms)\n    while (target > Date.now()){}\n  }\n\n  module.exports = sleep\n\n}\n","'use strict'\n/* eslint no-prototype-builtins: 0 */\nconst flatstr = require('flatstr')\nconst {\n  lsCacheSym,\n  levelValSym,\n  useOnlyCustomLevelsSym,\n  streamSym,\n  formattersSym,\n  hooksSym\n} = require('./symbols')\nconst { noop, genLog } = require('./tools')\n\nconst levels = {\n  trace: 10,\n  debug: 20,\n  info: 30,\n  warn: 40,\n  error: 50,\n  fatal: 60\n}\nconst levelMethods = {\n  fatal: (hook) => {\n    const logFatal = genLog(levels.fatal, hook)\n    return function (...args) {\n      const stream = this[streamSym]\n      logFatal.call(this, ...args)\n      if (typeof stream.flushSync === 'function') {\n        try {\n          stream.flushSync()\n        } catch (e) {\n          // https://github.com/pinojs/pino/pull/740#discussion_r346788313\n        }\n      }\n    }\n  },\n  error: (hook) => genLog(levels.error, hook),\n  warn: (hook) => genLog(levels.warn, hook),\n  info: (hook) => genLog(levels.info, hook),\n  debug: (hook) => genLog(levels.debug, hook),\n  trace: (hook) => genLog(levels.trace, hook)\n}\n\nconst nums = Object.keys(levels).reduce((o, k) => {\n  o[levels[k]] = k\n  return o\n}, {})\n\nconst initialLsCache = Object.keys(nums).reduce((o, k) => {\n  o[k] = flatstr('{\"level\":' + Number(k))\n  return o\n}, {})\n\nfunction genLsCache (instance) {\n  const formatter = instance[formattersSym].level\n  const { labels } = instance.levels\n  const cache = {}\n  for (const label in labels) {\n    const level = formatter(labels[label], Number(label))\n    cache[label] = JSON.stringify(level).slice(0, -1)\n  }\n  instance[lsCacheSym] = cache\n  return instance\n}\n\nfunction isStandardLevel (level, useOnlyCustomLevels) {\n  if (useOnlyCustomLevels) {\n    return false\n  }\n\n  switch (level) {\n    case 'fatal':\n    case 'error':\n    case 'warn':\n    case 'info':\n    case 'debug':\n    case 'trace':\n      return true\n    default:\n      return false\n  }\n}\n\nfunction setLevel (level) {\n  const { labels, values } = this.levels\n  if (typeof level === 'number') {\n    if (labels[level] === undefined) throw Error('unknown level value' + level)\n    level = labels[level]\n  }\n  if (values[level] === undefined) throw Error('unknown level ' + level)\n  const preLevelVal = this[levelValSym]\n  const levelVal = this[levelValSym] = values[level]\n  const useOnlyCustomLevelsVal = this[useOnlyCustomLevelsSym]\n  const hook = this[hooksSym].logMethod\n\n  for (var key in values) {\n    if (levelVal > values[key]) {\n      this[key] = noop\n      continue\n    }\n    this[key] = isStandardLevel(key, useOnlyCustomLevelsVal) ? levelMethods[key](hook) : genLog(values[key], hook)\n  }\n\n  this.emit(\n    'level-change',\n    level,\n    levelVal,\n    labels[preLevelVal],\n    preLevelVal\n  )\n}\n\nfunction getLevel (level) {\n  const { levels, levelVal } = this\n  // protection against potential loss of Pino scope from serializers (edge case with circular refs - https://github.com/pinojs/pino/issues/833)\n  return (levels && levels.labels) ? levels.labels[levelVal] : ''\n}\n\nfunction isLevelEnabled (logLevel) {\n  const { values } = this.levels\n  const logLevelVal = values[logLevel]\n  return logLevelVal !== undefined && (logLevelVal >= this[levelValSym])\n}\n\nfunction mappings (customLevels = null, useOnlyCustomLevels = false) {\n  const customNums = customLevels ? Object.keys(customLevels).reduce((o, k) => {\n    o[customLevels[k]] = k\n    return o\n  }, {}) : null\n\n  const labels = Object.assign(\n    Object.create(Object.prototype, { Infinity: { value: 'silent' } }),\n    useOnlyCustomLevels ? null : nums,\n    customNums\n  )\n  const values = Object.assign(\n    Object.create(Object.prototype, { silent: { value: Infinity } }),\n    useOnlyCustomLevels ? null : levels,\n    customLevels\n  )\n  return { labels, values }\n}\n\nfunction assertDefaultLevelFound (defaultLevel, customLevels, useOnlyCustomLevels) {\n  if (typeof defaultLevel === 'number') {\n    const values = [].concat(\n      Object.keys(customLevels || {}).map(key => customLevels[key]),\n      useOnlyCustomLevels ? [] : Object.keys(nums).map(level => +level),\n      Infinity\n    )\n    if (!values.includes(defaultLevel)) {\n      throw Error(`default level:${defaultLevel} must be included in custom levels`)\n    }\n    return\n  }\n\n  const labels = Object.assign(\n    Object.create(Object.prototype, { silent: { value: Infinity } }),\n    useOnlyCustomLevels ? null : levels,\n    customLevels\n  )\n  if (!(defaultLevel in labels)) {\n    throw Error(`default level:${defaultLevel} must be included in custom levels`)\n  }\n}\n\nfunction assertNoLevelCollisions (levels, customLevels) {\n  const { labels, values } = levels\n  for (const k in customLevels) {\n    if (k in values) {\n      throw Error('levels cannot be overridden')\n    }\n    if (customLevels[k] in labels) {\n      throw Error('pre-existing level values cannot be used for new levels')\n    }\n  }\n}\n\nmodule.exports = {\n  initialLsCache,\n  genLsCache,\n  levelMethods,\n  getLevel,\n  setLevel,\n  isLevelEnabled,\n  mappings,\n  assertNoLevelCollisions,\n  assertDefaultLevelFound\n}\n","'use strict'\n\n/* eslint no-prototype-builtins: 0 */\n\nconst format = require('quick-format-unescaped')\nconst { mapHttpRequest, mapHttpResponse } = require('pino-std-serializers')\nconst SonicBoom = require('sonic-boom')\nconst stringifySafe = require('fast-safe-stringify')\nconst {\n  lsCacheSym,\n  chindingsSym,\n  parsedChindingsSym,\n  writeSym,\n  serializersSym,\n  formatOptsSym,\n  endSym,\n  stringifiersSym,\n  stringifySym,\n  wildcardFirstSym,\n  needsMetadataGsym,\n  redactFmtSym,\n  streamSym,\n  nestedKeySym,\n  formattersSym,\n  messageKeySym\n} = require('./symbols')\n\nfunction noop () {}\n\nfunction genLog (level, hook) {\n  if (!hook) return LOG\n\n  return function hookWrappedLog (...args) {\n    hook.call(this, args, LOG)\n  }\n\n  function LOG (o, ...n) {\n    if (typeof o === 'object') {\n      var msg = o\n      if (o !== null) {\n        if (o.method && o.headers && o.socket) {\n          o = mapHttpRequest(o)\n        } else if (typeof o.setHeader === 'function') {\n          o = mapHttpResponse(o)\n        }\n      }\n      if (this[nestedKeySym]) o = { [this[nestedKeySym]]: o }\n      var formatParams\n      if (msg === null && n.length === 0) {\n        formatParams = [null]\n      } else {\n        msg = n.shift()\n        formatParams = n\n      }\n      this[writeSym](o, format(msg, formatParams, this[formatOptsSym]), level)\n    } else {\n      this[writeSym](null, format(o, n, this[formatOptsSym]), level)\n    }\n  }\n}\n\n// magically escape strings for json\n// relying on their charCodeAt\n// everything below 32 needs JSON.stringify()\n// 34 and 92 happens all the time, so we\n// have a fast case for them\nfunction asString (str) {\n  var result = ''\n  var last = 0\n  var found = false\n  var point = 255\n  const l = str.length\n  if (l > 100) {\n    return JSON.stringify(str)\n  }\n  for (var i = 0; i < l && point >= 32; i++) {\n    point = str.charCodeAt(i)\n    if (point === 34 || point === 92) {\n      result += str.slice(last, i) + '\\\\'\n      last = i\n      found = true\n    }\n  }\n  if (!found) {\n    result = str\n  } else {\n    result += str.slice(last)\n  }\n  return point < 32 ? JSON.stringify(str) : '\"' + result + '\"'\n}\n\nfunction asJson (obj, msg, num, time) {\n  const stringify = this[stringifySym]\n  const stringifiers = this[stringifiersSym]\n  const end = this[endSym]\n  const chindings = this[chindingsSym]\n  const serializers = this[serializersSym]\n  const formatters = this[formattersSym]\n  const messageKey = this[messageKeySym]\n  var data = this[lsCacheSym][num] + time\n\n  // we need the child bindings added to the output first so instance logged\n  // objects can take precedence when JSON.parse-ing the resulting log line\n  data = data + chindings\n\n  var value\n  var notHasOwnProperty = obj.hasOwnProperty === undefined\n  if (formatters.log) {\n    obj = formatters.log(obj)\n  }\n  if (msg !== undefined) {\n    obj[messageKey] = msg\n  }\n  const wildcardStringifier = stringifiers[wildcardFirstSym]\n  for (var key in obj) {\n    value = obj[key]\n    if ((notHasOwnProperty || obj.hasOwnProperty(key)) && value !== undefined) {\n      value = serializers[key] ? serializers[key](value) : value\n\n      const stringifier = stringifiers[key] || wildcardStringifier\n\n      switch (typeof value) {\n        case 'undefined':\n        case 'function':\n          continue\n        case 'number':\n          /* eslint no-fallthrough: \"off\" */\n          if (Number.isFinite(value) === false) {\n            value = null\n          }\n        // this case explicitly falls through to the next one\n        case 'boolean':\n          if (stringifier) value = stringifier(value)\n          break\n        case 'string':\n          value = (stringifier || asString)(value)\n          break\n        default:\n          value = (stringifier || stringify)(value)\n      }\n      if (value === undefined) continue\n      data += ',\"' + key + '\":' + value\n    }\n  }\n\n  return data + end\n}\n\nfunction asChindings (instance, bindings) {\n  var key\n  var value\n  var data = instance[chindingsSym]\n  const stringify = instance[stringifySym]\n  const stringifiers = instance[stringifiersSym]\n  const wildcardStringifier = stringifiers[wildcardFirstSym]\n  const serializers = instance[serializersSym]\n  const formatter = instance[formattersSym].bindings\n  bindings = formatter(bindings)\n\n  for (key in bindings) {\n    value = bindings[key]\n    const valid = key !== 'level' &&\n      key !== 'serializers' &&\n      key !== 'formatters' &&\n      key !== 'customLevels' &&\n      bindings.hasOwnProperty(key) &&\n      value !== undefined\n    if (valid === true) {\n      value = serializers[key] ? serializers[key](value) : value\n      value = (stringifiers[key] || wildcardStringifier || stringify)(value)\n      if (value === undefined) continue\n      data += ',\"' + key + '\":' + value\n    }\n  }\n  return data\n}\n\nfunction getPrettyStream (opts, prettifier, dest, instance) {\n  if (prettifier && typeof prettifier === 'function') {\n    prettifier = prettifier.bind(instance)\n    return prettifierMetaWrapper(prettifier(opts), dest, opts)\n  }\n  try {\n    var prettyFactory = require('pino-pretty')\n    prettyFactory.asMetaWrapper = prettifierMetaWrapper\n    return prettifierMetaWrapper(prettyFactory(opts), dest, opts)\n  } catch (e) {\n    throw Error('Missing `pino-pretty` module: `pino-pretty` must be installed separately')\n  }\n}\n\nfunction prettifierMetaWrapper (pretty, dest, opts) {\n  opts = Object.assign({ suppressFlushSyncWarning: false }, opts)\n  var warned = false\n  return {\n    [needsMetadataGsym]: true,\n    lastLevel: 0,\n    lastMsg: null,\n    lastObj: null,\n    lastLogger: null,\n    flushSync () {\n      if (opts.suppressFlushSyncWarning || warned) {\n        return\n      }\n      warned = true\n      setMetadataProps(dest, this)\n      dest.write(pretty(Object.assign({\n        level: 40, // warn\n        msg: 'pino.final with prettyPrint does not support flushing',\n        time: Date.now()\n      }, this.chindings())))\n    },\n    chindings () {\n      const lastLogger = this.lastLogger\n      var chindings = null\n\n      // protection against flushSync being called before logging\n      // anything\n      if (!lastLogger) {\n        return null\n      }\n\n      if (lastLogger.hasOwnProperty(parsedChindingsSym)) {\n        chindings = lastLogger[parsedChindingsSym]\n      } else {\n        chindings = JSON.parse('{' + lastLogger[chindingsSym].substr(1) + '}')\n        lastLogger[parsedChindingsSym] = chindings\n      }\n\n      return chindings\n    },\n    write (chunk) {\n      const lastLogger = this.lastLogger\n      const chindings = this.chindings()\n\n      var time = this.lastTime\n\n      if (time.match(/^\\d+/)) {\n        time = parseInt(time)\n      }\n\n      var lastObj = this.lastObj\n      var lastMsg = this.lastMsg\n      var errorProps = null\n\n      const formatters = lastLogger[formattersSym]\n      const formattedObj = formatters.log ? formatters.log(lastObj) : lastObj\n\n      const messageKey = lastLogger[messageKeySym]\n      if (lastMsg && formattedObj && !formattedObj.hasOwnProperty(messageKey)) {\n        formattedObj[messageKey] = lastMsg\n      }\n\n      const obj = Object.assign({\n        level: this.lastLevel,\n        time\n      }, formattedObj, errorProps)\n\n      const serializers = lastLogger[serializersSym]\n      const keys = Object.keys(serializers)\n      var key\n\n      for (var i = 0; i < keys.length; i++) {\n        key = keys[i]\n        if (obj[key] !== undefined) {\n          obj[key] = serializers[key](obj[key])\n        }\n      }\n\n      for (key in chindings) {\n        if (!obj.hasOwnProperty(key)) {\n          obj[key] = chindings[key]\n        }\n      }\n\n      const stringifiers = lastLogger[stringifiersSym]\n      const redact = stringifiers[redactFmtSym]\n\n      const formatted = pretty(typeof redact === 'function' ? redact(obj) : obj)\n      if (formatted === undefined) return\n\n      setMetadataProps(dest, this)\n      dest.write(formatted)\n    }\n  }\n}\n\nfunction hasBeenTampered (stream) {\n  return stream.write !== stream.constructor.prototype.write\n}\n\nfunction buildSafeSonicBoom (opts) {\n  const stream = new SonicBoom(opts)\n  stream.on('error', filterBrokenPipe)\n  return stream\n\n  function filterBrokenPipe (err) {\n    // TODO verify on Windows\n    if (err.code === 'EPIPE') {\n      // If we get EPIPE, we should stop logging here\n      // however we have no control to the consumer of\n      // SonicBoom, so we just overwrite the write method\n      stream.write = noop\n      stream.end = noop\n      stream.flushSync = noop\n      stream.destroy = noop\n      return\n    }\n    stream.removeListener('error', filterBrokenPipe)\n    stream.emit('error', err)\n  }\n}\n\nfunction createArgsNormalizer (defaultOptions) {\n  return function normalizeArgs (instance, opts = {}, stream) {\n    // support stream as a string\n    if (typeof opts === 'string') {\n      stream = buildSafeSonicBoom({ dest: opts, sync: true })\n      opts = {}\n    } else if (typeof stream === 'string') {\n      stream = buildSafeSonicBoom({ dest: stream, sync: true })\n    } else if (opts instanceof SonicBoom || opts.writable || opts._writableState) {\n      stream = opts\n      opts = null\n    }\n    opts = Object.assign({}, defaultOptions, opts)\n    if ('extreme' in opts) {\n      throw Error('The extreme option has been removed, use pino.destination({ sync: false }) instead')\n    }\n    if ('onTerminated' in opts) {\n      throw Error('The onTerminated option has been removed, use pino.final instead')\n    }\n    if ('changeLevelName' in opts) {\n      process.emitWarning(\n        'The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.',\n        { code: 'changeLevelName_deprecation' }\n      )\n      opts.levelKey = opts.changeLevelName\n      delete opts.changeLevelName\n    }\n    const { enabled, prettyPrint, prettifier, messageKey } = opts\n    if (enabled === false) opts.level = 'silent'\n    stream = stream || process.stdout\n    if (stream === process.stdout && stream.fd >= 0 && !hasBeenTampered(stream)) {\n      stream = buildSafeSonicBoom({ fd: stream.fd, sync: true })\n    }\n    if (prettyPrint) {\n      const prettyOpts = Object.assign({ messageKey }, prettyPrint)\n      stream = getPrettyStream(prettyOpts, prettifier, stream, instance)\n    }\n    return { opts, stream }\n  }\n}\n\nfunction final (logger, handler) {\n  if (typeof logger === 'undefined' || typeof logger.child !== 'function') {\n    throw Error('expected a pino logger instance')\n  }\n  const hasHandler = (typeof handler !== 'undefined')\n  if (hasHandler && typeof handler !== 'function') {\n    throw Error('if supplied, the handler parameter should be a function')\n  }\n  const stream = logger[streamSym]\n  if (typeof stream.flushSync !== 'function') {\n    throw Error('final requires a stream that has a flushSync method, such as pino.destination')\n  }\n\n  const finalLogger = new Proxy(logger, {\n    get: (logger, key) => {\n      if (key in logger.levels.values) {\n        return (...args) => {\n          logger[key](...args)\n          stream.flushSync()\n        }\n      }\n      return logger[key]\n    }\n  })\n\n  if (!hasHandler) {\n    return finalLogger\n  }\n\n  return (err = null, ...args) => {\n    try {\n      stream.flushSync()\n    } catch (e) {\n      // it's too late to wait for the stream to be ready\n      // because this is a final tick scenario.\n      // in practice there shouldn't be a situation where it isn't\n      // however, swallow the error just in case (and for easier testing)\n    }\n    return handler(err, finalLogger, ...args)\n  }\n}\n\nfunction stringify (obj) {\n  try {\n    return JSON.stringify(obj)\n  } catch (_) {\n    return stringifySafe(obj)\n  }\n}\n\nfunction buildFormatters (level, bindings, log) {\n  return {\n    level,\n    bindings,\n    log\n  }\n}\n\nfunction setMetadataProps (dest, that) {\n  if (dest[needsMetadataGsym] === true) {\n    dest.lastLevel = that.lastLevel\n    dest.lastMsg = that.lastMsg\n    dest.lastObj = that.lastObj\n    dest.lastTime = that.lastTime\n    dest.lastLogger = that.lastLogger\n  }\n}\n\nmodule.exports = {\n  noop,\n  buildSafeSonicBoom,\n  getPrettyStream,\n  asChindings,\n  asJson,\n  genLog,\n  createArgsNormalizer,\n  final,\n  stringify,\n  buildFormatters\n}\n","'use strict'\nfunction tryStringify (o) {\n  try { return JSON.stringify(o) } catch(e) { return '\"[Circular]\"' }\n}\n\nmodule.exports = format\n\nfunction format(f, args, opts) {\n  var ss = (opts && opts.stringify) || tryStringify\n  var offset = 1\n  if (typeof f === 'object' && f !== null) {\n    var len = args.length + offset\n    if (len === 1) return f\n    var objects = new Array(len)\n    objects[0] = ss(f)\n    for (var index = 1; index < len; index++) {\n      objects[index] = ss(args[index])\n    }\n    return objects.join(' ')\n  }\n  if (typeof f !== 'string') {\n    return f\n  }\n  var argLen = args.length\n  if (argLen === 0) return f\n  var x = ''\n  var str = ''\n  var a = 1 - offset\n  var lastPos = -1\n  var flen = (f && f.length) || 0\n  for (var i = 0; i < flen;) {\n    if (f.charCodeAt(i) === 37 && i + 1 < flen) {\n      lastPos = lastPos > -1 ? lastPos : 0\n      switch (f.charCodeAt(i + 1)) {\n        case 100: // 'd'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          if (args[a] == null)  break\n          str += Number(args[a])\n          lastPos = i = i + 2\n          break\n        case 79: // 'O'\n        case 111: // 'o'\n        case 106: // 'j'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          if (args[a] === undefined) break\n          var type = typeof args[a]\n          if (type === 'string') {\n            str += '\\'' + args[a] + '\\''\n            lastPos = i + 2\n            i++\n            break\n          }\n          if (type === 'function') {\n            str += args[a].name || '<anonymous>'\n            lastPos = i + 2\n            i++\n            break\n          }\n          str += ss(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 115: // 's'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += String(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 37: // '%'\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += '%'\n          lastPos = i + 2\n          i++\n          break\n      }\n      ++a\n    }\n    ++i\n  }\n  if (lastPos === -1)\n    return f\n  else if (lastPos < flen) {\n    str += f.slice(lastPos)\n  }\n\n  return str\n}\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar arr = []\nvar replacerStack = []\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer) {\n  decirc(obj, '', [], undefined)\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(obj, replacer, spacer)\n  } else {\n    res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\nfunction decirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, stack, val)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, stack, val)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer) {\n  var tmp = deterministicDecirc(obj, '', [], undefined) || obj\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(tmp, replacer, spacer)\n  } else {\n    res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    if (typeof val.toJSON === 'function') {\n      return\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, stack, val)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, stack, val)\n        tmp[key] = val[key]\n      }\n      if (parent !== undefined) {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as [Circular]\nfunction replaceGetterValues (replacer) {\n  replacer = replacer !== undefined ? replacer : function (k, v) { return v }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = '[Circular]'\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","'use strict'\n\nconst chalk = require('chalk')\nconst jmespath = require('jmespath')\nconst colors = require('./lib/colors')\nconst { ERROR_LIKE_KEYS, MESSAGE_KEY, TIMESTAMP_KEY } = require('./lib/constants')\nconst {\n  isObject,\n  prettifyErrorLog,\n  prettifyLevel,\n  prettifyMessage,\n  prettifyMetadata,\n  prettifyObject,\n  prettifyTime\n} = require('./lib/utils')\n\nconst bourne = require('@hapi/bourne')\nconst jsonParser = input => {\n  try {\n    return { value: bourne.parse(input, { protoAction: 'remove' }) }\n  } catch (err) {\n    return { err }\n  }\n}\n\nconst defaultOptions = {\n  colorize: chalk.supportsColor,\n  crlf: false,\n  errorLikeObjectKeys: ERROR_LIKE_KEYS,\n  errorProps: '',\n  levelFirst: false,\n  messageKey: MESSAGE_KEY,\n  messageFormat: false,\n  timestampKey: TIMESTAMP_KEY,\n  translateTime: false,\n  useMetadata: false,\n  outputStream: process.stdout,\n  customPrettifiers: {}\n}\n\nmodule.exports = function prettyFactory (options) {\n  const opts = Object.assign({}, defaultOptions, options)\n  const EOL = opts.crlf ? '\\r\\n' : '\\n'\n  const IDENT = '    '\n  const messageKey = opts.messageKey\n  const levelKey = opts.levelKey\n  const messageFormat = opts.messageFormat\n  const timestampKey = opts.timestampKey\n  const errorLikeObjectKeys = opts.errorLikeObjectKeys\n  const errorProps = opts.errorProps.split(',')\n  const customPrettifiers = opts.customPrettifiers\n  const ignoreKeys = opts.ignore ? new Set(opts.ignore.split(',')) : undefined\n\n  const colorizer = colors(opts.colorize)\n  const search = opts.search\n\n  return pretty\n\n  function pretty (inputData) {\n    let log\n    if (!isObject(inputData)) {\n      const parsed = jsonParser(inputData)\n      if (parsed.err || !isObject(parsed.value)) {\n        // pass through\n        return inputData + EOL\n      }\n      log = parsed.value\n    } else {\n      log = inputData\n    }\n\n    if (search && !jmespath.search(log, search)) {\n      return\n    }\n\n    const prettifiedMessage = prettifyMessage({ log, messageKey, colorizer, messageFormat })\n\n    if (ignoreKeys) {\n      log = Object.keys(log)\n        .filter(key => !ignoreKeys.has(key))\n        .reduce((res, key) => {\n          res[key] = log[key]\n          return res\n        }, {})\n    }\n\n    const prettifiedLevel = prettifyLevel({ log, colorizer, levelKey })\n    const prettifiedMetadata = prettifyMetadata({ log })\n    const prettifiedTime = prettifyTime({ log, translateFormat: opts.translateTime, timestampKey })\n\n    let line = ''\n    if (opts.levelFirst && prettifiedLevel) {\n      line = `${prettifiedLevel}`\n    }\n\n    if (prettifiedTime && line === '') {\n      line = `${prettifiedTime}`\n    } else if (prettifiedTime) {\n      line = `${line} ${prettifiedTime}`\n    }\n\n    if (!opts.levelFirst && prettifiedLevel) {\n      if (line.length > 0) {\n        line = `${line} ${prettifiedLevel}`\n      } else {\n        line = prettifiedLevel\n      }\n    }\n\n    if (prettifiedMetadata) {\n      line = `${line} ${prettifiedMetadata}:`\n    }\n\n    if (line.endsWith(':') === false && line !== '') {\n      line += ':'\n    }\n\n    if (prettifiedMessage) {\n      line = `${line} ${prettifiedMessage}`\n    }\n\n    if (line.length > 0) {\n      line += EOL\n    }\n\n    if (log.type === 'Error' && log.stack) {\n      const prettifiedErrorLog = prettifyErrorLog({\n        log,\n        errorLikeKeys: errorLikeObjectKeys,\n        errorProperties: errorProps,\n        ident: IDENT,\n        eol: EOL\n      })\n      line += prettifiedErrorLog\n    } else {\n      const skipKeys = [messageKey, levelKey, timestampKey].filter(key => typeof log[key] === 'string' || typeof log[key] === 'number')\n      const prettifiedObject = prettifyObject({\n        input: log,\n        skipKeys,\n        customPrettifiers,\n        errorLikeKeys: errorLikeObjectKeys,\n        eol: EOL,\n        ident: IDENT\n      })\n      line += prettifiedObject\n    }\n\n    return line\n  }\n}\n","'use strict';\nconst ansiStyles = require('ansi-styles');\nconst {stdout: stdoutColor, stderr: stderrColor} = require('supports-color');\nconst {\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex\n} = require('./util');\n\nconst {isArray} = Array;\n\n// `supportsColor.level` → `ansiStyles.color[name]` mapping\nconst levelMapping = [\n\t'ansi',\n\t'ansi',\n\t'ansi256',\n\t'ansi16m'\n];\n\nconst styles = Object.create(null);\n\nconst applyOptions = (object, options = {}) => {\n\tif (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {\n\t\tthrow new Error('The `level` option should be an integer from 0 to 3');\n\t}\n\n\t// Detect level if not set manually\n\tconst colorLevel = stdoutColor ? stdoutColor.level : 0;\n\tobject.level = options.level === undefined ? colorLevel : options.level;\n};\n\nclass ChalkClass {\n\tconstructor(options) {\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn chalkFactory(options);\n\t}\n}\n\nconst chalkFactory = options => {\n\tconst chalk = {};\n\tapplyOptions(chalk, options);\n\n\tchalk.template = (...arguments_) => chalkTag(chalk.template, ...arguments_);\n\n\tObject.setPrototypeOf(chalk, Chalk.prototype);\n\tObject.setPrototypeOf(chalk.template, chalk);\n\n\tchalk.template.constructor = () => {\n\t\tthrow new Error('`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.');\n\t};\n\n\tchalk.template.Instance = ChalkClass;\n\n\treturn chalk.template;\n};\n\nfunction Chalk(options) {\n\treturn chalkFactory(options);\n}\n\nfor (const [styleName, style] of Object.entries(ansiStyles)) {\n\tstyles[styleName] = {\n\t\tget() {\n\t\t\tconst builder = createBuilder(this, createStyler(style.open, style.close, this._styler), this._isEmpty);\n\t\t\tObject.defineProperty(this, styleName, {value: builder});\n\t\t\treturn builder;\n\t\t}\n\t};\n}\n\nstyles.visible = {\n\tget() {\n\t\tconst builder = createBuilder(this, this._styler, true);\n\t\tObject.defineProperty(this, 'visible', {value: builder});\n\t\treturn builder;\n\t}\n};\n\nconst usedModels = ['rgb', 'hex', 'keyword', 'hsl', 'hsv', 'hwb', 'ansi', 'ansi256'];\n\nfor (const model of usedModels) {\n\tstyles[model] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(ansiStyles.color[levelMapping[level]][model](...arguments_), ansiStyles.color.close, this._styler);\n\t\t\t\treturn createBuilder(this, styler, this._isEmpty);\n\t\t\t};\n\t\t}\n\t};\n}\n\nfor (const model of usedModels) {\n\tconst bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);\n\tstyles[bgModel] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(ansiStyles.bgColor[levelMapping[level]][model](...arguments_), ansiStyles.bgColor.close, this._styler);\n\t\t\t\treturn createBuilder(this, styler, this._isEmpty);\n\t\t\t};\n\t\t}\n\t};\n}\n\nconst proto = Object.defineProperties(() => {}, {\n\t...styles,\n\tlevel: {\n\t\tenumerable: true,\n\t\tget() {\n\t\t\treturn this._generator.level;\n\t\t},\n\t\tset(level) {\n\t\t\tthis._generator.level = level;\n\t\t}\n\t}\n});\n\nconst createStyler = (open, close, parent) => {\n\tlet openAll;\n\tlet closeAll;\n\tif (parent === undefined) {\n\t\topenAll = open;\n\t\tcloseAll = close;\n\t} else {\n\t\topenAll = parent.openAll + open;\n\t\tcloseAll = close + parent.closeAll;\n\t}\n\n\treturn {\n\t\topen,\n\t\tclose,\n\t\topenAll,\n\t\tcloseAll,\n\t\tparent\n\t};\n};\n\nconst createBuilder = (self, _styler, _isEmpty) => {\n\tconst builder = (...arguments_) => {\n\t\tif (isArray(arguments_[0]) && isArray(arguments_[0].raw)) {\n\t\t\t// Called as a template literal, for example: chalk.red`2 + 3 = {bold ${2+3}}`\n\t\t\treturn applyStyle(builder, chalkTag(builder, ...arguments_));\n\t\t}\n\n\t\t// Single argument is hot path, implicit coercion is faster than anything\n\t\t// eslint-disable-next-line no-implicit-coercion\n\t\treturn applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));\n\t};\n\n\t// We alter the prototype because we must return a function, but there is\n\t// no way to create a function with a different prototype\n\tObject.setPrototypeOf(builder, proto);\n\n\tbuilder._generator = self;\n\tbuilder._styler = _styler;\n\tbuilder._isEmpty = _isEmpty;\n\n\treturn builder;\n};\n\nconst applyStyle = (self, string) => {\n\tif (self.level <= 0 || !string) {\n\t\treturn self._isEmpty ? '' : string;\n\t}\n\n\tlet styler = self._styler;\n\n\tif (styler === undefined) {\n\t\treturn string;\n\t}\n\n\tconst {openAll, closeAll} = styler;\n\tif (string.indexOf('\\u001B') !== -1) {\n\t\twhile (styler !== undefined) {\n\t\t\t// Replace any instances already present with a re-opening code\n\t\t\t// otherwise only the part of the string until said closing code\n\t\t\t// will be colored, and the rest will simply be 'plain'.\n\t\t\tstring = stringReplaceAll(string, styler.close, styler.open);\n\n\t\t\tstyler = styler.parent;\n\t\t}\n\t}\n\n\t// We can move both next actions out of loop, because remaining actions in loop won't have\n\t// any/visible effect on parts we add here. Close the styling before a linebreak and reopen\n\t// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92\n\tconst lfIndex = string.indexOf('\\n');\n\tif (lfIndex !== -1) {\n\t\tstring = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);\n\t}\n\n\treturn openAll + string + closeAll;\n};\n\nlet template;\nconst chalkTag = (chalk, ...strings) => {\n\tconst [firstString] = strings;\n\n\tif (!isArray(firstString) || !isArray(firstString.raw)) {\n\t\t// If chalk() was called by itself or with a string,\n\t\t// return the string itself as a string.\n\t\treturn strings.join(' ');\n\t}\n\n\tconst arguments_ = strings.slice(1);\n\tconst parts = [firstString.raw[0]];\n\n\tfor (let i = 1; i < firstString.length; i++) {\n\t\tparts.push(\n\t\t\tString(arguments_[i - 1]).replace(/[{}\\\\]/g, '\\\\$&'),\n\t\t\tString(firstString.raw[i])\n\t\t);\n\t}\n\n\tif (template === undefined) {\n\t\ttemplate = require('./templates');\n\t}\n\n\treturn template(chalk, parts.join(''));\n};\n\nObject.defineProperties(Chalk.prototype, styles);\n\nconst chalk = Chalk(); // eslint-disable-line new-cap\nchalk.supportsColor = stdoutColor;\nchalk.stderr = Chalk({level: stderrColor ? stderrColor.level : 0}); // eslint-disable-line new-cap\nchalk.stderr.supportsColor = stderrColor;\n\nmodule.exports = chalk;\n","'use strict';\n\nconst wrapAnsi16 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${code + offset}m`;\n};\n\nconst wrapAnsi256 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${38 + offset};5;${code}m`;\n};\n\nconst wrapAnsi16m = (fn, offset) => (...args) => {\n\tconst rgb = fn(...args);\n\treturn `\\u001B[${38 + offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`;\n};\n\nconst ansi2ansi = n => n;\nconst rgb2rgb = (r, g, b) => [r, g, b];\n\nconst setLazyProperty = (object, property, get) => {\n\tObject.defineProperty(object, property, {\n\t\tget: () => {\n\t\t\tconst value = get();\n\n\t\t\tObject.defineProperty(object, property, {\n\t\t\t\tvalue,\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true\n\t\t\t});\n\n\t\t\treturn value;\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t});\n};\n\n/** @type {typeof import('color-convert')} */\nlet colorConvert;\nconst makeDynamicStyles = (wrap, targetSpace, identity, isBackground) => {\n\tif (colorConvert === undefined) {\n\t\tcolorConvert = require('color-convert');\n\t}\n\n\tconst offset = isBackground ? 10 : 0;\n\tconst styles = {};\n\n\tfor (const [sourceSpace, suite] of Object.entries(colorConvert)) {\n\t\tconst name = sourceSpace === 'ansi16' ? 'ansi' : sourceSpace;\n\t\tif (sourceSpace === targetSpace) {\n\t\t\tstyles[name] = wrap(identity, offset);\n\t\t} else if (typeof suite === 'object') {\n\t\t\tstyles[name] = wrap(suite[targetSpace], offset);\n\t\t}\n\t}\n\n\treturn styles;\n};\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\tconst styles = {\n\t\tmodifier: {\n\t\t\treset: [0, 0],\n\t\t\t// 21 isn't widely supported and 22 does the same thing\n\t\t\tbold: [1, 22],\n\t\t\tdim: [2, 22],\n\t\t\titalic: [3, 23],\n\t\t\tunderline: [4, 24],\n\t\t\tinverse: [7, 27],\n\t\t\thidden: [8, 28],\n\t\t\tstrikethrough: [9, 29]\n\t\t},\n\t\tcolor: {\n\t\t\tblack: [30, 39],\n\t\t\tred: [31, 39],\n\t\t\tgreen: [32, 39],\n\t\t\tyellow: [33, 39],\n\t\t\tblue: [34, 39],\n\t\t\tmagenta: [35, 39],\n\t\t\tcyan: [36, 39],\n\t\t\twhite: [37, 39],\n\n\t\t\t// Bright color\n\t\t\tblackBright: [90, 39],\n\t\t\tredBright: [91, 39],\n\t\t\tgreenBright: [92, 39],\n\t\t\tyellowBright: [93, 39],\n\t\t\tblueBright: [94, 39],\n\t\t\tmagentaBright: [95, 39],\n\t\t\tcyanBright: [96, 39],\n\t\t\twhiteBright: [97, 39]\n\t\t},\n\t\tbgColor: {\n\t\t\tbgBlack: [40, 49],\n\t\t\tbgRed: [41, 49],\n\t\t\tbgGreen: [42, 49],\n\t\t\tbgYellow: [43, 49],\n\t\t\tbgBlue: [44, 49],\n\t\t\tbgMagenta: [45, 49],\n\t\t\tbgCyan: [46, 49],\n\t\t\tbgWhite: [47, 49],\n\n\t\t\t// Bright color\n\t\t\tbgBlackBright: [100, 49],\n\t\t\tbgRedBright: [101, 49],\n\t\t\tbgGreenBright: [102, 49],\n\t\t\tbgYellowBright: [103, 49],\n\t\t\tbgBlueBright: [104, 49],\n\t\t\tbgMagentaBright: [105, 49],\n\t\t\tbgCyanBright: [106, 49],\n\t\t\tbgWhiteBright: [107, 49]\n\t\t}\n\t};\n\n\t// Alias bright black as gray (and grey)\n\tstyles.color.gray = styles.color.blackBright;\n\tstyles.bgColor.bgGray = styles.bgColor.bgBlackBright;\n\tstyles.color.grey = styles.color.blackBright;\n\tstyles.bgColor.bgGrey = styles.bgColor.bgBlackBright;\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tsetLazyProperty(styles.color, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, false));\n\tsetLazyProperty(styles.bgColor, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, true));\n\n\treturn styles;\n}\n\n// Make the export immutable\nObject.defineProperty(module, 'exports', {\n\tenumerable: true,\n\tget: assembleStyles\n});\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif ('GITHUB_ACTIONS' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\n\nconst stringReplaceAll = (string, substring, replacer) => {\n\tlet index = string.indexOf(substring);\n\tif (index === -1) {\n\t\treturn string;\n\t}\n\n\tconst substringLength = substring.length;\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\treturnValue += string.substr(endIndex, index - endIndex) + substring + replacer;\n\t\tendIndex = index + substringLength;\n\t\tindex = string.indexOf(substring, endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.substr(endIndex);\n\treturn returnValue;\n};\n\nconst stringEncaseCRLFWithFirstIndex = (string, prefix, postfix, index) => {\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\tconst gotCR = string[index - 1] === '\\r';\n\t\treturnValue += string.substr(endIndex, (gotCR ? index - 1 : index) - endIndex) + prefix + (gotCR ? '\\r\\n' : '\\n') + postfix;\n\t\tendIndex = index + 1;\n\t\tindex = string.indexOf('\\n', endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.substr(endIndex);\n\treturn returnValue;\n};\n\nmodule.exports = {\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex\n};\n","'use strict';\nconst TEMPLATE_REGEX = /(?:\\\\(u(?:[a-f\\d]{4}|\\{[a-f\\d]{1,6}\\})|x[a-f\\d]{2}|.))|(?:\\{(~)?(\\w+(?:\\([^)]*\\))?(?:\\.\\w+(?:\\([^)]*\\))?)*)(?:[ \\t]|(?=\\r?\\n)))|(\\})|((?:.|[\\r\\n\\f])+?)/gi;\nconst STYLE_REGEX = /(?:^|\\.)(\\w+)(?:\\(([^)]*)\\))?/g;\nconst STRING_REGEX = /^(['\"])((?:\\\\.|(?!\\1)[^\\\\])*)\\1$/;\nconst ESCAPE_REGEX = /\\\\(u(?:[a-f\\d]{4}|{[a-f\\d]{1,6}})|x[a-f\\d]{2}|.)|([^\\\\])/gi;\n\nconst ESCAPES = new Map([\n\t['n', '\\n'],\n\t['r', '\\r'],\n\t['t', '\\t'],\n\t['b', '\\b'],\n\t['f', '\\f'],\n\t['v', '\\v'],\n\t['0', '\\0'],\n\t['\\\\', '\\\\'],\n\t['e', '\\u001B'],\n\t['a', '\\u0007']\n]);\n\nfunction unescape(c) {\n\tconst u = c[0] === 'u';\n\tconst bracket = c[1] === '{';\n\n\tif ((u && !bracket && c.length === 5) || (c[0] === 'x' && c.length === 3)) {\n\t\treturn String.fromCharCode(parseInt(c.slice(1), 16));\n\t}\n\n\tif (u && bracket) {\n\t\treturn String.fromCodePoint(parseInt(c.slice(2, -1), 16));\n\t}\n\n\treturn ESCAPES.get(c) || c;\n}\n\nfunction parseArguments(name, arguments_) {\n\tconst results = [];\n\tconst chunks = arguments_.trim().split(/\\s*,\\s*/g);\n\tlet matches;\n\n\tfor (const chunk of chunks) {\n\t\tconst number = Number(chunk);\n\t\tif (!Number.isNaN(number)) {\n\t\t\tresults.push(number);\n\t\t} else if ((matches = chunk.match(STRING_REGEX))) {\n\t\t\tresults.push(matches[2].replace(ESCAPE_REGEX, (m, escape, character) => escape ? unescape(escape) : character));\n\t\t} else {\n\t\t\tthrow new Error(`Invalid Chalk template style argument: ${chunk} (in style '${name}')`);\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction parseStyle(style) {\n\tSTYLE_REGEX.lastIndex = 0;\n\n\tconst results = [];\n\tlet matches;\n\n\twhile ((matches = STYLE_REGEX.exec(style)) !== null) {\n\t\tconst name = matches[1];\n\n\t\tif (matches[2]) {\n\t\t\tconst args = parseArguments(name, matches[2]);\n\t\t\tresults.push([name].concat(args));\n\t\t} else {\n\t\t\tresults.push([name]);\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction buildStyle(chalk, styles) {\n\tconst enabled = {};\n\n\tfor (const layer of styles) {\n\t\tfor (const style of layer.styles) {\n\t\t\tenabled[style[0]] = layer.inverse ? null : style.slice(1);\n\t\t}\n\t}\n\n\tlet current = chalk;\n\tfor (const [styleName, styles] of Object.entries(enabled)) {\n\t\tif (!Array.isArray(styles)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!(styleName in current)) {\n\t\t\tthrow new Error(`Unknown Chalk style: ${styleName}`);\n\t\t}\n\n\t\tcurrent = styles.length > 0 ? current[styleName](...styles) : current[styleName];\n\t}\n\n\treturn current;\n}\n\nmodule.exports = (chalk, temporary) => {\n\tconst styles = [];\n\tconst chunks = [];\n\tlet chunk = [];\n\n\t// eslint-disable-next-line max-params\n\ttemporary.replace(TEMPLATE_REGEX, (m, escapeCharacter, inverse, style, close, character) => {\n\t\tif (escapeCharacter) {\n\t\t\tchunk.push(unescape(escapeCharacter));\n\t\t} else if (style) {\n\t\t\tconst string = chunk.join('');\n\t\t\tchunk = [];\n\t\t\tchunks.push(styles.length === 0 ? string : buildStyle(chalk, styles)(string));\n\t\t\tstyles.push({inverse, styles: parseStyle(style)});\n\t\t} else if (close) {\n\t\t\tif (styles.length === 0) {\n\t\t\t\tthrow new Error('Found extraneous } in Chalk template literal');\n\t\t\t}\n\n\t\t\tchunks.push(buildStyle(chalk, styles)(chunk.join('')));\n\t\t\tchunk = [];\n\t\t\tstyles.pop();\n\t\t} else {\n\t\t\tchunk.push(character);\n\t\t}\n\t});\n\n\tchunks.push(chunk.join(''));\n\n\tif (styles.length > 0) {\n\t\tconst errMessage = `Chalk template literal is missing ${styles.length} closing bracket${styles.length === 1 ? '' : 's'} (\\`}\\`)`;\n\t\tthrow new Error(errMessage);\n\t}\n\n\treturn chunks.join('');\n};\n","(function(exports) {\n  \"use strict\";\n\n  function isArray(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Array]\";\n    } else {\n      return false;\n    }\n  }\n\n  function isObject(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Object]\";\n    } else {\n      return false;\n    }\n  }\n\n  function strictDeepEqual(first, second) {\n    // Check the scalar case first.\n    if (first === second) {\n      return true;\n    }\n\n    // Check if they are the same type.\n    var firstType = Object.prototype.toString.call(first);\n    if (firstType !== Object.prototype.toString.call(second)) {\n      return false;\n    }\n    // We know that first and second have the same type so we can just check the\n    // first type from now on.\n    if (isArray(first) === true) {\n      // Short circuit if they're not the same length;\n      if (first.length !== second.length) {\n        return false;\n      }\n      for (var i = 0; i < first.length; i++) {\n        if (strictDeepEqual(first[i], second[i]) === false) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (isObject(first) === true) {\n      // An object is equal if it has the same key/value pairs.\n      var keysSeen = {};\n      for (var key in first) {\n        if (hasOwnProperty.call(first, key)) {\n          if (strictDeepEqual(first[key], second[key]) === false) {\n            return false;\n          }\n          keysSeen[key] = true;\n        }\n      }\n      // Now check that there aren't any keys in second that weren't\n      // in first.\n      for (var key2 in second) {\n        if (hasOwnProperty.call(second, key2)) {\n          if (keysSeen[key2] !== true) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  function isFalse(obj) {\n    // From the spec:\n    // A false value corresponds to the following values:\n    // Empty list\n    // Empty object\n    // Empty string\n    // False boolean\n    // null value\n\n    // First check the scalar values.\n    if (obj === \"\" || obj === false || obj === null) {\n        return true;\n    } else if (isArray(obj) && obj.length === 0) {\n        // Check for an empty array.\n        return true;\n    } else if (isObject(obj)) {\n        // Check for an empty object.\n        for (var key in obj) {\n            // If there are any keys, then\n            // the object is not empty so the object\n            // is not false.\n            if (obj.hasOwnProperty(key)) {\n              return false;\n            }\n        }\n        return true;\n    } else {\n        return false;\n    }\n  }\n\n  function objValues(obj) {\n    var keys = Object.keys(obj);\n    var values = [];\n    for (var i = 0; i < keys.length; i++) {\n      values.push(obj[keys[i]]);\n    }\n    return values;\n  }\n\n  function merge(a, b) {\n      var merged = {};\n      for (var key in a) {\n          merged[key] = a[key];\n      }\n      for (var key2 in b) {\n          merged[key2] = b[key2];\n      }\n      return merged;\n  }\n\n  var trimLeft;\n  if (typeof String.prototype.trimLeft === \"function\") {\n    trimLeft = function(str) {\n      return str.trimLeft();\n    };\n  } else {\n    trimLeft = function(str) {\n      return str.match(/^\\s*(.*)/)[1];\n    };\n  }\n\n  // Type constants used to define functions.\n  var TYPE_NUMBER = 0;\n  var TYPE_ANY = 1;\n  var TYPE_STRING = 2;\n  var TYPE_ARRAY = 3;\n  var TYPE_OBJECT = 4;\n  var TYPE_BOOLEAN = 5;\n  var TYPE_EXPREF = 6;\n  var TYPE_NULL = 7;\n  var TYPE_ARRAY_NUMBER = 8;\n  var TYPE_ARRAY_STRING = 9;\n\n  var TOK_EOF = \"EOF\";\n  var TOK_UNQUOTEDIDENTIFIER = \"UnquotedIdentifier\";\n  var TOK_QUOTEDIDENTIFIER = \"QuotedIdentifier\";\n  var TOK_RBRACKET = \"Rbracket\";\n  var TOK_RPAREN = \"Rparen\";\n  var TOK_COMMA = \"Comma\";\n  var TOK_COLON = \"Colon\";\n  var TOK_RBRACE = \"Rbrace\";\n  var TOK_NUMBER = \"Number\";\n  var TOK_CURRENT = \"Current\";\n  var TOK_EXPREF = \"Expref\";\n  var TOK_PIPE = \"Pipe\";\n  var TOK_OR = \"Or\";\n  var TOK_AND = \"And\";\n  var TOK_EQ = \"EQ\";\n  var TOK_GT = \"GT\";\n  var TOK_LT = \"LT\";\n  var TOK_GTE = \"GTE\";\n  var TOK_LTE = \"LTE\";\n  var TOK_NE = \"NE\";\n  var TOK_FLATTEN = \"Flatten\";\n  var TOK_STAR = \"Star\";\n  var TOK_FILTER = \"Filter\";\n  var TOK_DOT = \"Dot\";\n  var TOK_NOT = \"Not\";\n  var TOK_LBRACE = \"Lbrace\";\n  var TOK_LBRACKET = \"Lbracket\";\n  var TOK_LPAREN= \"Lparen\";\n  var TOK_LITERAL= \"Literal\";\n\n  // The \"&\", \"[\", \"<\", \">\" tokens\n  // are not in basicToken because\n  // there are two token variants\n  // (\"&&\", \"[?\", \"<=\", \">=\").  This is specially handled\n  // below.\n\n  var basicTokens = {\n    \".\": TOK_DOT,\n    \"*\": TOK_STAR,\n    \",\": TOK_COMMA,\n    \":\": TOK_COLON,\n    \"{\": TOK_LBRACE,\n    \"}\": TOK_RBRACE,\n    \"]\": TOK_RBRACKET,\n    \"(\": TOK_LPAREN,\n    \")\": TOK_RPAREN,\n    \"@\": TOK_CURRENT\n  };\n\n  var operatorStartToken = {\n      \"<\": true,\n      \">\": true,\n      \"=\": true,\n      \"!\": true\n  };\n\n  var skipChars = {\n      \" \": true,\n      \"\\t\": true,\n      \"\\n\": true\n  };\n\n\n  function isAlpha(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             ch === \"_\";\n  }\n\n  function isNum(ch) {\n      return (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"-\";\n  }\n  function isAlphaNum(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"_\";\n  }\n\n  function Lexer() {\n  }\n  Lexer.prototype = {\n      tokenize: function(stream) {\n          var tokens = [];\n          this._current = 0;\n          var start;\n          var identifier;\n          var token;\n          while (this._current < stream.length) {\n              if (isAlpha(stream[this._current])) {\n                  start = this._current;\n                  identifier = this._consumeUnquotedIdentifier(stream);\n                  tokens.push({type: TOK_UNQUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (basicTokens[stream[this._current]] !== undefined) {\n                  tokens.push({type: basicTokens[stream[this._current]],\n                              value: stream[this._current],\n                              start: this._current});\n                  this._current++;\n              } else if (isNum(stream[this._current])) {\n                  token = this._consumeNumber(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"[\") {\n                  // No need to increment this._current.  This happens\n                  // in _consumeLBracket\n                  token = this._consumeLBracket(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"\\\"\") {\n                  start = this._current;\n                  identifier = this._consumeQuotedIdentifier(stream);\n                  tokens.push({type: TOK_QUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"'\") {\n                  start = this._current;\n                  identifier = this._consumeRawStringLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"`\") {\n                  start = this._current;\n                  var literal = this._consumeLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: literal,\n                               start: start});\n              } else if (operatorStartToken[stream[this._current]] !== undefined) {\n                  tokens.push(this._consumeOperator(stream));\n              } else if (skipChars[stream[this._current]] !== undefined) {\n                  // Ignore whitespace.\n                  this._current++;\n              } else if (stream[this._current] === \"&\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"&\") {\n                      this._current++;\n                      tokens.push({type: TOK_AND, value: \"&&\", start: start});\n                  } else {\n                      tokens.push({type: TOK_EXPREF, value: \"&\", start: start});\n                  }\n              } else if (stream[this._current] === \"|\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"|\") {\n                      this._current++;\n                      tokens.push({type: TOK_OR, value: \"||\", start: start});\n                  } else {\n                      tokens.push({type: TOK_PIPE, value: \"|\", start: start});\n                  }\n              } else {\n                  var error = new Error(\"Unknown character:\" + stream[this._current]);\n                  error.name = \"LexerError\";\n                  throw error;\n              }\n          }\n          return tokens;\n      },\n\n      _consumeUnquotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          while (this._current < stream.length && isAlphaNum(stream[this._current])) {\n              this._current++;\n          }\n          return stream.slice(start, this._current);\n      },\n\n      _consumeQuotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"\\\"\" && this._current < maxLength) {\n              // You can escape a double quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"\\\"\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          return JSON.parse(stream.slice(start, this._current));\n      },\n\n      _consumeRawStringLiteral: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"'\" && this._current < maxLength) {\n              // You can escape a single quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"'\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          var literal = stream.slice(start + 1, this._current - 1);\n          return literal.replace(\"\\\\'\", \"'\");\n      },\n\n      _consumeNumber: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (isNum(stream[this._current]) && this._current < maxLength) {\n              this._current++;\n          }\n          var value = parseInt(stream.slice(start, this._current));\n          return {type: TOK_NUMBER, value: value, start: start};\n      },\n\n      _consumeLBracket: function(stream) {\n          var start = this._current;\n          this._current++;\n          if (stream[this._current] === \"?\") {\n              this._current++;\n              return {type: TOK_FILTER, value: \"[?\", start: start};\n          } else if (stream[this._current] === \"]\") {\n              this._current++;\n              return {type: TOK_FLATTEN, value: \"[]\", start: start};\n          } else {\n              return {type: TOK_LBRACKET, value: \"[\", start: start};\n          }\n      },\n\n      _consumeOperator: function(stream) {\n          var start = this._current;\n          var startingChar = stream[start];\n          this._current++;\n          if (startingChar === \"!\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_NE, value: \"!=\", start: start};\n              } else {\n                return {type: TOK_NOT, value: \"!\", start: start};\n              }\n          } else if (startingChar === \"<\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_LTE, value: \"<=\", start: start};\n              } else {\n                  return {type: TOK_LT, value: \"<\", start: start};\n              }\n          } else if (startingChar === \">\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_GTE, value: \">=\", start: start};\n              } else {\n                  return {type: TOK_GT, value: \">\", start: start};\n              }\n          } else if (startingChar === \"=\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_EQ, value: \"==\", start: start};\n              }\n          }\n      },\n\n      _consumeLiteral: function(stream) {\n          this._current++;\n          var start = this._current;\n          var maxLength = stream.length;\n          var literal;\n          while(stream[this._current] !== \"`\" && this._current < maxLength) {\n              // You can escape a literal char or you can escape the escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"`\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          var literalString = trimLeft(stream.slice(start, this._current));\n          literalString = literalString.replace(\"\\\\`\", \"`\");\n          if (this._looksLikeJSON(literalString)) {\n              literal = JSON.parse(literalString);\n          } else {\n              // Try to JSON parse it as \"<literal>\"\n              literal = JSON.parse(\"\\\"\" + literalString + \"\\\"\");\n          }\n          // +1 gets us to the ending \"`\", +1 to move on to the next char.\n          this._current++;\n          return literal;\n      },\n\n      _looksLikeJSON: function(literalString) {\n          var startingChars = \"[{\\\"\";\n          var jsonLiterals = [\"true\", \"false\", \"null\"];\n          var numberLooking = \"-0123456789\";\n\n          if (literalString === \"\") {\n              return false;\n          } else if (startingChars.indexOf(literalString[0]) >= 0) {\n              return true;\n          } else if (jsonLiterals.indexOf(literalString) >= 0) {\n              return true;\n          } else if (numberLooking.indexOf(literalString[0]) >= 0) {\n              try {\n                  JSON.parse(literalString);\n                  return true;\n              } catch (ex) {\n                  return false;\n              }\n          } else {\n              return false;\n          }\n      }\n  };\n\n      var bindingPower = {};\n      bindingPower[TOK_EOF] = 0;\n      bindingPower[TOK_UNQUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_QUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_RBRACKET] = 0;\n      bindingPower[TOK_RPAREN] = 0;\n      bindingPower[TOK_COMMA] = 0;\n      bindingPower[TOK_RBRACE] = 0;\n      bindingPower[TOK_NUMBER] = 0;\n      bindingPower[TOK_CURRENT] = 0;\n      bindingPower[TOK_EXPREF] = 0;\n      bindingPower[TOK_PIPE] = 1;\n      bindingPower[TOK_OR] = 2;\n      bindingPower[TOK_AND] = 3;\n      bindingPower[TOK_EQ] = 5;\n      bindingPower[TOK_GT] = 5;\n      bindingPower[TOK_LT] = 5;\n      bindingPower[TOK_GTE] = 5;\n      bindingPower[TOK_LTE] = 5;\n      bindingPower[TOK_NE] = 5;\n      bindingPower[TOK_FLATTEN] = 9;\n      bindingPower[TOK_STAR] = 20;\n      bindingPower[TOK_FILTER] = 21;\n      bindingPower[TOK_DOT] = 40;\n      bindingPower[TOK_NOT] = 45;\n      bindingPower[TOK_LBRACE] = 50;\n      bindingPower[TOK_LBRACKET] = 55;\n      bindingPower[TOK_LPAREN] = 60;\n\n  function Parser() {\n  }\n\n  Parser.prototype = {\n      parse: function(expression) {\n          this._loadTokens(expression);\n          this.index = 0;\n          var ast = this.expression(0);\n          if (this._lookahead(0) !== TOK_EOF) {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\n                  \"Unexpected token type: \" + t.type + \", value: \" + t.value);\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return ast;\n      },\n\n      _loadTokens: function(expression) {\n          var lexer = new Lexer();\n          var tokens = lexer.tokenize(expression);\n          tokens.push({type: TOK_EOF, value: \"\", start: expression.length});\n          this.tokens = tokens;\n      },\n\n      expression: function(rbp) {\n          var leftToken = this._lookaheadToken(0);\n          this._advance();\n          var left = this.nud(leftToken);\n          var currentToken = this._lookahead(0);\n          while (rbp < bindingPower[currentToken]) {\n              this._advance();\n              left = this.led(currentToken, left);\n              currentToken = this._lookahead(0);\n          }\n          return left;\n      },\n\n      _lookahead: function(number) {\n          return this.tokens[this.index + number].type;\n      },\n\n      _lookaheadToken: function(number) {\n          return this.tokens[this.index + number];\n      },\n\n      _advance: function() {\n          this.index++;\n      },\n\n      nud: function(token) {\n        var left;\n        var right;\n        var expression;\n        switch (token.type) {\n          case TOK_LITERAL:\n            return {type: \"Literal\", value: token.value};\n          case TOK_UNQUOTEDIDENTIFIER:\n            return {type: \"Field\", name: token.value};\n          case TOK_QUOTEDIDENTIFIER:\n            var node = {type: \"Field\", name: token.value};\n            if (this._lookahead(0) === TOK_LPAREN) {\n                throw new Error(\"Quoted identifier not allowed for function names.\");\n            } else {\n                return node;\n            }\n            break;\n          case TOK_NOT:\n            right = this.expression(bindingPower.Not);\n            return {type: \"NotExpression\", children: [right]};\n          case TOK_STAR:\n            left = {type: \"Identity\"};\n            right = null;\n            if (this._lookahead(0) === TOK_RBRACKET) {\n                // This can happen in a multiselect,\n                // [a, b, *]\n                right = {type: \"Identity\"};\n            } else {\n                right = this._parseProjectionRHS(bindingPower.Star);\n            }\n            return {type: \"ValueProjection\", children: [left, right]};\n          case TOK_FILTER:\n            return this.led(token.type, {type: \"Identity\"});\n          case TOK_LBRACE:\n            return this._parseMultiselectHash();\n          case TOK_FLATTEN:\n            left = {type: TOK_FLATTEN, children: [{type: \"Identity\"}]};\n            right = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [left, right]};\n          case TOK_LBRACKET:\n            if (this._lookahead(0) === TOK_NUMBER || this._lookahead(0) === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice({type: \"Identity\"}, right);\n            } else if (this._lookahead(0) === TOK_STAR &&\n                       this._lookahead(1) === TOK_RBRACKET) {\n                this._advance();\n                this._advance();\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\",\n                        children: [{type: \"Identity\"}, right]};\n            } else {\n                return this._parseMultiselectList();\n            }\n            break;\n          case TOK_CURRENT:\n            return {type: TOK_CURRENT};\n          case TOK_EXPREF:\n            expression = this.expression(bindingPower.Expref);\n            return {type: \"ExpressionReference\", children: [expression]};\n          case TOK_LPAREN:\n            var args = [];\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            return args[0];\n          default:\n            this._errorToken(token);\n        }\n      },\n\n      led: function(tokenName, left) {\n        var right;\n        switch(tokenName) {\n          case TOK_DOT:\n            var rbp = bindingPower.Dot;\n            if (this._lookahead(0) !== TOK_STAR) {\n                right = this._parseDotRHS(rbp);\n                return {type: \"Subexpression\", children: [left, right]};\n            } else {\n                // Creating a projection.\n                this._advance();\n                right = this._parseProjectionRHS(rbp);\n                return {type: \"ValueProjection\", children: [left, right]};\n            }\n            break;\n          case TOK_PIPE:\n            right = this.expression(bindingPower.Pipe);\n            return {type: TOK_PIPE, children: [left, right]};\n          case TOK_OR:\n            right = this.expression(bindingPower.Or);\n            return {type: \"OrExpression\", children: [left, right]};\n          case TOK_AND:\n            right = this.expression(bindingPower.And);\n            return {type: \"AndExpression\", children: [left, right]};\n          case TOK_LPAREN:\n            var name = left.name;\n            var args = [];\n            var expression, node;\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              if (this._lookahead(0) === TOK_COMMA) {\n                this._match(TOK_COMMA);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            node = {type: \"Function\", name: name, children: args};\n            return node;\n          case TOK_FILTER:\n            var condition = this.expression(0);\n            this._match(TOK_RBRACKET);\n            if (this._lookahead(0) === TOK_FLATTEN) {\n              right = {type: \"Identity\"};\n            } else {\n              right = this._parseProjectionRHS(bindingPower.Filter);\n            }\n            return {type: \"FilterProjection\", children: [left, right, condition]};\n          case TOK_FLATTEN:\n            var leftNode = {type: TOK_FLATTEN, children: [left]};\n            var rightNode = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [leftNode, rightNode]};\n          case TOK_EQ:\n          case TOK_NE:\n          case TOK_GT:\n          case TOK_GTE:\n          case TOK_LT:\n          case TOK_LTE:\n            return this._parseComparator(left, tokenName);\n          case TOK_LBRACKET:\n            var token = this._lookaheadToken(0);\n            if (token.type === TOK_NUMBER || token.type === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice(left, right);\n            } else {\n                this._match(TOK_STAR);\n                this._match(TOK_RBRACKET);\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\", children: [left, right]};\n            }\n            break;\n          default:\n            this._errorToken(this._lookaheadToken(0));\n        }\n      },\n\n      _match: function(tokenType) {\n          if (this._lookahead(0) === tokenType) {\n              this._advance();\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Expected \" + tokenType + \", got: \" + t.type);\n              error.name = \"ParserError\";\n              throw error;\n          }\n      },\n\n      _errorToken: function(token) {\n          var error = new Error(\"Invalid token (\" +\n                                token.type + \"): \\\"\" +\n                                token.value + \"\\\"\");\n          error.name = \"ParserError\";\n          throw error;\n      },\n\n\n      _parseIndexExpression: function() {\n          if (this._lookahead(0) === TOK_COLON || this._lookahead(1) === TOK_COLON) {\n              return this._parseSliceExpression();\n          } else {\n              var node = {\n                  type: \"Index\",\n                  value: this._lookaheadToken(0).value};\n              this._advance();\n              this._match(TOK_RBRACKET);\n              return node;\n          }\n      },\n\n      _projectIfSlice: function(left, right) {\n          var indexExpr = {type: \"IndexExpression\", children: [left, right]};\n          if (right.type === \"Slice\") {\n              return {\n                  type: \"Projection\",\n                  children: [indexExpr, this._parseProjectionRHS(bindingPower.Star)]\n              };\n          } else {\n              return indexExpr;\n          }\n      },\n\n      _parseSliceExpression: function() {\n          // [start:end:step] where each part is optional, as well as the last\n          // colon.\n          var parts = [null, null, null];\n          var index = 0;\n          var currentToken = this._lookahead(0);\n          while (currentToken !== TOK_RBRACKET && index < 3) {\n              if (currentToken === TOK_COLON) {\n                  index++;\n                  this._advance();\n              } else if (currentToken === TOK_NUMBER) {\n                  parts[index] = this._lookaheadToken(0).value;\n                  this._advance();\n              } else {\n                  var t = this._lookahead(0);\n                  var error = new Error(\"Syntax error, unexpected token: \" +\n                                        t.value + \"(\" + t.type + \")\");\n                  error.name = \"Parsererror\";\n                  throw error;\n              }\n              currentToken = this._lookahead(0);\n          }\n          this._match(TOK_RBRACKET);\n          return {\n              type: \"Slice\",\n              children: parts\n          };\n      },\n\n      _parseComparator: function(left, comparator) {\n        var right = this.expression(bindingPower[comparator]);\n        return {type: \"Comparator\", name: comparator, children: [left, right]};\n      },\n\n      _parseDotRHS: function(rbp) {\n          var lookahead = this._lookahead(0);\n          var exprTokens = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER, TOK_STAR];\n          if (exprTokens.indexOf(lookahead) >= 0) {\n              return this.expression(rbp);\n          } else if (lookahead === TOK_LBRACKET) {\n              this._match(TOK_LBRACKET);\n              return this._parseMultiselectList();\n          } else if (lookahead === TOK_LBRACE) {\n              this._match(TOK_LBRACE);\n              return this._parseMultiselectHash();\n          }\n      },\n\n      _parseProjectionRHS: function(rbp) {\n          var right;\n          if (bindingPower[this._lookahead(0)] < 10) {\n              right = {type: \"Identity\"};\n          } else if (this._lookahead(0) === TOK_LBRACKET) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_FILTER) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_DOT) {\n              this._match(TOK_DOT);\n              right = this._parseDotRHS(rbp);\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Sytanx error, unexpected token: \" +\n                                    t.value + \"(\" + t.type + \")\");\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return right;\n      },\n\n      _parseMultiselectList: function() {\n          var expressions = [];\n          while (this._lookahead(0) !== TOK_RBRACKET) {\n              var expression = this.expression(0);\n              expressions.push(expression);\n              if (this._lookahead(0) === TOK_COMMA) {\n                  this._match(TOK_COMMA);\n                  if (this._lookahead(0) === TOK_RBRACKET) {\n                    throw new Error(\"Unexpected token Rbracket\");\n                  }\n              }\n          }\n          this._match(TOK_RBRACKET);\n          return {type: \"MultiSelectList\", children: expressions};\n      },\n\n      _parseMultiselectHash: function() {\n        var pairs = [];\n        var identifierTypes = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER];\n        var keyToken, keyName, value, node;\n        for (;;) {\n          keyToken = this._lookaheadToken(0);\n          if (identifierTypes.indexOf(keyToken.type) < 0) {\n            throw new Error(\"Expecting an identifier token, got: \" +\n                            keyToken.type);\n          }\n          keyName = keyToken.value;\n          this._advance();\n          this._match(TOK_COLON);\n          value = this.expression(0);\n          node = {type: \"KeyValuePair\", name: keyName, value: value};\n          pairs.push(node);\n          if (this._lookahead(0) === TOK_COMMA) {\n            this._match(TOK_COMMA);\n          } else if (this._lookahead(0) === TOK_RBRACE) {\n            this._match(TOK_RBRACE);\n            break;\n          }\n        }\n        return {type: \"MultiSelectHash\", children: pairs};\n      }\n  };\n\n\n  function TreeInterpreter(runtime) {\n    this.runtime = runtime;\n  }\n\n  TreeInterpreter.prototype = {\n      search: function(node, value) {\n          return this.visit(node, value);\n      },\n\n      visit: function(node, value) {\n          var matched, current, result, first, second, field, left, right, collected, i;\n          switch (node.type) {\n            case \"Field\":\n              if (value === null ) {\n                  return null;\n              } else if (isObject(value)) {\n                  field = value[node.name];\n                  if (field === undefined) {\n                      return null;\n                  } else {\n                      return field;\n                  }\n              } else {\n                return null;\n              }\n              break;\n            case \"Subexpression\":\n              result = this.visit(node.children[0], value);\n              for (i = 1; i < node.children.length; i++) {\n                  result = this.visit(node.children[1], result);\n                  if (result === null) {\n                      return null;\n                  }\n              }\n              return result;\n            case \"IndexExpression\":\n              left = this.visit(node.children[0], value);\n              right = this.visit(node.children[1], left);\n              return right;\n            case \"Index\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var index = node.value;\n              if (index < 0) {\n                index = value.length + index;\n              }\n              result = value[index];\n              if (result === undefined) {\n                result = null;\n              }\n              return result;\n            case \"Slice\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var sliceParams = node.children.slice(0);\n              var computed = this.computeSliceParams(value.length, sliceParams);\n              var start = computed[0];\n              var stop = computed[1];\n              var step = computed[2];\n              result = [];\n              if (step > 0) {\n                  for (i = start; i < stop; i += step) {\n                      result.push(value[i]);\n                  }\n              } else {\n                  for (i = start; i > stop; i += step) {\n                      result.push(value[i]);\n                  }\n              }\n              return result;\n            case \"Projection\":\n              // Evaluate left child.\n              var base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < base.length; i++) {\n                current = this.visit(node.children[1], base[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"ValueProjection\":\n              // Evaluate left child.\n              base = this.visit(node.children[0], value);\n              if (!isObject(base)) {\n                return null;\n              }\n              collected = [];\n              var values = objValues(base);\n              for (i = 0; i < values.length; i++) {\n                current = this.visit(node.children[1], values[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"FilterProjection\":\n              base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              var filtered = [];\n              var finalResults = [];\n              for (i = 0; i < base.length; i++) {\n                matched = this.visit(node.children[2], base[i]);\n                if (!isFalse(matched)) {\n                  filtered.push(base[i]);\n                }\n              }\n              for (var j = 0; j < filtered.length; j++) {\n                current = this.visit(node.children[1], filtered[j]);\n                if (current !== null) {\n                  finalResults.push(current);\n                }\n              }\n              return finalResults;\n            case \"Comparator\":\n              first = this.visit(node.children[0], value);\n              second = this.visit(node.children[1], value);\n              switch(node.name) {\n                case TOK_EQ:\n                  result = strictDeepEqual(first, second);\n                  break;\n                case TOK_NE:\n                  result = !strictDeepEqual(first, second);\n                  break;\n                case TOK_GT:\n                  result = first > second;\n                  break;\n                case TOK_GTE:\n                  result = first >= second;\n                  break;\n                case TOK_LT:\n                  result = first < second;\n                  break;\n                case TOK_LTE:\n                  result = first <= second;\n                  break;\n                default:\n                  throw new Error(\"Unknown comparator: \" + node.name);\n              }\n              return result;\n            case TOK_FLATTEN:\n              var original = this.visit(node.children[0], value);\n              if (!isArray(original)) {\n                return null;\n              }\n              var merged = [];\n              for (i = 0; i < original.length; i++) {\n                current = original[i];\n                if (isArray(current)) {\n                  merged.push.apply(merged, current);\n                } else {\n                  merged.push(current);\n                }\n              }\n              return merged;\n            case \"Identity\":\n              return value;\n            case \"MultiSelectList\":\n              if (value === null) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < node.children.length; i++) {\n                  collected.push(this.visit(node.children[i], value));\n              }\n              return collected;\n            case \"MultiSelectHash\":\n              if (value === null) {\n                return null;\n              }\n              collected = {};\n              var child;\n              for (i = 0; i < node.children.length; i++) {\n                child = node.children[i];\n                collected[child.name] = this.visit(child.value, value);\n              }\n              return collected;\n            case \"OrExpression\":\n              matched = this.visit(node.children[0], value);\n              if (isFalse(matched)) {\n                  matched = this.visit(node.children[1], value);\n              }\n              return matched;\n            case \"AndExpression\":\n              first = this.visit(node.children[0], value);\n\n              if (isFalse(first) === true) {\n                return first;\n              }\n              return this.visit(node.children[1], value);\n            case \"NotExpression\":\n              first = this.visit(node.children[0], value);\n              return isFalse(first);\n            case \"Literal\":\n              return node.value;\n            case TOK_PIPE:\n              left = this.visit(node.children[0], value);\n              return this.visit(node.children[1], left);\n            case TOK_CURRENT:\n              return value;\n            case \"Function\":\n              var resolvedArgs = [];\n              for (i = 0; i < node.children.length; i++) {\n                  resolvedArgs.push(this.visit(node.children[i], value));\n              }\n              return this.runtime.callFunction(node.name, resolvedArgs);\n            case \"ExpressionReference\":\n              var refNode = node.children[0];\n              // Tag the node with a specific attribute so the type\n              // checker verify the type.\n              refNode.jmespathType = TOK_EXPREF;\n              return refNode;\n            default:\n              throw new Error(\"Unknown node type: \" + node.type);\n          }\n      },\n\n      computeSliceParams: function(arrayLength, sliceParams) {\n        var start = sliceParams[0];\n        var stop = sliceParams[1];\n        var step = sliceParams[2];\n        var computed = [null, null, null];\n        if (step === null) {\n          step = 1;\n        } else if (step === 0) {\n          var error = new Error(\"Invalid slice, step cannot be 0\");\n          error.name = \"RuntimeError\";\n          throw error;\n        }\n        var stepValueNegative = step < 0 ? true : false;\n\n        if (start === null) {\n            start = stepValueNegative ? arrayLength - 1 : 0;\n        } else {\n            start = this.capSliceRange(arrayLength, start, step);\n        }\n\n        if (stop === null) {\n            stop = stepValueNegative ? -1 : arrayLength;\n        } else {\n            stop = this.capSliceRange(arrayLength, stop, step);\n        }\n        computed[0] = start;\n        computed[1] = stop;\n        computed[2] = step;\n        return computed;\n      },\n\n      capSliceRange: function(arrayLength, actualValue, step) {\n          if (actualValue < 0) {\n              actualValue += arrayLength;\n              if (actualValue < 0) {\n                  actualValue = step < 0 ? -1 : 0;\n              }\n          } else if (actualValue >= arrayLength) {\n              actualValue = step < 0 ? arrayLength - 1 : arrayLength;\n          }\n          return actualValue;\n      }\n\n  };\n\n  function Runtime(interpreter) {\n    this._interpreter = interpreter;\n    this.functionTable = {\n        // name: [function, <signature>]\n        // The <signature> can be:\n        //\n        // {\n        //   args: [[type1, type2], [type1, type2]],\n        //   variadic: true|false\n        // }\n        //\n        // Each arg in the arg list is a list of valid types\n        // (if the function is overloaded and supports multiple\n        // types.  If the type is \"any\" then no type checking\n        // occurs on the argument.  Variadic is optional\n        // and if not provided is assumed to be false.\n        abs: {_func: this._functionAbs, _signature: [{types: [TYPE_NUMBER]}]},\n        avg: {_func: this._functionAvg, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        ceil: {_func: this._functionCeil, _signature: [{types: [TYPE_NUMBER]}]},\n        contains: {\n            _func: this._functionContains,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]},\n                        {types: [TYPE_ANY]}]},\n        \"ends_with\": {\n            _func: this._functionEndsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        floor: {_func: this._functionFloor, _signature: [{types: [TYPE_NUMBER]}]},\n        length: {\n            _func: this._functionLength,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY, TYPE_OBJECT]}]},\n        map: {\n            _func: this._functionMap,\n            _signature: [{types: [TYPE_EXPREF]}, {types: [TYPE_ARRAY]}]},\n        max: {\n            _func: this._functionMax,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"merge\": {\n            _func: this._functionMerge,\n            _signature: [{types: [TYPE_OBJECT], variadic: true}]\n        },\n        \"max_by\": {\n          _func: this._functionMaxBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        sum: {_func: this._functionSum, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        \"starts_with\": {\n            _func: this._functionStartsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        min: {\n            _func: this._functionMin,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"min_by\": {\n          _func: this._functionMinBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        type: {_func: this._functionType, _signature: [{types: [TYPE_ANY]}]},\n        keys: {_func: this._functionKeys, _signature: [{types: [TYPE_OBJECT]}]},\n        values: {_func: this._functionValues, _signature: [{types: [TYPE_OBJECT]}]},\n        sort: {_func: this._functionSort, _signature: [{types: [TYPE_ARRAY_STRING, TYPE_ARRAY_NUMBER]}]},\n        \"sort_by\": {\n          _func: this._functionSortBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        join: {\n            _func: this._functionJoin,\n            _signature: [\n                {types: [TYPE_STRING]},\n                {types: [TYPE_ARRAY_STRING]}\n            ]\n        },\n        reverse: {\n            _func: this._functionReverse,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]}]},\n        \"to_array\": {_func: this._functionToArray, _signature: [{types: [TYPE_ANY]}]},\n        \"to_string\": {_func: this._functionToString, _signature: [{types: [TYPE_ANY]}]},\n        \"to_number\": {_func: this._functionToNumber, _signature: [{types: [TYPE_ANY]}]},\n        \"not_null\": {\n            _func: this._functionNotNull,\n            _signature: [{types: [TYPE_ANY], variadic: true}]\n        }\n    };\n  }\n\n  Runtime.prototype = {\n    callFunction: function(name, resolvedArgs) {\n      var functionEntry = this.functionTable[name];\n      if (functionEntry === undefined) {\n          throw new Error(\"Unknown function: \" + name + \"()\");\n      }\n      this._validateArgs(name, resolvedArgs, functionEntry._signature);\n      return functionEntry._func.call(this, resolvedArgs);\n    },\n\n    _validateArgs: function(name, args, signature) {\n        // Validating the args requires validating\n        // the correct arity and the correct type of each arg.\n        // If the last argument is declared as variadic, then we need\n        // a minimum number of args to be required.  Otherwise it has to\n        // be an exact amount.\n        var pluralized;\n        if (signature[signature.length - 1].variadic) {\n            if (args.length < signature.length) {\n                pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n                throw new Error(\"ArgumentError: \" + name + \"() \" +\n                                \"takes at least\" + signature.length + pluralized +\n                                \" but received \" + args.length);\n            }\n        } else if (args.length !== signature.length) {\n            pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n            throw new Error(\"ArgumentError: \" + name + \"() \" +\n                            \"takes \" + signature.length + pluralized +\n                            \" but received \" + args.length);\n        }\n        var currentSpec;\n        var actualType;\n        var typeMatched;\n        for (var i = 0; i < signature.length; i++) {\n            typeMatched = false;\n            currentSpec = signature[i].types;\n            actualType = this._getTypeName(args[i]);\n            for (var j = 0; j < currentSpec.length; j++) {\n                if (this._typeMatches(actualType, currentSpec[j], args[i])) {\n                    typeMatched = true;\n                    break;\n                }\n            }\n            if (!typeMatched) {\n                throw new Error(\"TypeError: \" + name + \"() \" +\n                                \"expected argument \" + (i + 1) +\n                                \" to be type \" + currentSpec +\n                                \" but received type \" + actualType +\n                                \" instead.\");\n            }\n        }\n    },\n\n    _typeMatches: function(actual, expected, argValue) {\n        if (expected === TYPE_ANY) {\n            return true;\n        }\n        if (expected === TYPE_ARRAY_STRING ||\n            expected === TYPE_ARRAY_NUMBER ||\n            expected === TYPE_ARRAY) {\n            // The expected type can either just be array,\n            // or it can require a specific subtype (array of numbers).\n            //\n            // The simplest case is if \"array\" with no subtype is specified.\n            if (expected === TYPE_ARRAY) {\n                return actual === TYPE_ARRAY;\n            } else if (actual === TYPE_ARRAY) {\n                // Otherwise we need to check subtypes.\n                // I think this has potential to be improved.\n                var subtype;\n                if (expected === TYPE_ARRAY_NUMBER) {\n                  subtype = TYPE_NUMBER;\n                } else if (expected === TYPE_ARRAY_STRING) {\n                  subtype = TYPE_STRING;\n                }\n                for (var i = 0; i < argValue.length; i++) {\n                    if (!this._typeMatches(\n                            this._getTypeName(argValue[i]), subtype,\n                                             argValue[i])) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        } else {\n            return actual === expected;\n        }\n    },\n    _getTypeName: function(obj) {\n        switch (Object.prototype.toString.call(obj)) {\n            case \"[object String]\":\n              return TYPE_STRING;\n            case \"[object Number]\":\n              return TYPE_NUMBER;\n            case \"[object Array]\":\n              return TYPE_ARRAY;\n            case \"[object Boolean]\":\n              return TYPE_BOOLEAN;\n            case \"[object Null]\":\n              return TYPE_NULL;\n            case \"[object Object]\":\n              // Check if it's an expref.  If it has, it's been\n              // tagged with a jmespathType attr of 'Expref';\n              if (obj.jmespathType === TOK_EXPREF) {\n                return TYPE_EXPREF;\n              } else {\n                return TYPE_OBJECT;\n              }\n        }\n    },\n\n    _functionStartsWith: function(resolvedArgs) {\n        return resolvedArgs[0].lastIndexOf(resolvedArgs[1]) === 0;\n    },\n\n    _functionEndsWith: function(resolvedArgs) {\n        var searchStr = resolvedArgs[0];\n        var suffix = resolvedArgs[1];\n        return searchStr.indexOf(suffix, searchStr.length - suffix.length) !== -1;\n    },\n\n    _functionReverse: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        if (typeName === TYPE_STRING) {\n          var originalStr = resolvedArgs[0];\n          var reversedStr = \"\";\n          for (var i = originalStr.length - 1; i >= 0; i--) {\n              reversedStr += originalStr[i];\n          }\n          return reversedStr;\n        } else {\n          var reversedArray = resolvedArgs[0].slice(0);\n          reversedArray.reverse();\n          return reversedArray;\n        }\n    },\n\n    _functionAbs: function(resolvedArgs) {\n      return Math.abs(resolvedArgs[0]);\n    },\n\n    _functionCeil: function(resolvedArgs) {\n        return Math.ceil(resolvedArgs[0]);\n    },\n\n    _functionAvg: function(resolvedArgs) {\n        var sum = 0;\n        var inputArray = resolvedArgs[0];\n        for (var i = 0; i < inputArray.length; i++) {\n            sum += inputArray[i];\n        }\n        return sum / inputArray.length;\n    },\n\n    _functionContains: function(resolvedArgs) {\n        return resolvedArgs[0].indexOf(resolvedArgs[1]) >= 0;\n    },\n\n    _functionFloor: function(resolvedArgs) {\n        return Math.floor(resolvedArgs[0]);\n    },\n\n    _functionLength: function(resolvedArgs) {\n       if (!isObject(resolvedArgs[0])) {\n         return resolvedArgs[0].length;\n       } else {\n         // As far as I can tell, there's no way to get the length\n         // of an object without O(n) iteration through the object.\n         return Object.keys(resolvedArgs[0]).length;\n       }\n    },\n\n    _functionMap: function(resolvedArgs) {\n      var mapped = [];\n      var interpreter = this._interpreter;\n      var exprefNode = resolvedArgs[0];\n      var elements = resolvedArgs[1];\n      for (var i = 0; i < elements.length; i++) {\n          mapped.push(interpreter.visit(exprefNode, elements[i]));\n      }\n      return mapped;\n    },\n\n    _functionMerge: function(resolvedArgs) {\n      var merged = {};\n      for (var i = 0; i < resolvedArgs.length; i++) {\n        var current = resolvedArgs[i];\n        for (var key in current) {\n          merged[key] = current[key];\n        }\n      }\n      return merged;\n    },\n\n    _functionMax: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.max.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var maxElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (maxElement.localeCompare(elements[i]) < 0) {\n                  maxElement = elements[i];\n              }\n          }\n          return maxElement;\n        }\n      } else {\n          return null;\n      }\n    },\n\n    _functionMin: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.min.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var minElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (elements[i].localeCompare(minElement) < 0) {\n                  minElement = elements[i];\n              }\n          }\n          return minElement;\n        }\n      } else {\n        return null;\n      }\n    },\n\n    _functionSum: function(resolvedArgs) {\n      var sum = 0;\n      var listToSum = resolvedArgs[0];\n      for (var i = 0; i < listToSum.length; i++) {\n        sum += listToSum[i];\n      }\n      return sum;\n    },\n\n    _functionType: function(resolvedArgs) {\n        switch (this._getTypeName(resolvedArgs[0])) {\n          case TYPE_NUMBER:\n            return \"number\";\n          case TYPE_STRING:\n            return \"string\";\n          case TYPE_ARRAY:\n            return \"array\";\n          case TYPE_OBJECT:\n            return \"object\";\n          case TYPE_BOOLEAN:\n            return \"boolean\";\n          case TYPE_EXPREF:\n            return \"expref\";\n          case TYPE_NULL:\n            return \"null\";\n        }\n    },\n\n    _functionKeys: function(resolvedArgs) {\n        return Object.keys(resolvedArgs[0]);\n    },\n\n    _functionValues: function(resolvedArgs) {\n        var obj = resolvedArgs[0];\n        var keys = Object.keys(obj);\n        var values = [];\n        for (var i = 0; i < keys.length; i++) {\n            values.push(obj[keys[i]]);\n        }\n        return values;\n    },\n\n    _functionJoin: function(resolvedArgs) {\n        var joinChar = resolvedArgs[0];\n        var listJoin = resolvedArgs[1];\n        return listJoin.join(joinChar);\n    },\n\n    _functionToArray: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_ARRAY) {\n            return resolvedArgs[0];\n        } else {\n            return [resolvedArgs[0]];\n        }\n    },\n\n    _functionToString: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_STRING) {\n            return resolvedArgs[0];\n        } else {\n            return JSON.stringify(resolvedArgs[0]);\n        }\n    },\n\n    _functionToNumber: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        var convertedValue;\n        if (typeName === TYPE_NUMBER) {\n            return resolvedArgs[0];\n        } else if (typeName === TYPE_STRING) {\n            convertedValue = +resolvedArgs[0];\n            if (!isNaN(convertedValue)) {\n                return convertedValue;\n            }\n        }\n        return null;\n    },\n\n    _functionNotNull: function(resolvedArgs) {\n        for (var i = 0; i < resolvedArgs.length; i++) {\n            if (this._getTypeName(resolvedArgs[i]) !== TYPE_NULL) {\n                return resolvedArgs[i];\n            }\n        }\n        return null;\n    },\n\n    _functionSort: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        sortedArray.sort();\n        return sortedArray;\n    },\n\n    _functionSortBy: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        if (sortedArray.length === 0) {\n            return sortedArray;\n        }\n        var interpreter = this._interpreter;\n        var exprefNode = resolvedArgs[1];\n        var requiredType = this._getTypeName(\n            interpreter.visit(exprefNode, sortedArray[0]));\n        if ([TYPE_NUMBER, TYPE_STRING].indexOf(requiredType) < 0) {\n            throw new Error(\"TypeError\");\n        }\n        var that = this;\n        // In order to get a stable sort out of an unstable\n        // sort algorithm, we decorate/sort/undecorate (DSU)\n        // by creating a new list of [index, element] pairs.\n        // In the cmp function, if the evaluated elements are\n        // equal, then the index will be used as the tiebreaker.\n        // After the decorated list has been sorted, it will be\n        // undecorated to extract the original elements.\n        var decorated = [];\n        for (var i = 0; i < sortedArray.length; i++) {\n          decorated.push([i, sortedArray[i]]);\n        }\n        decorated.sort(function(a, b) {\n          var exprA = interpreter.visit(exprefNode, a[1]);\n          var exprB = interpreter.visit(exprefNode, b[1]);\n          if (that._getTypeName(exprA) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprA));\n          } else if (that._getTypeName(exprB) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprB));\n          }\n          if (exprA > exprB) {\n            return 1;\n          } else if (exprA < exprB) {\n            return -1;\n          } else {\n            // If they're equal compare the items by their\n            // order to maintain relative order of equal keys\n            // (i.e. to get a stable sort).\n            return a[0] - b[0];\n          }\n        });\n        // Undecorate: extract out the original list elements.\n        for (var j = 0; j < decorated.length; j++) {\n          sortedArray[j] = decorated[j][1];\n        }\n        return sortedArray;\n    },\n\n    _functionMaxBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var maxNumber = -Infinity;\n      var maxRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current > maxNumber) {\n          maxNumber = current;\n          maxRecord = resolvedArray[i];\n        }\n      }\n      return maxRecord;\n    },\n\n    _functionMinBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var minNumber = Infinity;\n      var minRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current < minNumber) {\n          minNumber = current;\n          minRecord = resolvedArray[i];\n        }\n      }\n      return minRecord;\n    },\n\n    createKeyFunction: function(exprefNode, allowedTypes) {\n      var that = this;\n      var interpreter = this._interpreter;\n      var keyFunc = function(x) {\n        var current = interpreter.visit(exprefNode, x);\n        if (allowedTypes.indexOf(that._getTypeName(current)) < 0) {\n          var msg = \"TypeError: expected one of \" + allowedTypes +\n                    \", received \" + that._getTypeName(current);\n          throw new Error(msg);\n        }\n        return current;\n      };\n      return keyFunc;\n    }\n\n  };\n\n  function compile(stream) {\n    var parser = new Parser();\n    var ast = parser.parse(stream);\n    return ast;\n  }\n\n  function tokenize(stream) {\n      var lexer = new Lexer();\n      return lexer.tokenize(stream);\n  }\n\n  function search(data, expression) {\n      var parser = new Parser();\n      // This needs to be improved.  Both the interpreter and runtime depend on\n      // each other.  The runtime needs the interpreter to support exprefs.\n      // There's likely a clean way to avoid the cyclic dependency.\n      var runtime = new Runtime();\n      var interpreter = new TreeInterpreter(runtime);\n      runtime._interpreter = interpreter;\n      var node = parser.parse(expression);\n      return interpreter.search(node, data);\n  }\n\n  exports.tokenize = tokenize;\n  exports.compile = compile;\n  exports.search = search;\n  exports.strictDeepEqual = strictDeepEqual;\n})(typeof exports === \"undefined\" ? this.jmespath = {} : exports);\n","'use strict'\n\nconst { LEVELS, LEVEL_NAMES } = require('./constants')\n\nconst nocolor = input => input\nconst plain = {\n  default: nocolor,\n  60: nocolor,\n  50: nocolor,\n  40: nocolor,\n  30: nocolor,\n  20: nocolor,\n  10: nocolor,\n  message: nocolor\n}\n\nconst chalk = require('chalk')\nconst ctx = new chalk.Instance({ level: 3 })\nconst colored = {\n  default: ctx.white,\n  60: ctx.bgRed,\n  50: ctx.red,\n  40: ctx.yellow,\n  30: ctx.green,\n  20: ctx.blue,\n  10: ctx.grey,\n  message: ctx.cyan\n}\n\nfunction colorizeLevel (level, colorizer) {\n  if (Number.isInteger(+level)) {\n    return Object.prototype.hasOwnProperty.call(LEVELS, level)\n      ? colorizer[level](LEVELS[level])\n      : colorizer.default(LEVELS.default)\n  }\n  const levelNum = LEVEL_NAMES[level.toLowerCase()] || 'default'\n  return colorizer[levelNum](LEVELS[levelNum])\n}\n\nfunction plainColorizer (level) {\n  return colorizeLevel(level, plain)\n}\nplainColorizer.message = plain.message\n\nfunction coloredColorizer (level) {\n  return colorizeLevel(level, colored)\n}\ncoloredColorizer.message = colored.message\n\n/**\n * Factory function get a function to colorized levels. The returned function\n * also includes a `.message(str)` method to colorize strings.\n *\n * @param {bool} [useColors=false] When `true` a function that applies standard\n * terminal colors is returned.\n *\n * @returns {function} `function (level) {}` has a `.message(str)` method to\n * apply colorization to a string. The core function accepts either an integer\n * `level` or a `string` level. The integer level will map to a known level\n * string or to `USERLVL` if not known.  The string `level` will map to the same\n * colors as the integer `level` and will also default to `USERLVL` if the given\n * string is not a recognized level name.\n */\nmodule.exports = function getColorizer (useColors = false) {\n  return useColors ? coloredColorizer : plainColorizer\n}\n","'use strict'\n\nmodule.exports = {\n  DATE_FORMAT: 'yyyy-mm-dd HH:MM:ss.l o',\n\n  ERROR_LIKE_KEYS: ['err', 'error'],\n\n  MESSAGE_KEY: 'msg',\n\n  LEVEL_KEY: 'level',\n\n  TIMESTAMP_KEY: 'time',\n\n  LEVELS: {\n    default: 'USERLVL',\n    60: 'FATAL',\n    50: 'ERROR',\n    40: 'WARN ',\n    30: 'INFO ',\n    20: 'DEBUG',\n    10: 'TRACE'\n  },\n\n  LEVEL_NAMES: {\n    fatal: 60,\n    error: 50,\n    warn: 40,\n    info: 30,\n    debug: 20,\n    trace: 10\n  },\n\n  // Object keys that probably came from a logger like Pino or Bunyan.\n  LOGGER_KEYS: [\n    'pid',\n    'hostname',\n    'name',\n    'level',\n    'time',\n    'timestamp',\n    'v',\n    'caller'\n  ]\n}\n","'use strict'\n\nconst dateformat = require('dateformat')\nconst stringifySafe = require('fast-safe-stringify')\nconst defaultColorizer = require('./colors')()\nconst {\n  DATE_FORMAT,\n  ERROR_LIKE_KEYS,\n  MESSAGE_KEY,\n  LEVEL_KEY,\n  TIMESTAMP_KEY,\n  LOGGER_KEYS\n} = require('./constants')\n\nmodule.exports = {\n  isObject,\n  prettifyErrorLog,\n  prettifyLevel,\n  prettifyMessage,\n  prettifyMetadata,\n  prettifyObject,\n  prettifyTime\n}\n\nmodule.exports.internals = {\n  formatTime,\n  joinLinesWithIndentation\n}\n\n/**\n * Converts a given `epoch` to a desired display format.\n *\n * @param {number|string} epoch The time to convert. May be any value that is\n * valid for `new Date()`.\n * @param {bool|string} [translateTime=false] When `false`, the given `epoch`\n * will simply be returned. When `true`, the given `epoch` will be converted\n * to a string at UTC using the `DATE_FORMAT` constant. If `translateTime` is\n * a string, the following rules are available:\n *\n * - `<format string>`: The string is a literal format string. This format\n * string will be used to interpret the `epoch` and return a display string\n * at UTC.\n * - `SYS:STANDARD`: The returned display string will follow the `DATE_FORMAT`\n * constant at the system's local timezone.\n * - `SYS:<format string>`: The returned display string will follow the given\n * `<format string>` at the system's local timezone.\n * - `UTC:<format string>`: The returned display string will follow the given\n * `<format string>` at UTC.\n *\n * @returns {number|string} The formatted time.\n */\nfunction formatTime (epoch, translateTime = false) {\n  if (translateTime === false) {\n    return epoch\n  }\n\n  const instant = new Date(epoch)\n  if (translateTime === true) {\n    return dateformat(instant, 'UTC:' + DATE_FORMAT)\n  }\n\n  const upperFormat = translateTime.toUpperCase()\n  if (upperFormat === 'SYS:STANDARD') {\n    return dateformat(instant, DATE_FORMAT)\n  }\n\n  const prefix = upperFormat.substr(0, 4)\n  if (prefix === 'SYS:' || prefix === 'UTC:') {\n    if (prefix === 'UTC:') {\n      return dateformat(instant, translateTime)\n    }\n    return dateformat(instant, translateTime.slice(4))\n  }\n\n  return dateformat(instant, `UTC:${translateTime}`)\n}\n\nfunction isObject (input) {\n  return Object.prototype.toString.apply(input) === '[object Object]'\n}\n\n/**\n * Given a string with line separators, either `\\r\\n` or `\\n`, add indentation\n * to all lines subsequent to the first line and rejoin the lines using an\n * end of line sequence.\n *\n * @param {object} input\n * @param {string} input.input The string to split and reformat.\n * @param {string} [input.ident] The indentation string. Default: `    ` (4 spaces).\n * @param {string} [input.eol] The end of line sequence to use when rejoining\n * the lines. Default: `'\\n'`.\n *\n * @returns {string} A string with lines subsequent to the first indented\n * with the given indentation sequence.\n */\nfunction joinLinesWithIndentation ({ input, ident = '    ', eol = '\\n' }) {\n  const lines = input.split(/\\r?\\n/)\n  for (var i = 1; i < lines.length; i += 1) {\n    lines[i] = ident + lines[i]\n  }\n  return lines.join(eol)\n}\n\n/**\n * Given a log object that has a `type: 'Error'` key, prettify the object and\n * return the result. In other\n *\n * @param {object} input\n * @param {object} input.log The error log to prettify.\n * @param {string} [input.messageKey] The name of the key that contains a\n * general log message. This is not the error's message property but the logger\n * messsage property. Default: `MESSAGE_KEY` constant.\n * @param {string} [input.ident] The sequence to use for indentation. Default: `'    '`.\n * @param {string} [input.eol] The sequence to use for EOL. Default: `'\\n'`.\n * @param {string[]} [input.errorLikeKeys] A set of keys that should be considered\n * to have error objects as values. Default: `ERROR_LIKE_KEYS` constant.\n * @param {string[]} [input.errorProperties] A set of specific error object\n * properties, that are not the value of `messageKey`, `type`, or `stack`, to\n * include in the prettified result. The first entry in the list may be `'*'`\n * to indicate that all sibiling properties should be prettified. Default: `[]`.\n *\n * @returns {string} A sring that represents the prettified error log.\n */\nfunction prettifyErrorLog ({\n  log,\n  messageKey = MESSAGE_KEY,\n  ident = '    ',\n  eol = '\\n',\n  errorLikeKeys = ERROR_LIKE_KEYS,\n  errorProperties = []\n}) {\n  const stack = log.stack\n  const joinedLines = joinLinesWithIndentation({ input: stack, ident, eol })\n  let result = `${ident}${joinedLines}${eol}`\n\n  if (errorProperties.length > 0) {\n    const excludeProperties = LOGGER_KEYS.concat(messageKey, 'type', 'stack')\n    let propertiesToPrint\n    if (errorProperties[0] === '*') {\n      // Print all sibling properties except for the standard exclusions.\n      propertiesToPrint = Object.keys(log).filter(k => excludeProperties.includes(k) === false)\n    } else {\n      // Print only sepcified properties unless the property is a standard exclusion.\n      propertiesToPrint = errorProperties.filter(k => excludeProperties.includes(k) === false)\n    }\n\n    for (var i = 0; i < propertiesToPrint.length; i += 1) {\n      const key = propertiesToPrint[i]\n      if (key in log === false) continue\n      if (isObject(log[key])) {\n        // The nested object may have \"logger\" type keys but since they are not\n        // at the root level of the object being processed, we want to print them.\n        // Thus, we invoke with `excludeLoggerKeys: false`.\n        const prettifiedObject = prettifyObject({ input: log[key], errorLikeKeys, excludeLoggerKeys: false, eol, ident })\n        result = `${result}${key}: {${eol}${prettifiedObject}}${eol}`\n        continue\n      }\n      result = `${result}${key}: ${log[key]}${eol}`\n    }\n  }\n\n  return result\n}\n\n/**\n * Checks if the passed in log has a `level` value and returns a prettified\n * string for that level if so.\n *\n * @param {object} input\n * @param {object} input.log The log object.\n * @param {function} [input.colorizer] A colorizer function that accepts a level\n * value and returns a colorized string. Default: a no-op colorizer.\n * @param {string} [levelKey='level'] The key to find the level under.\n *\n * @returns {undefined|string} If `log` does not have a `level` property then\n * `undefined` will be returned. Otherwise, a string from the specified\n * `colorizer` is returned.\n */\nfunction prettifyLevel ({ log, colorizer = defaultColorizer, levelKey = LEVEL_KEY }) {\n  if (levelKey in log === false) return undefined\n  return colorizer(log[levelKey])\n}\n\n/**\n * Prettifies a message string if the given `log` has a message property.\n *\n * @param {object} input\n * @param {object} input.log The log object with the message to colorize.\n * @param {string} [input.messageKey='msg'] The property of the `log` that is the\n * message to be prettified.\n * @param {string} [input.messageFormat=undefined] A format string that defines how the\n *  logged message should be formatted, e.g. `'{level} - {pid}'`.\n * @param {function} [input.colorizer] A colorizer function that has a\n * `.message(str)` method attached to it. This function should return a colorized\n * string which will be the \"prettified\" message. Default: a no-op colorizer.\n *\n * @returns {undefined|string} If the message key is not found, or the message\n * key is not a string, then `undefined` will be returned. Otherwise, a string\n * that is the prettified message.\n */\nfunction prettifyMessage ({ log, messageFormat, messageKey = MESSAGE_KEY, colorizer = defaultColorizer }) {\n  if (messageFormat) {\n    const message = String(messageFormat).replace(/{([^{}]+)}/g, function (match, p1) {\n      if (p1 && log[p1]) {\n        return log[p1]\n      }\n      return ''\n    })\n    return colorizer.message(message)\n  }\n  if (messageKey in log === false) return undefined\n  if (typeof log[messageKey] !== 'string') return undefined\n  return colorizer.message(log[messageKey])\n}\n\n/**\n * Prettifies metadata that is usually present in a Pino log line. It looks for\n * fields `name`, `pid`, `hostname`, and `caller` and returns a formatted string using\n * the fields it finds.\n *\n * @param {object} input\n * @param {object} input.log The log that may or may not contain metadata to\n * be prettified.\n *\n * @returns {undefined|string} If no metadata is found then `undefined` is\n * returned. Otherwise, a string of prettified metadata is returned.\n */\nfunction prettifyMetadata ({ log }) {\n  let line = ''\n\n  if (log.name || log.pid || log.hostname) {\n    line += '('\n\n    if (log.name) {\n      line += log.name\n    }\n\n    if (log.name && log.pid) {\n      line += '/' + log.pid\n    } else if (log.pid) {\n      line += log.pid\n    }\n\n    if (log.hostname) {\n      // If `pid` and `name` were in the ignore keys list then we don't need\n      // the leading space.\n      line += `${line === '(' ? 'on' : ' on'} ${log.hostname}`\n    }\n\n    line += ')'\n  }\n\n  if (log.caller) {\n    line += `${line === '' ? '' : ' '}<${log.caller}>`\n  }\n\n  if (line === '') {\n    return undefined\n  } else {\n    return line\n  }\n}\n\n/**\n * Prettifies a standard object. Special care is taken when processing the object\n * to handle child objects that are attached to keys known to contain error\n * objects.\n *\n * @param {object} input\n * @param {object} input.input The object to prettify.\n * @param {string} [input.ident] The identation sequence to use. Default: `'    '`.\n * @param {string} [input.eol] The EOL sequence to use. Default: `'\\n'`.\n * @param {string[]} [input.skipKeys] A set of object keys to exclude from the\n * prettified result. Default: `[]`.\n * @param {Object<string, function>} [input.customPrettifiers] Dictionary of\n * custom prettifiers. Default: `{}`.\n * @param {string[]} [input.errorLikeKeys] A set of object keys that contain\n * error objects. Default: `ERROR_LIKE_KEYS` constant.\n * @param {boolean} [input.excludeLoggerKeys] Indicates if known logger specific\n * keys should be excluded from prettification. Default: `true`.\n *\n * @returns {string} The prettified string. This can be as little as `''` if\n * there was nothing to prettify.\n */\nfunction prettifyObject ({\n  input,\n  ident = '    ',\n  eol = '\\n',\n  skipKeys = [],\n  customPrettifiers = {},\n  errorLikeKeys = ERROR_LIKE_KEYS,\n  excludeLoggerKeys = true\n}) {\n  const objectKeys = Object.keys(input)\n  const keysToIgnore = [].concat(skipKeys)\n\n  if (excludeLoggerKeys === true) Array.prototype.push.apply(keysToIgnore, LOGGER_KEYS)\n\n  let result = ''\n\n  const keysToIterate = objectKeys.filter(k => keysToIgnore.includes(k) === false)\n  for (var i = 0; i < objectKeys.length; i += 1) {\n    const keyName = keysToIterate[i]\n    const keyValue = input[keyName]\n\n    if (keyValue === undefined) continue\n\n    let lines\n    if (typeof customPrettifiers[keyName] === 'function') {\n      lines = customPrettifiers[keyName](keyValue, keyName, input)\n    } else {\n      lines = stringifySafe(keyValue, null, 2)\n    }\n\n    if (lines === undefined) continue\n    const joinedLines = joinLinesWithIndentation({ input: lines, ident, eol })\n\n    if (errorLikeKeys.includes(keyName) === true) {\n      const splitLines = `${ident}${keyName}: ${joinedLines}${eol}`.split(eol)\n      for (var j = 0; j < splitLines.length; j += 1) {\n        if (j !== 0) result += eol\n\n        const line = splitLines[j]\n        if (/^\\s*\"stack\"/.test(line)) {\n          const matches = /^(\\s*\"stack\":)\\s*(\".*\"),?$/.exec(line)\n          /* istanbul ignore else */\n          if (matches && matches.length === 3) {\n            const indentSize = /^\\s*/.exec(line)[0].length + 4\n            const indentation = ' '.repeat(indentSize)\n            const stackMessage = matches[2]\n            result += matches[1] + eol + indentation + JSON.parse(stackMessage).replace(/\\n/g, eol + indentation)\n          }\n        } else {\n          result += line\n        }\n      }\n    } else {\n      result += `${ident}${keyName}: ${joinedLines}${eol}`\n    }\n  }\n\n  return result\n}\n\n/**\n * Prettifies a timestamp if the given `log` has either `time`, `timestamp` or custom specified timestamp\n * property.\n *\n * @param {object} input\n * @param {object} input.log The log object with the timestamp to be prettified.\n * @param {string} [input.timestampKey='time'] The log property that should be used to resolve timestamp value\n * @param {bool|string} [input.translateFormat=undefined] When `true` the\n * timestamp will be prettified into a string at UTC using the default\n * `DATE_FORMAT`. If a string, then `translateFormat` will be used as the format\n * string to determine the output; see the `formatTime` function for details.\n *\n * @returns {undefined|string} If a timestamp property cannot be found then\n * `undefined` is returned. Otherwise, the prettified time is returned as a\n * string.\n */\nfunction prettifyTime ({ log, timestampKey = TIMESTAMP_KEY, translateFormat = undefined }) {\n  let time = null\n\n  if (timestampKey in log) {\n    time = log[timestampKey]\n  } else if ('timestamp' in log) {\n    time = log.timestamp\n  }\n\n  if (time === null) return undefined\n  if (translateFormat) {\n    return '[' + formatTime(time, translateFormat) + ']'\n  }\n\n  return `[${time}]`\n}\n","/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\n(function(global) {\n  'use strict';\n\n  var dateFormat = (function() {\n      var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|\"[^\"]*\"|'[^']*'/g;\n      var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n      var timezoneClip = /[^-+\\dA-Z]/g;\n  \n      // Regexes and supporting functions are cached through closure\n      return function (date, mask, utc, gmt) {\n  \n        // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\n        if (arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\n          mask = date;\n          date = undefined;\n        }\n  \n        date = date || new Date;\n  \n        if(!(date instanceof Date)) {\n          date = new Date(date);\n        }\n  \n        if (isNaN(date)) {\n          throw TypeError('Invalid date');\n        }\n  \n        mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\n  \n        // Allow setting the utc/gmt argument via the mask\n        var maskSlice = mask.slice(0, 4);\n        if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\n          mask = mask.slice(4);\n          utc = true;\n          if (maskSlice === 'GMT:') {\n            gmt = true;\n          }\n        }\n  \n        var _ = utc ? 'getUTC' : 'get';\n        var d = date[_ + 'Date']();\n        var D = date[_ + 'Day']();\n        var m = date[_ + 'Month']();\n        var y = date[_ + 'FullYear']();\n        var H = date[_ + 'Hours']();\n        var M = date[_ + 'Minutes']();\n        var s = date[_ + 'Seconds']();\n        var L = date[_ + 'Milliseconds']();\n        var o = utc ? 0 : date.getTimezoneOffset();\n        var W = getWeek(date);\n        var N = getDayOfWeek(date);\n        var flags = {\n          d:    d,\n          dd:   pad(d),\n          ddd:  dateFormat.i18n.dayNames[D],\n          dddd: dateFormat.i18n.dayNames[D + 7],\n          m:    m + 1,\n          mm:   pad(m + 1),\n          mmm:  dateFormat.i18n.monthNames[m],\n          mmmm: dateFormat.i18n.monthNames[m + 12],\n          yy:   String(y).slice(2),\n          yyyy: y,\n          h:    H % 12 || 12,\n          hh:   pad(H % 12 || 12),\n          H:    H,\n          HH:   pad(H),\n          M:    M,\n          MM:   pad(M),\n          s:    s,\n          ss:   pad(s),\n          l:    pad(L, 3),\n          L:    pad(Math.round(L / 10)),\n          t:    H < 12 ? dateFormat.i18n.timeNames[0] : dateFormat.i18n.timeNames[1],\n          tt:   H < 12 ? dateFormat.i18n.timeNames[2] : dateFormat.i18n.timeNames[3],\n          T:    H < 12 ? dateFormat.i18n.timeNames[4] : dateFormat.i18n.timeNames[5],\n          TT:   H < 12 ? dateFormat.i18n.timeNames[6] : dateFormat.i18n.timeNames[7],\n          Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n          o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n          S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\n          W:    W,\n          N:    N\n        };\n  \n        return mask.replace(token, function (match) {\n          if (match in flags) {\n            return flags[match];\n          }\n          return match.slice(1, match.length - 1);\n        });\n      };\n    })();\n\n  dateFormat.masks = {\n    'default':               'ddd mmm dd yyyy HH:MM:ss',\n    'shortDate':             'm/d/yy',\n    'mediumDate':            'mmm d, yyyy',\n    'longDate':              'mmmm d, yyyy',\n    'fullDate':              'dddd, mmmm d, yyyy',\n    'shortTime':             'h:MM TT',\n    'mediumTime':            'h:MM:ss TT',\n    'longTime':              'h:MM:ss TT Z',\n    'isoDate':               'yyyy-mm-dd',\n    'isoTime':               'HH:MM:ss',\n    'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\n    'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\n    'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\n  };\n\n  // Internationalization strings\n  dateFormat.i18n = {\n    dayNames: [\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n    ],\n    monthNames: [\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n    ],\n    timeNames: [\n      'a', 'p', 'am', 'pm', 'A', 'P', 'AM', 'PM'\n    ]\n  };\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\n/**\n * Get the ISO 8601 week number\n * Based on comments from\n * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\n *\n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getWeek(date) {\n  // Remove time components of date\n  var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n  // Change date to Thursday same week\n  targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\n\n  // Take January 4th as it is always in week 1 (see ISO 8601)\n  var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\n\n  // Change date to Thursday same week\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\n\n  // Check if daylight-saving-time-switch occurred and correct for it\n  var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\n  targetThursday.setHours(targetThursday.getHours() - ds);\n\n  // Number of weeks between target Thursday and first Thursday\n  var weekDiff = (targetThursday - firstThursday) / (86400000*7);\n  return 1 + Math.floor(weekDiff);\n}\n\n/**\n * Get ISO-8601 numeric representation of the day of the week\n * 1 (for Monday) through 7 (for Sunday)\n * \n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getDayOfWeek(date) {\n  var dow = date.getDay();\n  if(dow === 0) {\n    dow = 7;\n  }\n  return dow;\n}\n\n/**\n * kind-of shortcut\n * @param  {*} val\n * @return {String}\n */\nfunction kindOf(val) {\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof val !== 'object') {\n    return typeof val;\n  }\n\n  if (Array.isArray(val)) {\n    return 'array';\n  }\n\n  return {}.toString.call(val)\n    .slice(8, -1).toLowerCase();\n};\n\n\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return dateFormat;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = dateFormat;\n  } else {\n    global.dateFormat = dateFormat;\n  }\n})(this);\n","'use strict';\n\n\nconst internals = {\n    suspectRx: /\"(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])(?:p|\\\\u0070)(?:r|\\\\u0072)(?:o|\\\\u006[Ff])(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])\"\\s*\\:/\n};\n\n\nexports.parse = function (text, ...args) {\n\n    // Normalize arguments\n\n    const firstOptions = typeof args[0] === 'object' && args[0];\n    const reviver = args.length > 1 || !firstOptions ? args[0] : undefined;\n    const options = (args.length > 1 && args[1]) || firstOptions || {};\n\n    // Parse normally, allowing exceptions\n\n    const obj = JSON.parse(text, reviver);\n\n    // options.protoAction: 'error' (default) / 'remove' / 'ignore'\n\n    if (options.protoAction === 'ignore') {\n        return obj;\n    }\n\n    // Ignore null and non-objects\n\n    if (!obj ||\n        typeof obj !== 'object') {\n\n        return obj;\n    }\n\n    // Check original string for potential exploit\n\n    if (!text.match(internals.suspectRx)) {\n        return obj;\n    }\n\n    // Scan result for proto keys\n\n    exports.scan(obj, options);\n\n    return obj;\n};\n\n\nexports.scan = function (obj, options = {}) {\n\n    let next = [obj];\n\n    while (next.length) {\n        const nodes = next;\n        next = [];\n\n        for (const node of nodes) {\n            if (Object.prototype.hasOwnProperty.call(node, '__proto__')) {      // Avoid calling node.hasOwnProperty directly\n                if (options.protoAction !== 'remove') {\n                    throw new SyntaxError('Object contains forbidden prototype property');\n                }\n\n                delete node.__proto__;\n            }\n\n            for (const key in node) {\n                const value = node[key];\n                if (value &&\n                    typeof value === 'object') {\n\n                    next.push(node[key]);\n                }\n            }\n        }\n    }\n};\n\n\nexports.safeParse = function (text, reviver) {\n\n    try {\n        return exports.parse(text, reviver);\n    }\n    catch (ignoreError) {\n        return null;\n    }\n};\n","'use strict'\n\nconst { version } = require('../package.json')\n\nmodule.exports = { version }\n","{\n  \"name\": \"pino\",\n  \"version\": \"6.5.0\",\n  \"description\": \"super fast, all natural json logger\",\n  \"main\": \"pino.js\",\n  \"browser\": \"./browser.js\",\n  \"files\": [\n    \"pino.js\",\n    \"bin.js\",\n    \"browser.js\",\n    \"pretty.js\",\n    \"usage.txt\",\n    \"test\",\n    \"docs\",\n    \"example.js\",\n    \"lib\"\n  ],\n  \"scripts\": {\n    \"docs\": \"docsify serve\",\n    \"browser-test\": \"airtap --local 8080 test/browser*test.js\",\n    \"test\": \"standard | snazzy && tap --100 test/*test.js\",\n    \"cov-ui\": \"tap --coverage-report=html test/*test.js\",\n    \"bench\": \"node benchmarks/utils/runbench all\",\n    \"bench-basic\": \"node benchmarks/utils/runbench basic\",\n    \"bench-object\": \"node benchmarks/utils/runbench object\",\n    \"bench-deep-object\": \"node benchmarks/utils/runbench deep-object\",\n    \"bench-multi-arg\": \"node benchmarks/utils/runbench multi-arg\",\n    \"bench-longs-tring\": \"node benchmarks/utils/runbench long-string\",\n    \"bench-child\": \"node benchmarks/utils/runbench child\",\n    \"bench-child-child\": \"node benchmarks/utils/runbench child-child\",\n    \"bench-child-creation\": \"node benchmarks/utils/runbench child-creation\",\n    \"bench-formatters\": \"node benchmarks/utils/runbench formatters\",\n    \"update-bench-doc\": \"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md\"\n  },\n  \"bin\": {\n    \"pino\": \"./bin.js\"\n  },\n  \"precommit\": \"test\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/pinojs/pino.git\"\n  },\n  \"keywords\": [\n    \"fast\",\n    \"logger\",\n    \"stream\",\n    \"json\"\n  ],\n  \"author\": \"Matteo Collina <hello@matteocollina.com>\",\n  \"contributors\": [\n    \"David Mark Clements <huperekchuno@googlemail.com>\",\n    \"James Sumners <james.sumners@gmail.com>\",\n    \"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)\"\n  ],\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"url\": \"https://github.com/pinojs/pino/issues\"\n  },\n  \"homepage\": \"http://getpino.io\",\n  \"devDependencies\": {\n    \"airtap\": \"2.0.2\",\n    \"benchmark\": \"^2.1.4\",\n    \"bole\": \"^3.0.2\",\n    \"bunyan\": \"^1.8.12\",\n    \"docsify-cli\": \"^4.4.0\",\n    \"execa\": \"^1.0.0\",\n    \"fastbench\": \"^1.0.1\",\n    \"flush-write-stream\": \"^2.0.0\",\n    \"import-fresh\": \"^3.2.1\",\n    \"log\": \"^5.0.0\",\n    \"loglevel\": \"^1.6.7\",\n    \"pino-pretty\": \"^4.0.0\",\n    \"pre-commit\": \"^1.2.2\",\n    \"proxyquire\": \"^2.1.3\",\n    \"pump\": \"^3.0.0\",\n    \"semver\": \"^6.3.0\",\n    \"snazzy\": \"^8.0.0\",\n    \"split2\": \"^3.1.1\",\n    \"standard\": \"^14.3.3\",\n    \"steed\": \"^1.1.3\",\n    \"strip-ansi\": \"^6.0.0\",\n    \"tap\": \"^14.10.7\",\n    \"tape\": \"^4.13.2\",\n    \"through2\": \"^3.0.1\",\n    \"winston\": \"^3.2.1\"\n  },\n  \"dependencies\": {\n    \"fast-redact\": \"^2.0.0\",\n    \"fast-safe-stringify\": \"^2.0.7\",\n    \"flatstr\": \"^1.0.12\",\n    \"pino-std-serializers\": \"^2.4.2\",\n    \"quick-format-unescaped\": \"^4.0.1\",\n    \"sonic-boom\": \"^1.0.0\"\n  }\n}\n",null,null],"names":["PGDriverPlugin","register","server","DRIVER_ALIASES","forEach","value","getContext","drivers","set","PostgreSQL","rawValue","v","types","setTypeParser","builtins","TIMESTAMP","TIMESTAMPTZ","DATE","AbstractDriver","Queries","query","opt","messages","cli","requestId","open","then","pool","connect","on","notice","push","prepareMessage","name","toUpperCase","message","results","text","toString","rowMode","release","queries","Array","isArray","map","r","i","cols","getColumnNames","fields","resultId","connId","getId","concat","command","toLowerCase","rowCount","mapRows","rows","catch","err","routine","position","undefined","filter","Boolean","join","error","rawError","completionsCache","items","queryResults","item","label","detail","filterText","sortText","includes","documentation","desc","kind","connection","pgOptions","credentials","poolConfig","connectionTimeoutMillis","Number","connectionTimeout","connectString","connectionString","database","host","password","port","user","username","ssl","key","log","info","replace","fs","readFileSync","Pool","Promise","resolve","reject","close","end","reduce","names","count","n","length","columns","getColumns","parent","fetchColumns","col","iconName","isPk","isFk","childType","ContextValue","NO_CHILD","table","testConnection","getChildrenForItem","type","CONNECTION","CONNECTED_CONNECTION","fetchDatabases","TABLE","VIEW","MATERIALIZED_VIEW","DATABASE","RESOURCE_GROUP","iconId","SCHEMA","getChildrenForGroup","FUNCTION","fetchSchemas","fetchTables","fetchViews","fetchMaterializedViews","fetchFunctions","searchItems","itemType","search","extraParams","searchTables","COLUMN","searchColumns","Client","require","defaults","Connection","poolFactory","BoundPool","constructor","options","PG","clientConstructor","Query","_pools","process","env","NODE_PG_FORCE_NATIVE","module","exports","Object","defineProperty","configurable","enumerable","get","native","code","console","EventEmitter","util","utils","sasl","pgPass","TypeOverrides","ConnectionParameters","config","call","connectionParameters","writable","replication","c","_Promise","global","_types","_ending","_connecting","_connected","_connectionError","_queryable","stream","keepAlive","keepAliveInitialDelayMillis","encoding","client_encoding","queryQueue","binary","processID","secretKey","_connectionTimeoutMillis","inherits","prototype","_errorAllQueries","enqueueError","nextTick","handleError","activeQuery","_connect","callback","self","con","Error","connectionTimeoutHandle","setTimeout","destroy","indexOf","requestSsl","startup","getStartupConf","checkPgPass","cb","msg","pass","emit","TypeError","postgresMd5PasswordHash","salt","saslSession","startSession","mechanisms","sendSASLInitialResponseMessage","mechanism","response","continueSession","data","sendSCRAMClientFinalMessage","finalizeSession","once","connectingErrorHandler","clearTimeout","connectedErrorHandler","connectedErrorMessageHandler","_attachListeners","removeListener","readyForQuery","handleReadyForQuery","_pulseQueryQueue","handleRowDescription","handleDataRow","handlePortalSuspended","handleEmptyQuery","handleCommandComplete","parsedStatements","handleCopyInResponse","handleCopyData","params","appName","application_name","fallback_application_name","statement_timeout","String","parseInt","idle_in_transaction_session_timeout","cancel","client","splice","oid","format","parseFn","getTypeParser","escapeIdentifier","str","escapeLiteral","hasBackslash","escaped","shift","hasExecuted","queryError","submit","values","result","readTimeout","readTimeoutTimer","queryCallback","query_timeout","res","index","_result","crypto","escapeElement","elementRepresentation","arrayString","val","Buffer","prepareValue","seen","ArrayBuffer","isView","buf","from","buffer","byteOffset","byteLength","slice","Date","parseInputDatesAsUTC","dateToStringUTC","dateToString","prepareObject","toPostgres","JSON","stringify","pad","number","digits","date","offset","getTimezoneOffset","year","getFullYear","isBCYear","Math","abs","ret","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","floor","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","normalizeQueryConfig","md5","string","createHash","update","digest","inner","outer","prepareValueWrapper","platform","USERNAME","USER","max","idleTimeoutMillis","connect_timeout","keepalives","keepalives_idle","pgTypes","parseBigInteger","parseBigIntegerArray","__defineSetter__","textParsers","binaryParsers","arrayParser","builtinTypes","typeParsers","noParse","init","converter","array","parseDate","parseInterval","parseByteA","allowNull","fn","nullAllowed","parseBool","parseBoolArray","parse","parseBaseTenInt","parseIntegerArray","entry","trim","parsePointArray","p","create","parsePoint","parseFloatArray","parseFloat","parseStringArray","parseDateArray","parseIntervalArray","parseByteAArray","parseInteger","valStr","test","parseJsonArray","substring","split","x","y","parseCircle","point","radius","pointParsed","bind","source","transform","ArrayParser","identity","entries","recorded","dimension","isEof","nextCharacter","character","record","newEntry","includeEmpty","consumeDimensions","char","nested","parser","quote","substr","DATE_TIME","TIME_ZONE","INFINITY","isoDate","matches","exec","isBC","bcYearToNegativeYear","month","day","hour","minute","second","ms","round","timeZoneOffset","UTC","is0To99","setUTCFullYear","setTime","getTime","setFullYear","zone","sign","num","extend","PostgresInterval","raw","properties","filtered","hasOwnProperty","milliseconds","property","toFixed","propertiesISOEquivalent","years","months","days","hours","minutes","seconds","dateProperties","timeProperties","toISOString","toISO","datePart","buildProperty","timePart","NUMBER","YEAR","MONTH","DAY","TIME","INTERVAL","RegExp","regexString","positions","negatives","parseMilliseconds","fraction","microseconds","interval","isNegative","keys","parsed","target","arguments","parseBytea","input","output","fromCharCode","backslashes","k","parseInt64","parseBits","bits","invert","lastValue","newValue","pow","offsetBytes","inv","mask","firstBits","bytes","lastBits","parseFloatFromBits","precisionBits","exponentBits","bias","exponent","precisionBitsCounter","parsePrecisionBits","mantissa","Infinity","NaN","parseInt16","parseInt32","parseFloat32","parseFloat64","parseNumeric","weight","ndigits","scale","isUTC","usec","getMicroSeconds","setMicroSeconds","getUTCMicroSeconds","parseArray","dim","flags","elementType","dims","parseElement","unshift","parseText","BASE","readInt8","high","readInt32BE","low","readUInt32BE","carry","t","l","BOOL","BYTEA","CHAR","INT8","INT2","INT4","REGPROC","TEXT","OID","TID","XID","CID","XML","PG_NODE_TREE","SMGR","PATH","POLYGON","CIDR","FLOAT4","FLOAT8","ABSTIME","RELTIME","TINTERVAL","CIRCLE","MACADDR8","MONEY","MACADDR","INET","ACLITEM","BPCHAR","VARCHAR","TIMETZ","BIT","VARBIT","NUMERIC","REFCURSOR","REGPROCEDURE","REGOPER","REGOPERATOR","REGCLASS","REGTYPE","UUID","TXID_SNAPSHOT","PG_LSN","PG_NDISTINCT","PG_DEPENDENCIES","TSVECTOR","TSQUERY","GTSVECTOR","REGCONFIG","REGDICTIONARY","JSONB","REGNAMESPACE","REGROLE","clientNonce","randomBytes","session","serverData","sv","extractVariablesFromFirstServerMessage","nonce","startsWith","saltBytes","saltedPassword","Hi","iteration","clientKey","createHMAC","storedKey","clientFirstMessageBare","serverFirstMessage","clientFinalMessageWithoutProof","authMessage","clientSignature","clientProofBytes","xorBuffers","clientProof","serverKey","serverSignatureBytes","serverSignature","part","a","b","isBuffer","j","createHmac","iterations","ui1","ui","through","Decoder","StringDecoder","matcher","mapper","decoder","soFar","maxLength","trailing","piece","queue","next","pieces","pop","write","userTypes","getOverrides","dns","envVar","readSSLConfigFromEnvironment","PGSSLMODE","rejectUnauthorized","assign","isDomainSocket","PGCONNECT_TIMEOUT","quoteParamValue","add","paramName","getLibpqConnectionString","sslmode","lookup","address","Result","portal","_rowMode","domain","_results","isPreparedStatement","_canceledDueToError","_promise","requiresPreparation","_checkForMultirow","addFields","_accumulateRows","listeners","row","parseRow","addRow","addCommandComplete","sync","previous","prepare","hasBeenParsed","_getRows","execute","flush","statement","describe","sendCopyFail","_parsers","RowCtor","rowAsArray","_parseRowAsArray","matchRegexp","match","rowData","len","field","fieldDescriptions","dataTypeID","net","serialize","Socket","_keepAlive","_keepAliveInitialDelayMillis","lastBuffer","_emitMessage","eventName","setNoDelay","setKeepAlive","reportStreamError","attachListeners","responseCode","tls","socket","isIP","servername","_send","initialResponse","additionalData","flushBuffer","syncBuffer","endBuffer","sendCopyFromChunk","chunk","copyData","endCopyFrom","copyDone","copyFail","Native","semver","pkg","assert","minNativeVersion","gte","version","NativeQuery","_queryQueue","cp","namedQueries","_hasActiveQuery","_activeQuery","conString","channel","relname","payload","extra","resolveOut","rejectOut","state","initialConnection","_arrayMode","_emitRowEvents","event","errorFieldMap","sqlState","statementPosition","messagePrimary","context","schemaName","tableName","columnName","dataTypeName","constraintName","sourceFile","sourceLine","sourceFunction","pq","resultErrorFields","normalizedFieldName","onSuccess","onFailure","_getPromise","_once","arrayMode","after","setImmediate","rowOfRows","vals","describeTable","schema","fetchRecords","limit","countRecords","fetchTablesAndViews","tableType","tables","pgCheckEscape","w","escapeTableName","tableObj","driver","cleanUp","formatInsertQuery","insertQuery","formatOptions","_","pos","colName","extractConnName","getQueryParameters","regexStr","regex","paramsMap","queryPart","lastIndex","min","param","dollarRegex","fixParameters","originalQuery","matchEscaped","reservedWordCase","insertSpaces","tabSize","opts","formatter","indent","repeat","cfg","language","Db2Formatter","N1qlFormatter","PlSqlFormatter","StandardSqlFormatter","tokenize","AbstractFormatter","getTokenizerConfig","reservedWords","reservedTopLevelWords","reservedNewlineWords","reservedTopLevelWordsNoIndent","stringTypes","openParens","closeParens","indexedPlaceholderTypes","namedPlaceholderTypes","lineCommentTypes","specialWordChars","Formatter","tokenizer","tokenOverride","Tokenizer","WHITESPACE_REGEX","NUMBER_REGEX","AMBIGUOS_OPERATOR_REGEX","OPERATOR_REGEX","NO_SPACE_OPERATOR_REGEX","BLOCK_COMMENT_REGEX","LINE_COMMENT_REGEX","createLineCommentRegex","RESERVED_TOP_LEVEL_REGEX","createReservedWordRegex","RESERVED_TOP_LEVEL_NO_INDENT_REGEX","RESERVED_NEWLINE_REGEX","RESERVED_PLAIN_REGEX","WORD_REGEX","createWordRegex","STRING_REGEX","createStringRegex","OPEN_PAREN_REGEX","createParenRegex","CLOSE_PAREN_REGEX","INDEXED_PLACEHOLDER_REGEX","createPlaceholderRegex","IDENT_NAMED_PLACEHOLDER_REGEX","STRING_NAMED_PLACEHOLDER_REGEX","createStringPattern","reservedWordsPattern","specialChars","patterns","parens","escapeParen","paren","pattern","typesRegex","escapeRegExp","tokens","token","getNextToken","previousToken","getWhitespaceToken","getCommentToken","getStringToken","getOpenParenToken","getCloseParenToken","getAmbiguosOperatorToken","getNoSpaceOperatorToken","getServerVariableToken","getPlaceholderToken","getNumberToken","getReservedWordToken","getWordToken","getOperatorToken","getTokenOnFirstMatch","TokenTypes","WHITESPACE","getLineCommentToken","getBlockCommentToken","LINE_COMMENT","BLOCK_COMMENT","STRING","OPEN_PAREN","CLOSE_PAREN","getIdentNamedPlaceholderToken","getStringNamedPlaceholderToken","getIndexedPlaceholderToken","SERVERVARIABLE","getPlaceholderTokenWithKey","parseKey","getEscapedPlaceholderKey","quoteChar","PLACEHOLDER","OPERATOR","NO_SPACE_OPERATOR","getToplevelReservedToken","getNewlineReservedToken","getTopLevelReservedTokenNoIndent","getPlainReservedToken","RESERVED_TOP_LEVEL","RESERVED_NEWLINE","RESERVED","RESERVED_TOP_LEVEL_NO_INDENT","WORD","reRegExpChar","reHasRegExpChar","trimSpacesEnd","indentation","Indentation","inlineBlock","InlineBlock","Params","formattedQuery","getFormattedQueryFromTokens","previousReservedWord","formatWhitespace","formatLineComment","formatBlockComment","formatReserved","formatOpeningParentheses","formatClosingParentheses","formatWithoutSpaces","formatPlaceholder","formatComma","formatWithSpaceAfter","formatQuerySeparator","formatWithSpaces","previousNonWhiteSpace","linesBetweenQueries","formatTopLevelReservedWord","formatTopLevelReservedWordNoIndent","formatNewlineReservedWord","addNewline","indentComment","comment","getIndent","decreaseTopLevel","equalizeWhitespace","formatReservedWord","shouldChangeTopLevel","increaseTopLevel","formatCase","previousTokenType","beginIfPossible","isActive","increaseBlockLevel","decreaseBlockLevel","resetIndentation","lines","endsWith","INDENT_TYPE_TOP_LEVEL","INDENT_TYPE_BLOCK_LEVEL","indentTypes","fill","last","arr","INLINE_MAX_LENGTH","level","isInlineBlock","isForbiddenToken","previousReservedToken","QueryParser","delimiter","flag","restOfQuery","statementAndRest","getStatements","charArray","previousChar","nextChar","isInComment","commentChar","isInString","stringChar","isInTag","tagChar","resultQueries","delimiterResult","getDelimiter","delimiterSymbol","delimiterEndIndex","queryUntilTagSymbol","tagSymbolResult","getTag","tagSymbol","splittingIndex","getQueryParts","numChars","delimiterKeyword","delimiterLength","parsedQueryAfterIndexOriginal","indexOfDelimiterKeyword","parsedQueryAfterIndex","indexOfNewLine","clearTextUntilComment","delimiterSymbolEndIndex","matchTag","indexOfCmd","isGoDelimiter","clearedText","generateId","_v","default","_v2","_v3","_v4","_interopRequireDefault","obj","__esModule","_rng","_bytesToUuid","_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","node","clockseq","seedBytes","random","rng","msecs","now","nsecs","dt","tl","tmh","_default","_crypto","rnds8","Uint8Array","randomFillSync","byteToHex","bytesToUuid","offset_","_md","v3","URL","DNS","uuidToBytes","uuid","hex","stringToBytes","unescape","encodeURIComponent","charCodeAt","hashfunc","generateUUID","namespace","v4","rnds","_sha","v5","sha1","__export","m","Is","messages_1","RequestType","RequestType0","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","ResponseError","ErrorCodes","NotificationType","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","messageReader_1","MessageReader","StreamMessageReader","IPCMessageReader","SocketMessageReader","messageWriter_1","MessageWriter","StreamMessageWriter","IPCMessageWriter","SocketMessageWriter","events_1","Disposable","Event","Emitter","cancellation_1","CancellationTokenSource","CancellationToken","linkedMap_1","CancelNotification","ProgressNotification","ProgressType","NullLogger","freeze","warn","Trace","fromString","Off","Messages","Verbose","TraceFormat","Text","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionError","setPrototypeOf","ConnectionStrategy","is","candidate","func","cancelUndispatched","ConnectionState","_createMessageConnection","messageReader","messageWriter","logger","strategy","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","Map","timer","messageQueue","LinkedMap","responsePromises","requestTokens","trace","traceFormat","tracer","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","id","createResponseQueueKey","createNotificationQueueKey","addMessageToQueue","isRequestMessage","isResponseMessage","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","fire","readErrorHandler","writeErrorHandler","onClose","onError","triggerMessageQueue","size","processMessageQueue","handleRequest","isNotificationMessage","handleNotification","handleResponse","handleInvalidMessage","method","toCancel","delete","traceSendingResponse","requestMessage","reply","resultOrError","startTime","jsonrpc","toJson","replyError","replySuccess","traceReceivedRequest","element","requestHandler","handler","cancellationSource","tokenKey","handlerResult","numberOfParams","promise","InternalError","MethodNotFound","responseMessage","responsePromise","traceReceivedResponse","notificationHandler","traceReceivedNotification","responseHandler","traceSendingRequest","logLSPMessage","traceSendingNotification","timerStart","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","throwIfListening","AlreadyListening","throwIfNotListening","undefinedToNull","computeMessageParams","sendNotification","messageParams","notificationMessage","onNotification","onProgress","_type","has","dispose","sendProgress","onUnhandledProgress","sendRequest","e","MessageWriteError","onCancellationRequested","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","boolean","onUnhandledNotification","onDispose","listen","inspect","verbose","isMessageReader","read","isMessageWriter","createMessageConnection","reader","writer","stringArray","every","elem","ParseError","InvalidRequest","InvalidParams","serverErrorStart","serverErrorEnd","ServerNotInitialized","UnknownErrorCode","RequestCancelled","ContentModified","MessageReadError","AbstractMessageType","_method","_numberOfParams","DefaultSize","CR","LF","CRLF","MessageBuffer","allocUnsafe","append","toAppend","bufferLen","copy","newSize","ceil","tryReadHeaders","current","headers","header","nextStart","tryReadContent","numberOfBytes","onPartialMessage","AbstractMessageReader","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","readable","_partialMessageTimeout","partialMessageTimeout","timeout","nextMessageLength","messageToken","partialMessageTimer","onData","contentLength","isNaN","setPartialMessageTimer","clearPartialMessageTimer","json","waitingTime","eventEmitter","_disposable","None","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","invoke","args","callbacks","contexts","apply","isEmpty","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","ContentLength","AbstractMessageWriter","errorCount","sending","doWriteMessage","send","isCancellationRequested","Cancelled","shortcutEvent","handle","MutableToken","_isCancelled","_emitter","_token","Touch","First","Last","_map","_head","_tail","_size","clear","touch","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","forEachReverse","path_1","os_1","crypto_1","net_1","generateRandomPipeName","randomSuffix","tmpdir","createClientPipeTransport","pipeName","connectResolve","connected","_reject","createServer","onConnected","createServerPipeTransport","createConnection","createClientSocketTransport","createServerSocketTransport","path","os","homedir","macos","library","cache","temp","windows","appData","APPDATA","localAppData","LOCALAPPDATA","linux","basename","XDG_DATA_HOME","XDG_CONFIG_HOME","XDG_CACHE_HOME","XDG_STATE_HOME","envPaths","suffix","promisify","useNativeRecursiveOption","satisfies","checkPath","pth","pathHasInvalidWinCharacters","root","processOptions","mode","permissionError","errno","syscall","makeDir","mkdir","stat","recursive","make","dirname","stats","isDirectory","mkdirSync","statSync","validator","redactor","restorer","groupRedact","nestedRedact","rx","validate","noop","o","restore","DEFAULT_CENSOR","fastRedact","paths","Set","censor","isCensorFct","wildcards","wcLen","secret","compileRestore","strict","createContext","runInContext","ERR_PATHS_MUST_BE_STRINGS","ERR_INVALID_PATH","s","proxy","Proxy","expr","〇","codeGeneration","strings","wasm","strPath","ix","leadingBracket","star","before","beforeStr","precensored","circle","escPath","redact","Function","strictImpl","redactTmpl","dynamicRedactTmpl","resultTmpl","skip","delim","hops","existence","circularDetection","reverse","hasWildcards","groupRestore","nestedRestore","resetters","resetTmpl","restoreTmpl","reset","dynamicReset","flat","store","ns","exists","specialSet","prop","f","li","nv","ov","oov","builder","SharedArrayBuffer","Atomics","nil","Int32Array","sleep","valid","RangeError","wait","ansiStyles","stdout","stdoutColor","stderr","stderrColor","stringReplaceAll","stringEncaseCRLFWithFirstIndex","levelMapping","styles","applyOptions","object","isInteger","colorLevel","ChalkClass","chalkFactory","chalk","template","arguments_","chalkTag","Chalk","Instance","styleName","style","createBuilder","createStyler","_styler","_isEmpty","visible","usedModels","model","styler","color","bgModel","bgColor","proto","defineProperties","_generator","openAll","closeAll","applyStyle","lfIndex","firstString","parts","supportsColor","wrapAnsi16","wrapAnsi256","wrapAnsi16m","rgb","ansi2ansi","rgb2rgb","g","setLazyProperty","colorConvert","makeDynamicStyles","wrap","targetSpace","isBackground","sourceSpace","suite","assembleStyles","codes","modifier","bold","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","blackBright","redBright","greenBright","yellowBright","blueBright","magentaBright","cyanBright","whiteBright","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgBlackBright","bgRedBright","bgGreenBright","bgYellowBright","bgBlueBright","bgMagentaBright","bgCyanBright","bgWhiteBright","gray","bgGray","grey","bgGrey","groupName","group","conversions","route","convert","models","wrapRaw","wrappedFn","arg0","conversion","wrapRounded","fromModel","channels","labels","routes","routeModels","toModel","cssKeywords","reverseKeywords","hsl","hsv","hwb","cmyk","xyz","lab","lch","keyword","ansi16","ansi256","hcg","apple","delta","h","rdif","gdif","bdif","diff","diffc","comparativeDistance","reversed","currentClosestDistance","currentClosestKeyword","distance","z","t2","t3","t1","smin","lmin","hi","q","vmin","sl","wh","bl","ratio","y2","x2","z2","hr","atan2","PI","sqrt","cos","sin","saturation","ansi","mult","rem","integer","colorString","chroma","grayscale","hue","pure","mg","buildGraph","graph","deriveBFS","adjacents","adjacent","link","to","wrapConversion","cur","tty","hasFlag","forceColor","FORCE_COLOR","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","some","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","getSupportLevel","isTTY","isatty","argv","prefix","terminatorPosition","replacer","substringLength","endIndex","returnValue","postfix","gotCR","TEMPLATE_REGEX","STYLE_REGEX","ESCAPE_REGEX","ESCAPES","u","bracket","fromCodePoint","parseArguments","chunks","escape","parseStyle","buildStyle","enabled","layer","temporary","escapeCharacter","errMessage","isObject","strictDeepEqual","first","firstType","keysSeen","key2","isFalse","objValues","merge","merged","trimLeft","TYPE_NUMBER","TYPE_ANY","TYPE_STRING","TYPE_ARRAY","TYPE_OBJECT","TYPE_BOOLEAN","TYPE_EXPREF","TYPE_NULL","TYPE_ARRAY_NUMBER","TYPE_ARRAY_STRING","TOK_EOF","TOK_UNQUOTEDIDENTIFIER","TOK_QUOTEDIDENTIFIER","TOK_RBRACKET","TOK_RPAREN","TOK_COMMA","TOK_COLON","TOK_RBRACE","TOK_NUMBER","TOK_CURRENT","TOK_EXPREF","TOK_PIPE","TOK_OR","TOK_AND","TOK_EQ","TOK_GT","TOK_LT","TOK_GTE","TOK_LTE","TOK_NE","TOK_FLATTEN","TOK_STAR","TOK_FILTER","TOK_DOT","TOK_NOT","TOK_LBRACE","TOK_LBRACKET","TOK_LPAREN","TOK_LITERAL","basicTokens","operatorStartToken","skipChars","isAlpha","ch","isNum","isAlphaNum","Lexer","_current","start","identifier","_consumeUnquotedIdentifier","_consumeNumber","_consumeLBracket","_consumeQuotedIdentifier","_consumeRawStringLiteral","literal","_consumeLiteral","_consumeOperator","startingChar","literalString","_looksLikeJSON","startingChars","jsonLiterals","numberLooking","ex","bindingPower","Parser","expression","_loadTokens","ast","_lookahead","_lookaheadToken","lexer","rbp","leftToken","_advance","left","nud","currentToken","led","right","Not","children","_parseProjectionRHS","Star","_parseMultiselectHash","Flatten","_parseIndexExpression","_projectIfSlice","_parseMultiselectList","Expref","_match","_errorToken","tokenName","Dot","_parseDotRHS","Pipe","Or","And","condition","Filter","leftNode","rightNode","_parseComparator","tokenType","_parseSliceExpression","indexExpr","comparator","lookahead","exprTokens","expressions","pairs","identifierTypes","keyToken","keyName","TreeInterpreter","runtime","visit","matched","collected","sliceParams","computed","computeSliceParams","stop","step","base","finalResults","original","child","resolvedArgs","callFunction","refNode","jmespathType","arrayLength","stepValueNegative","capSliceRange","actualValue","Runtime","interpreter","_interpreter","functionTable","_func","_functionAbs","_signature","avg","_functionAvg","_functionCeil","contains","_functionContains","_functionEndsWith","_functionFloor","_functionLength","_functionMap","_functionMax","_functionMerge","variadic","_functionMaxBy","sum","_functionSum","_functionStartsWith","_functionMin","_functionMinBy","_functionType","_functionKeys","_functionValues","sort","_functionSort","_functionSortBy","_functionJoin","_functionReverse","_functionToArray","_functionToString","_functionToNumber","_functionNotNull","functionEntry","_validateArgs","signature","pluralized","currentSpec","actualType","typeMatched","_getTypeName","_typeMatches","actual","expected","argValue","subtype","lastIndexOf","searchStr","typeName","originalStr","reversedStr","reversedArray","inputArray","mapped","exprefNode","elements","maxElement","localeCompare","minElement","listToSum","joinChar","listJoin","convertedValue","sortedArray","requiredType","that","decorated","exprA","exprB","resolvedArray","keyFunction","createKeyFunction","maxNumber","maxRecord","minNumber","minRecord","allowedTypes","keyFunc","compile","jmespath","dateFormat","timezone","timezoneClip","utc","gmt","kindOf","masks","maskSlice","d","D","H","M","L","W","getWeek","N","getDayOfWeek","dd","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","hh","HH","MM","ss","timeNames","tt","T","TT","Z","S","targetThursday","setDate","getDay","firstThursday","ds","setHours","weekDiff","dow","define","amd","displayName"],"version":3,"file":"plugin.js.map","sourceRoot":"../../"}