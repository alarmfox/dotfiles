var e=require("vscode"),t=require("tty"),r=require("vm"),n=require("child_process"),i=require("os"),s=require("tls"),o=require("assert"),a=require("net"),c=require("dns"),u=require("url"),l=require("fs"),h=l,f=E(l),d=require("path"),p=require("string_decoder"),m=require("stream"),g=require("crypto"),y=g,v=E(g),_=require("util"),b=require("events");function E(e){return e&&e.__esModule?e.default:e}var w,T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},R=b.EventEmitter,S=_,C={};C={host:"localhost",user:"win32"===process.platform?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var O,k=function(e,t){return new N(e,t).parse()};class N{constructor(e,t){this.source=e,this.transform=t||A,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&("NULL"!==(t=this.recorded.join(""))||e||(t=null),null!==t&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof();){if("="===this.nextCharacter().value)break}}parse(e){var t,r,n;for(this.consumeDimensions();!this.isEof();)if("{"!==(t=this.nextCharacter()).value||n){if("}"!==t.value||n)'"'!==t.value||t.escaped?","!==t.value||n?this.record(t.value):this.newEntry():(n&&this.newEntry(!0),n=!n);else if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else this.dimension++,this.dimension>1&&(r=new N(this.source.substr(this.position-1),this.transform),this.entries.push(r.parse(!0)),this.position+=r.position-2);if(0!==this.dimension)throw new Error("array dimension not balanced");return this.entries}}function A(e){return e}var P;P={create:function(e,t){return{parse:function(){return k(e,t)}}}};var M,I=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,L=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,D=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,x=/^-?infinity$/;function q(e){return-(e-1)}function j(e){return e>=0&&e<100}M=function(e){if(x.test(e))return Number(e.replace("i","I"));var t=I.exec(e);if(!t)return function(e){var t=L.exec(e);if(!t)return;var r=parseInt(t[1],10);t[4]&&(r=q(r));var n=parseInt(t[2],10)-1,i=t[3],s=new Date(r,n,i);j(r)&&s.setFullYear(r);return s}(e)||null;var r=!!t[8],n=parseInt(t[1],10);r&&(n=q(n));var i,s=parseInt(t[2],10)-1,o=t[3],a=parseInt(t[4],10),c=parseInt(t[5],10),u=parseInt(t[6],10),l=t[7];l=l?Math.round(1e3*parseFloat(l)):0;var h=function(e){var t=D.exec(e.split(" ")[1]);if(!t)return;var r=t[1];if("Z"===r)return 0;var n="-"===r?-1:1;return(3600*parseInt(t[2],10)+60*parseInt(t[3]||0,10)+parseInt(t[4]||0,10))*n*1e3}(e);return null!=h?(i=new Date(Date.UTC(n,s,o,a,c,u,l)),j(n)&&i.setUTCFullYear(n),i.setTime(i.getTime()-h)):(i=new Date(n,s,o,a,c,u,l),j(n)&&i.setFullYear(n)),i};var F={},$={};$=function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)B.call(r,n)&&(e[n]=r[n])}return e};var B=Object.prototype.hasOwnProperty;function U(e){if(!(this instanceof U))return new U(e);$(this,function(e){if(!e)return{};var t=z.exec(e),r="-"===t[8];return Object.keys(Q).reduce((function(e,n){var i,s,o=t[Q[n]];return o&&(o="milliseconds"===n?(s=(i=o)+"000000".slice(i.length),parseInt(s,10)/1e3):parseInt(o,10))?(r&&~K.indexOf(n)&&(o*=-1),e[n]=o,e):e}),{})}(e))}F=U;var H=["seconds","minutes","hours","days","months","years"];U.prototype.toPostgres=function(){var e=H.filter(this.hasOwnProperty,this);return this.milliseconds&&e.indexOf("seconds")<0&&e.push("seconds"),0===e.length?"0":e.map((function(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),t+" "+e}),this).join(" ")};var W={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},G=["years","months","days"],V=["hours","minutes","seconds"];U.prototype.toISOString=U.prototype.toISO=function(){return"P"+G.map(e,this).join("")+"T"+V.map(e,this).join("");function e(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),t+W[e]}};var z=new RegExp(["([+-]?\\d+)\\s+years?","([+-]?\\d+)\\s+mons?","([+-]?\\d+)\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map((function(e){return"("+e+")?"})).join("\\s*")),Q={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},K=["hours","minutes","seconds","milliseconds"];var J;function Y(e){return function(t){return null===t?t:e(t)}}function X(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function Z(e){return e?k(e,X):null}function ee(e){return parseInt(e,10)}function te(e){return e?k(e,Y(ee)):null}function re(e){return e?k(e,Y((function(e){return le(e).trim()}))):null}J=function(e){if(/^\\x/.test(e))return new Buffer(e.substr(2),"hex");for(var t="",r=0;r<e.length;)if("\\"!==e[r])t+=e[r],++r;else if(/[0-7]{3}/.test(e.substr(r+1,3)))t+=String.fromCharCode(parseInt(e.substr(r+1,3),8)),r+=4;else{for(var n=1;r+n<e.length&&"\\"===e[r+n];)n++;for(var i=0;i<Math.floor(n/2);++i)t+="\\";r+=2*Math.floor(n/2)}return new Buffer(t,"binary")};var ne=function(e){return e?P.create(e,(function(e){return null!==e&&(e=fe(e)),e})).parse():null},ie=function(e){return e?P.create(e,(function(e){return null!==e&&(e=parseFloat(e)),e})).parse():null},se=function(e){return e?P.create(e).parse():null},oe=function(e){return e?P.create(e,(function(e){return null!==e&&(e=M(e)),e})).parse():null},ae=function(e){return e?P.create(e,(function(e){return null!==e&&(e=F(e)),e})).parse():null},ce=function(e){return e?k(e,Y(J)):null},ue=function(e){return parseInt(e,10)},le=function(e){var t=String(e);return/^\d+$/.test(t)?t:e},he=function(e){return e?k(e,Y(JSON.parse)):null},fe=function(e){return"("!==e[0]?null:(e=e.substring(1,e.length-1).split(","),{x:parseFloat(e[0]),y:parseFloat(e[1])})},de=function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var t="(",r="",n=!1,i=2;i<e.length-1;i++)n||(t+=e[i]),")"!==e[i]?n&&","!==e[i]&&(r+=e[i]):n=!0;var s=fe(t);return s.radius=parseFloat(r),s};O={init:function(e){e(20,le),e(21,ue),e(23,ue),e(26,ue),e(700,parseFloat),e(701,parseFloat),e(16,X),e(1082,M),e(1114,M),e(1184,M),e(600,fe),e(651,se),e(718,de),e(1e3,Z),e(1001,ce),e(1005,te),e(1007,te),e(1028,te),e(1016,re),e(1017,ne),e(1021,ie),e(1022,ie),e(1231,ie),e(1014,se),e(1015,se),e(1008,se),e(1009,se),e(1040,se),e(1041,se),e(1115,oe),e(1182,oe),e(1185,oe),e(1186,F),e(1187,ae),e(17,J),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,he),e(3807,he),e(3907,se),e(2951,se),e(791,se),e(1183,se),e(1270,se)}};var pe,me;me=function(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),n="";t<0&&(t=~t+(0===r),r=1+~r>>>0,n="-");var i,s,o,a,c,u,l="";if(i=t%1e6,t=t/1e6>>>0,o=""+((s=4294967296*i+r)-1e6*(r=s/1e6>>>0)),0===r&&0===t)return n+o+l;for(a="",c=6-o.length,u=0;u<c;u++)a+="0";if(l=a+o+l,i=t%1e6,t=t/1e6>>>0,o=""+((s=4294967296*i+r)-1e6*(r=s/1e6>>>0)),0===r&&0===t)return n+o+l;for(a="",c=6-o.length,u=0;u<c;u++)a+="0";if(l=a+o+l,i=t%1e6,t=t/1e6>>>0,o=""+((s=4294967296*i+r)-1e6*(r=s/1e6>>>0)),0===r&&0===t)return n+o+l;for(a="",c=6-o.length,u=0;u<c;u++)a+="0";return l=a+o+l,n+(o=""+(s=4294967296*(i=t%1e6)+r)%1e6)+l};var ge=function(e,t,r,n,i){n=n||!1,i=i||function(e,t,r){return e*Math.pow(2,r)+t};var s=(r=r||0)>>3,o=function(e){return n?255&~e:e},a=255,c=8-r%8;t<c&&(a=255<<8-t&255,c=t),r&&(a>>=r%8);var u=0;r%8+t>=8&&(u=i(0,o(e[s])&a,c));for(var l=t+r>>3,h=s+1;h<l;h++)u=i(u,o(e[h]),8);var f=(t+r)%8;return f>0&&(u=i(u,o(e[l])>>8-f,f)),u},ye=function(e,t,r){var n=Math.pow(2,r-1)-1,i=ge(e,1),s=ge(e,r,1);if(0===s)return 0;var o=1,a=ge(e,t,r+1,!1,(function(e,t,r){0===e&&(e=1);for(var n=1;n<=r;n++)o/=2,(t&1<<r-n)>0&&(e+=o);return e}));return s==Math.pow(2,r+1)-1?0===a?0===i?1/0:-1/0:NaN:(0===i?1:-1)*Math.pow(2,s-n)*a},ve=function(e){return 1==ge(e,1)?-1*(ge(e,15,1,!0)+1):ge(e,15,1)},_e=function(e){return 1==ge(e,1)?-1*(ge(e,31,1,!0)+1):ge(e,31,1)},be=function(e){return ye(e,23,8)},Ee=function(e){return ye(e,52,11)},we=function(e){var t=ge(e,16,32);if(49152==t)return NaN;for(var r=Math.pow(1e4,ge(e,16,16)),n=0,i=ge(e,16),s=0;s<i;s++)n+=ge(e,16,64+16*s)*r,r/=1e4;var o=Math.pow(10,ge(e,16,48));return(0===t?1:-1)*Math.round(n*o)/o},Te=function(e,t){var r=ge(t,1),n=ge(t,63,1),i=new Date((0===r?1:-1)*n/1e3+9466848e5);return e||i.setTime(i.getTime()+6e4*i.getTimezoneOffset()),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(e){this.usec=e},i.getUTCMicroSeconds=function(){return this.usec},i},Re=function(e){for(var t=ge(e,32),r=(ge(e,32,32),ge(e,32,64)),n=96,i=[],s=0;s<t;s++)i[s]=ge(e,32,n),n+=32,n+=32;var o=function(t){var r,i=ge(e,32,n);return n+=32,4294967295==i?null:23==t||20==t?(r=ge(e,8*i,n),n+=8*i,r):25==t?r=e.toString(this.encoding,n>>3,(n+=i<<3)>>3):void console.log("ERROR: ElementType not implemented: "+t)},a=function(e,t){var r,n=[];if(e.length>1){var i=e.shift();for(r=0;r<i;r++)n[r]=a(e,t);e.unshift(i)}else for(r=0;r<e[0];r++)n[r]=o(t);return n};return a(i,r)},Se=function(e){return e.toString("utf8")},Ce=function(e){return null===e?null:ge(e,8)>0};pe={init:function(e){e(20,me),e(21,ve),e(23,_e),e(26,_e),e(1700,we),e(700,be),e(701,Ee),e(16,Ce),e(1114,Te.bind(null,!1)),e(1184,Te.bind(null,!0)),e(1e3,Re),e(1007,Re),e(1016,Re),e(1008,Re),e(1009,Re),e(25,Se)}};var Oe;Oe={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096};var ke,Ne,Ae,Pe,Me,Ie,Le,De,xe,qe=!1;function je(e){return String(e)}function Fe(e,t){return xe[t=t||"text"]&&xe[t][e]||je}function $e(e,t,r){"function"==typeof t&&(r=t,t="text"),xe[t][e]=r}function Be(){return qe||(qe=!0,Ne=O,Ae=pe,Pe=P,Me=Oe,(ke={}).getTypeParser=Fe,Ie=$e,ke.setTypeParser=Ie,Le=Pe,ke.arrayParser=Le,De=Me,ke.builtins=De,xe={text:{},binary:{}},Ne.init((function(e,t){xe.text[e]=t})),Ae.init((function(e,t){xe.binary[e]=t}))),ke}var Ue=Be(),He=Ue.getTypeParser(20,"text"),We=Ue.getTypeParser(1016,"text");C.__defineSetter__("parseInt8",(function(e){Ue.setTypeParser(20,"text",e?Ue.getTypeParser(23,"text"):He),Ue.setTypeParser(1016,"text",e?Ue.getTypeParser(1007,"text"):We)}));var Ge,Ve,ze,Qe,Ke,Je=!1;function Ye(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function Xe(e,t,r){return e="string"==typeof e?{text:e}:e,t&&("function"==typeof t?e.callback=t:e.values=t),r&&(e.callback=r),e}function Ze(){Ge={},Ve=y,ze=C,Qe=function(e,t){if(e instanceof Buffer)return e;if(ArrayBuffer.isView(e)){var r=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?ze.parseInputDatesAsUTC?function(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var n=Ye(t,4)+"-"+Ye(e.getUTCMonth()+1,2)+"-"+Ye(e.getUTCDate(),2)+"T"+Ye(e.getUTCHours(),2)+":"+Ye(e.getUTCMinutes(),2)+":"+Ye(e.getUTCSeconds(),2)+"."+Ye(e.getUTCMilliseconds(),3);return n+="+00:00",r&&(n+=" BC"),n}(e):function(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);var i=Ye(r,4)+"-"+Ye(e.getMonth()+1,2)+"-"+Ye(e.getDate(),2)+"T"+Ye(e.getHours(),2)+":"+Ye(e.getMinutes(),2)+":"+Ye(e.getSeconds(),2)+"."+Ye(e.getMilliseconds(),3);return t<0?(i+="-",t*=-1):i+="+",i+=Ye(Math.floor(t/60),2)+":"+Ye(t%60,2),n&&(i+=" BC"),i}(e):Array.isArray(e)?function e(t){for(var r="{",n=0;n<t.length;n++)n>0&&(r+=","),null===t[n]||void 0===t[n]?r+="NULL":Array.isArray(t[n])?r+=e(t[n]):t[n]instanceof Buffer?r+="\\\\x"+t[n].toString("hex"):r+='"'+Qe(t[n]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"';return r+="}"}(e):null==e?null:"object"==typeof e?function(e,t){if(e&&"function"==typeof e.toPostgres){if(-1!==(t=t||[]).indexOf(e))throw new Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),Qe(e.toPostgres(Qe),t)}return JSON.stringify(e)}(e,t):e.toString()},Ge={prepareValue:function(e){return Qe(e)},normalizeQueryConfig:Xe,postgresMd5PasswordHash:function(e,t,r){var n=Ke(t+e);return"md5"+Ke(Buffer.concat([Buffer.from(n),r]))},md5:Ke=function(e){return Ve.createHash("md5").update(e,"utf-8").digest("hex")}}}function et(){return Je||(Je=!0,Ze()),Ge}var tt=et(),rt={};const nt=y;function it(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e)),Buffer.isBuffer(t)||(t=Buffer.from(t));var r=[];if(e.length>t.length)for(var n=0;n<t.length;n++)r.push(e[n]^t[n]);else for(var i=0;i<e.length;i++)r.push(e[i]^t[i]);return Buffer.from(r)}function st(e,t){return nt.createHmac("sha256",e).update(t).digest()}rt={startSession:function(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");const t=nt.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}},continueSession:function(e,t,r){if("SASLInitialResponse"!==e.message)throw new Error("SASL: Last message was not SASLInitialResponse");const n=function(e){var t,r,n;if(String(e).split(",").forEach((function(e){switch(e[0]){case"r":t=e.substr(2);break;case"s":r=e.substr(2);break;case"i":n=parseInt(e.substr(2),10)}})),!t)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!r)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!n)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:t,salt:r,iteration:n}}(r);if(!n.nonce.startsWith(e.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var i=function(e,t,r){for(var n=st(e,Buffer.concat([t,Buffer.from([0,0,0,1])])),i=n,s=0;s<r-1;s++)n=st(e,n),i=it(i,n);return i}(t,Buffer.from(n.salt,"base64"),n.iteration),s=st(i,"Client Key"),o=nt.createHash("sha256").update(s).digest(),a="n=*,r="+e.clientNonce,c="r="+n.nonce+",s="+n.salt+",i="+n.iteration,u="c=biws,r="+n.nonce,l=a+","+c+","+u,h=it(s,st(o,l)).toString("base64"),f=st(i,"Server Key"),d=st(f,l);e.message="SASLResponse",e.serverSignature=d.toString("base64"),e.response=u+",p="+h},finalizeSession:function(e,t){if("SASLResponse"!==e.message)throw new Error("SASL: Last message was not SASLResponse");var r;if(String(t).split(",").forEach((function(e){switch(e[0]){case"v":r=e.substr(2)}})),r!==e.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}};var ot,at,ct,ut,lt={},ht={},ft={},dt=m;function pt(e,t,r){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var n=!1,i=!1,s=[],o=!1,a=new dt;function c(){for(;s.length&&!a.paused;){var e=s.shift();if(null===e)return a.emit("end");a.emit("data",e)}}function u(){a.writable=!1,t.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(r&&!1===r.autoDestroy),a.write=function(t){return e.call(this,t),!a.paused},a.queue=a.push=function(e){return o||(null===e&&(o=!0),s.push(e),c()),a},a.on("end",(function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick((function(){a.destroy()}))})),a.end=function(e){if(!n)return n=!0,arguments.length&&a.write(e),u(),a},a.destroy=function(){if(!i)return i=!0,n=!0,s.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),c(),a.paused||a.emit("drain"),a},a}ft=pt,pt.through=pt;var mt=p.StringDecoder;ht=function(e,t,r){var n=new mt,i="",s=r&&r.maxLength,o=!r||!1!==r.trailing;"function"==typeof e&&(t=e,e=null);e||(e=/\r?\n/);function a(e,r){if(t){try{r=t(r)}catch(t){return e.emit("error",t)}void 0!==r&&e.queue(r)}else e.queue(r)}function c(t,r){var n=((null!=i?i:"")+r).split(e);if(i=n.pop(),s&&i.length>s)return t.emit("error",new Error("maximum buffer reached"));for(var o=0;o<n.length;o++){a(t,n[o])}}return ft((function(e){c(this,n.write(e))}),(function(){n.end&&c(this,n.end()),o&&null!=i&&a(this,i),this.queue(null)}))};var gt=d,yt=m.Stream,vt=_,_t="win32"===process.platform,bt=process.stderr;var Et=["host","port","database","user","password"],wt=Et.length,Tt=Et[wt-1];function Rt(){var e=bt instanceof yt&&!0===bt.writable;if(e){var t=Array.prototype.slice.call(arguments).concat("\n");bt.write(vt.format.apply(vt,t))}}Object.defineProperty(lt,"isWin",{get:function(){return _t},set:function(e){_t=e}});lt.warnTo=function(e){var t=bt;return bt=e,t};lt.getFileName=function(e){return(e=e||process.env).PGPASSFILE||(_t?gt.join(e.APPDATA,"postgresql","pgpass.conf"):gt.join(e.HOME,".pgpass"))};lt.usePgPass=function(e,t){return!Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")&&(!!_t||(t=t||"<unkn>",32768!=(61440&e.mode)?(Rt('WARNING: password file "%s" is not a plain file',t),!1):!(63&e.mode)||(Rt('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1)))};var St=(at=function(e,t){return Et.slice(0,-1).reduce((function(r,n,i){return 1==i&&Number(e[n]||5432)===Number(t[n])?r&&!0:r&&("*"===t[n]||t[n]===e[n])}),!0)},lt.match=at);lt.getPassword=function(e,t,r){var n,i=t.pipe(new ht);var s=function(e){t.destroy(),Rt("WARNING: error on reading file: %s",e),r(void 0)};t.on("error",s),i.on("data",(function(t){var r=Ct(t);r&&Ot(r)&&St(e,r)&&(n=r[Tt],i.end())})).on("end",(function(){t.destroy(),r(n)})).on("error",s)};var Ct=(ct=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",n=0,i=0,s={},o=function(t,r,n){var i=e.substring(r,n);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(i=i.replace(/\\([:\\])/g,"$1")),s[Et[t]]=i},a=0;a<e.length-1;a+=1){if(t=e.charAt(a+1),r=e.charAt(a),n==wt-1){o(n,i);break}a>=0&&":"==t&&"\\"!==r&&(o(n,i,a+1),i=a+2,n+=1)}return s=Object.keys(s).length===wt?s:null},lt.parseLine=ct),Ot=(ut=function(e){for(var t={0:function(e){return e.length>0},1:function(e){return"*"===e||(e=Number(e),isFinite(e)&&e>0&&e<9007199254740992&&Math.floor(e)===e)},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},r=0;r<Et.length;r+=1){if(!(0,t[r])(e[Et[r]]||""))return!1}return!0},lt.isValidEntry=ut),kt=h;ot=function(e,t){var r=lt.getFileName();kt.stat(r,(function(n,i){if(n||!lt.usePgPass(i,r))return t(void 0);var s=kt.createReadStream(r);lt.getPassword(e,s,t)}))};var Nt=lt.warnTo;ot.warnTo=Nt;var At,Pt,Mt=!1;function It(e){this._types=e||Pt,this.text={},this.binary={}}function Lt(){return Mt||(Mt=!0,At={},Pt=Be(),It.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},It.prototype.setTypeParser=function(e,t,r){"function"==typeof t&&(r=t,t="text"),this.getOverrides(t)[e]=r},It.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)},At=It),At}var Dt,xt=Lt(),qt=u,jt=h;function Ft(e){if("/"===e.charAt(0))return{host:(r=e.split(" "))[0],database:r[1]};var t=qt.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),r=t.query;for(var n in r)Array.isArray(r[n])&&(r[n]=r[n][r[n].length-1]);var i=(t.auth||":").split(":");if(r.user=i[0],r.password=i.splice(1).join(":"),r.port=t.port,"socket:"==t.protocol)return r.host=decodeURI(t.pathname),r.database=t.query.db,r.client_encoding=t.query.encoding,r;r.host||(r.host=t.hostname);var s=t.pathname;if(!r.host&&s&&/^%2f/i.test(s)){var o=s.split("/");r.host=decodeURIComponent(o[0]),s=o.splice(1).join("/")}return s&&"/"===s.charAt(0)&&(s=s.slice(1)||null),r.database=s&&decodeURI(s),"true"!==r.ssl&&"1"!==r.ssl||(r.ssl=!0),"0"===r.ssl&&(r.ssl=!1),(r.sslcert||r.sslkey||r.sslrootcert)&&(r.ssl={}),r.sslcert&&(r.ssl.cert=jt.readFileSync(r.sslcert).toString()),r.sslkey&&(r.ssl.key=jt.readFileSync(r.sslkey).toString()),r.sslrootcert&&(r.ssl.ca=jt.readFileSync(r.sslrootcert).toString()),r}Dt=Ft,Ft.parse=Ft;var $t,Bt,Ut,Ht,Wt,Gt,Vt,zt,Qt,Kt=!1;function Jt(){return Kt||(Kt=!0,$t={},Bt=c,Ut=C,Ht=Dt.parse,Wt=function(e,t,r){return void 0===r?r=process.env["PG"+e.toUpperCase()]:!1===r||(r=process.env[r]),t[e]||r||Ut[e]},Gt=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return Ut.ssl},zt=function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},Qt=function(e,t,r){var n=t[r];null!=n&&e.push(r+"="+zt(n))},(Vt=function(e){(e="string"==typeof e?Ht(e):e||{}).connectionString&&(e=Object.assign({},e,Ht(e.connectionString))),this.user=Wt("user",e),this.database=Wt("database",e),void 0===this.database&&(this.database=this.user),this.port=parseInt(Wt("port",e),10),this.host=Wt("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:Wt("password",e)}),this.binary=Wt("binary",e),this.options=Wt("options",e),this.ssl=void 0===e.ssl?Gt():e.ssl,"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.client_encoding=Wt("client_encoding",e),this.replication=Wt("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=Wt("application_name",e,"PGAPPNAME"),this.fallback_application_name=Wt("fallback_application_name",e,!1),this.statement_timeout=Wt("statement_timeout",e,!1),this.idle_in_transaction_session_timeout=Wt("idle_in_transaction_session_timeout",e,!1),this.query_timeout=Wt("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}).prototype.getLibpqConnectionString=function(e){var t=[];Qt(t,this,"user"),Qt(t,this,"password"),Qt(t,this,"port"),Qt(t,this,"application_name"),Qt(t,this,"fallback_application_name"),Qt(t,this,"connect_timeout"),Qt(t,this,"options");var r="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(Qt(t,r,"sslmode"),Qt(t,r,"sslca"),Qt(t,r,"sslkey"),Qt(t,r,"sslcert"),Qt(t,r,"sslrootcert"),this.database&&t.push("dbname="+zt(this.database)),this.replication&&t.push("replication="+zt(this.replication)),this.host&&t.push("host="+zt(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+zt(this.client_encoding)),Bt.lookup(this.host,(function(r,n){return r?e(r,null):(t.push("hostaddr="+zt(n)),e(null,t.join(" ")))}))},$t=Vt),$t}var Yt=Jt(),Xt={};const{EventEmitter:Zt}=b;var er={},tr=Be(),rr=function(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)},nr=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;rr.prototype.addCommandComplete=function(e){var t;(t=e.text?nr.exec(e.text):nr.exec(e.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))},rr.prototype._parseRowAsArray=function(e){for(var t=new Array(e.length),r=0,n=e.length;r<n;r++){var i=e[r];t[r]=null!==i?this._parsers[r](i):null}return t},rr.prototype.parseRow=function(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r],s=this.fields[r].name;t[s]=null!==i?this._parsers[r](i):null}return t},rr.prototype.addRow=function(e){this.rows.push(e)},rr.prototype.addFields=function(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));for(var t=0;t<e.length;t++){var r=e[t];this._types?this._parsers[t]=this._types.getTypeParser(r.dataTypeID,r.format||"text"):this._parsers[t]=tr.getTypeParser(r.dataTypeID,r.format||"text")}},er=rr;const ir=et();Xt=class extends Zt{constructor(e,t,r){super(),e=ir.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new er(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||(!!this.rows||!!this.text&&(!!this.values&&this.values.length>0))}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new er(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let t;if(!this._canceledDueToError){try{t=this._result.parseRow(e.fields)}catch(e){return void(this._canceledDueToError=e)}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.isPreparedStatement&&t.sync()}handleEmptyQuery(e){this.isPreparedStatement&&e.sync()}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);this.callback&&this.callback(null,this._results),this.emit("end",this._results)}handleError(e,t){if(this.isPreparedStatement&&t.sync(),this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}submit(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return new Error("A query must have either text or a name. Supplying neither is unsupported.");const t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute({portal:this.portal,rows:t},!0),e.flush()}prepare(e){if(this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types},!0),this.values)try{this.values=this.values.map(ir.prepareValue)}catch(t){return void this.handleError(t,e)}e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary},!0),e.describe({type:"P",name:this.portal||""},!0),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,t){}};var sr={},or=a,ar=b.EventEmitter,cr=_,ur={};Object.defineProperty(ur,"__esModule",{value:!0});var lr={};Object.defineProperty(lr,"__esModule",{value:!0});var hr={};Object.defineProperty(hr,"__esModule",{value:!0});var fr=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.alloc(e)}ensure(e){if(this.buffer.length-this.offset<e){var t=this.buffer,r=t.length+(t.length>>1)+e;this.buffer=Buffer.alloc(r),t.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(e){var t=Buffer.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=t}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(e=""){var t=Buffer.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;const t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){var t=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),t}};hr.Writer=fr;const dr=new hr.Writer,pr=[],mr=Buffer.from([69,0,0,0,9,0,0,0,0,0]),gr=(e,t)=>{const r=4+Buffer.byteLength(t)+1,n=Buffer.allocUnsafe(1+r);return n[0]=e,n.writeInt32BE(r,1),n.write(t,5,"utf-8"),n[r]=0,n},yr=dr.addCString("P").flush(68),vr=dr.addCString("S").flush(68),_r=e=>Buffer.from([e,0,0,0,4]),br=_r(72),Er=_r(83),wr=_r(88),Tr=_r(99);var Rr={startup:e=>{dr.addInt16(3).addInt16(0);for(const t of Object.keys(e))dr.addCString(t).addCString(e[t]);dr.addCString("client_encoding").addCString("UTF8");var t=dr.addCString("").flush(),r=t.length+4;return(new hr.Writer).addInt32(r).add(t).flush()},password:e=>dr.addCString(e).flush(112),requestSsl:()=>{const e=Buffer.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(80877103,4),e},sendSASLInitialResponseMessage:function(e,t){return dr.addCString(e).addInt32(Buffer.byteLength(t)).addString(t),dr.flush(112)},sendSCRAMClientFinalMessage:function(e){return dr.addString(e).flush(112)},query:e=>dr.addCString(e).flush(81),parse:e=>{const t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));const r=e.types||pr;for(var n=r.length,i=dr.addCString(t).addCString(e.text).addInt16(n),s=0;s<n;s++)i.addInt32(r[s]);return dr.flush(80)},bind:(e={})=>{const t=e.portal||"",r=e.statement||"",n=e.binary||!1;for(var i=e.values||pr,s=i.length,o=!1,a=0;a<s;a++)o=o||i[a]instanceof Buffer;var c=dr.addCString(t).addCString(r);if(o)for(c.addInt16(s),a=0;a<s;a++)c.addInt16(i[a]instanceof Buffer?1:0);else c.addInt16(0);c.addInt16(s);for(var u=0;u<s;u++){var l=i[u];null==l?c.addInt32(-1):l instanceof Buffer?(c.addInt32(l.length),c.add(l)):(c.addInt32(Buffer.byteLength(l)),c.addString(l))}return n?(c.addInt16(1),c.addInt16(1)):c.addInt16(0),dr.flush(66)},execute:e=>{if(!e||!e.portal&&!e.rows)return mr;const t=e.portal||"",r=e.rows||0,n=Buffer.byteLength(t),i=4+n+1+4,s=Buffer.allocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(t,5,"utf-8"),s[n+5]=0,s.writeUInt32BE(r,s.length-4),s},describe:e=>e.name?gr(68,`${e.type}${e.name||""}`):"P"===e.type?yr:vr,close:e=>{const t=`${e.type}${e.name||""}`;return gr(67,t)},flush:()=>br,sync:()=>Er,end:()=>wr,copyData:e=>dr.add(e).flush(100),copyDone:()=>Tr,copyFail:e=>gr(102,e),cancel:(e,t)=>{const r=Buffer.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r}};lr.serialize=Rr;var Sr=lr.serialize;ur.serialize=Sr;var Cr={},Or=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0});var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.parseComplete={name:"parseComplete",length:5};kr.bindComplete={name:"bindComplete",length:5};kr.closeComplete={name:"closeComplete",length:5};kr.noData={name:"noData",length:5};kr.portalSuspended={name:"portalSuspended",length:5};kr.replicationStart={name:"replicationStart",length:4};kr.emptyQuery={name:"emptyQuery",length:4};kr.copyDone={name:"copyDone",length:4};class Nr extends Error{constructor(e,t,r){super(e),this.length=t,this.name=r}}var Ar=Nr;kr.DatabaseError=Ar;var Pr=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}};kr.CopyDataMessage=Pr;var Mr=class{constructor(e,t,r,n){this.length=e,this.name=t,this.binary=r,this.columnTypes=new Array(n)}};kr.CopyResponse=Mr;var Ir=class{constructor(e,t,r,n,i,s,o){this.name=e,this.tableID=t,this.columnID=r,this.dataTypeID=n,this.dataTypeSize=i,this.dataTypeModifier=s,this.format=o}};kr.Field=Ir;var Lr=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};kr.RowDescriptionMessage=Lr;var Dr=class{constructor(e,t,r){this.length=e,this.parameterName=t,this.parameterValue=r,this.name="parameterStatus"}};kr.ParameterStatusMessage=Dr;var xr=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}};kr.AuthenticationMD5Password=xr;var qr=class{constructor(e,t,r){this.length=e,this.processID=t,this.secretKey=r,this.name="backendKeyData"}};kr.BackendKeyDataMessage=qr;var jr=class{constructor(e,t,r,n){this.length=e,this.processId=t,this.channel=r,this.payload=n,this.name="notification"}};kr.NotificationResponseMessage=jr;var Fr=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}};kr.ReadyForQueryMessage=Fr;var $r=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}};kr.CommandCompleteMessage=$r;var Br=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}};kr.DataRowMessage=Br;var Ur=class{constructor(e,t){this.length=e,this.message=t,this.name="notice"}};kr.NoticeMessage=Ur;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const Wr=Buffer.allocUnsafe(0);var Gr=class{constructor(e=0){this.offset=e,this.buffer=Wr,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){const e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){const e=this.buffer[this.offset];return this.offset++,e}int32(){const e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){const t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){const e=this.offset;let t=e;for(;0!==this.buffer[t++];);return this.offset=t,this.buffer.toString(this.encoding,e,t-1)}bytes(e){const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}};Hr.BufferReader=Gr;const Vr=Or(o),zr=Buffer.allocUnsafe(0);var Qr=class{constructor(e){var t,r;if(this.buffer=zr,this.bufferLength=0,this.bufferOffset=0,this.reader=new Hr.BufferReader,"binary"===(null===(t=e)||void 0===t?void 0:t.mode))throw new Error("Binary mode not supported yet");this.mode=(null===(r=e)||void 0===r?void 0:r.mode)||"text"}parse(e,t){this.mergeBuffer(e);const r=this.bufferOffset+this.bufferLength;let n=this.bufferOffset;for(;n+5<=r;){const e=this.buffer[n],i=this.buffer.readUInt32BE(n+1),s=1+i;if(!(s+n<=r))break;t(this.handlePacket(n+5,e,i,this.buffer)),n+=s}n===r?(this.buffer=zr,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=r-n,this.bufferOffset=n)}mergeBuffer(e){if(this.bufferLength>0){const t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let e;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)e=this.buffer;else{let r=2*this.buffer.byteLength;for(;t>=r;)r*=2;e=Buffer.allocUnsafe(r)}this.buffer.copy(e,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=e,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,t,r,n){switch(t){case 50:return kr.bindComplete;case 49:return kr.parseComplete;case 51:return kr.closeComplete;case 110:return kr.noData;case 115:return kr.portalSuspended;case 99:return kr.copyDone;case 87:return kr.replicationStart;case 73:return kr.emptyQuery;case 68:return this.parseDataRowMessage(e,r,n);case 67:return this.parseCommandCompleteMessage(e,r,n);case 90:return this.parseReadyForQueryMessage(e,r,n);case 65:return this.parseNotificationMessage(e,r,n);case 82:return this.parseAuthenticationResponse(e,r,n);case 83:return this.parseParameterStatusMessage(e,r,n);case 75:return this.parseBackendKeyData(e,r,n);case 69:return this.parseErrorMessage(e,r,n,"error");case 78:return this.parseErrorMessage(e,r,n,"notice");case 84:return this.parseRowDescriptionMessage(e,r,n);case 71:return this.parseCopyInMessage(e,r,n);case 72:return this.parseCopyOutMessage(e,r,n);case 100:return this.parseCopyData(e,r,n);default:Vr.default.fail("unknown message code: "+t.toString(16))}}parseReadyForQueryMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.string(1);return new kr.ReadyForQueryMessage(t,n)}parseCommandCompleteMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.cstring();return new kr.CommandCompleteMessage(t,n)}parseCopyData(e,t,r){const n=r.slice(e,e+(t-4));return new kr.CopyDataMessage(t,n)}parseCopyInMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyInResponse")}parseCopyOutMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyOutResponse")}parseCopyMessage(e,t,r,n){this.reader.setBuffer(e,r);const i=0!==this.reader.byte(),s=this.reader.int16(),o=new kr.CopyResponse(t,n,i,s);for(let e=0;e<s;e++)o.columnTypes[e]=this.reader.int16();return o}parseNotificationMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),i=this.reader.cstring(),s=this.reader.cstring();return new kr.NotificationResponseMessage(t,n,i,s)}parseRowDescriptionMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int16(),i=new kr.RowDescriptionMessage(t,n);for(let e=0;e<n;e++)i.fields[e]=this.parseField();return i}parseField(){const e=this.reader.cstring(),t=this.reader.int32(),r=this.reader.int16(),n=this.reader.int32(),i=this.reader.int16(),s=this.reader.int32(),o=0===this.reader.int16()?"text":"binary";return new kr.Field(e,t,r,n,i,s,o)}parseDataRowMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int16(),i=new Array(n);for(let e=0;e<n;e++){const t=this.reader.int32();i[e]=-1===t?null:this.reader.string(t)}return new kr.DataRowMessage(t,i)}parseParameterStatusMessage(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.cstring(),i=this.reader.cstring();return new kr.ParameterStatusMessage(t,n,i)}parseBackendKeyData(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),i=this.reader.int32();return new kr.BackendKeyDataMessage(t,n,i)}parseAuthenticationResponse(e,t,r){this.reader.setBuffer(e,r);const n=this.reader.int32(),i={name:"authenticationOk",length:t};switch(n){case 0:break;case 3:8===i.length&&(i.name="authenticationCleartextPassword");break;case 5:if(12===i.length){i.name="authenticationMD5Password";const e=this.reader.bytes(4);return new kr.AuthenticationMD5Password(t,e)}break;case 10:let e;i.name="authenticationSASL",i.mechanisms=[];do{e=this.reader.cstring(),e&&i.mechanisms.push(e)}while(e);break;case 11:i.name="authenticationSASLContinue",i.data=this.reader.string(t-8);break;case 12:i.name="authenticationSASLFinal",i.data=this.reader.string(t-8);break;default:throw new Error("Unknown authenticationOk message type "+n)}return i}parseErrorMessage(e,t,r,n){this.reader.setBuffer(e,r);const i={};let s=this.reader.string(1);for(;"\0"!==s;)i[s]=this.reader.cstring(),s=this.reader.string(1);const o=i.M,a="notice"===n?new kr.NoticeMessage(t,o):new kr.DatabaseError(o,t,n);return a.severity=i.S,a.code=i.C,a.detail=i.D,a.hint=i.H,a.position=i.P,a.internalPosition=i.p,a.internalQuery=i.q,a.where=i.W,a.schema=i.s,a.table=i.t,a.column=i.c,a.dataType=i.d,a.constraint=i.n,a.file=i.F,a.line=i.L,a.routine=i.R,a}};Cr.Parser=Qr;var Kr=function(e,t){const r=new Cr.Parser;return e.on("data",e=>r.parse(e,t)),new Promise(t=>e.on("end",()=>t()))};ur.parse=Kr;const{parse:Jr,serialize:Yr}=ur;var Xr=function(e){ar.call(this),e=e||{},this.stream=e.stream||new or.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var t=this;this.on("newListener",(function(e){"message"===e&&(t._emitMessage=!0)}))};cr.inherits(Xr,ar),Xr.prototype.connect=function(e,t){var r=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once("connect",(function(){r._keepAlive&&r.stream.setKeepAlive(!0,r._keepAliveInitialDelayMillis),r.emit("connect")}));const n=function(e){(!r._ending||"ECONNRESET"!==e.code&&"EPIPE"!==e.code)&&r.emit("error",e)};if(this.stream.on("error",n),this.stream.on("close",(function(){r.emit("end")})),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",(function(e){switch(e.toString("utf8")){case"S":break;case"N":return r.stream.end(),r.emit("error",new Error("The server does not support SSL connections"));default:return r.stream.end(),r.emit("error",new Error("There was an error establishing an SSL connection"))}var i=s;const o=Object.assign({socket:r.stream},r.ssl);0===or.isIP(t)&&(o.servername=t),r.stream=i.connect(o),r.attachListeners(r.stream),r.stream.on("error",n),r.emit("sslconnect")}))},Xr.prototype.attachListeners=function(e){e.on("end",()=>{this.emit("end")}),Jr(e,e=>{var t="error"===e.name?"errorMessage":e.name;this._emitMessage&&this.emit("message",e),this.emit(t,e)})},Xr.prototype.requestSsl=function(){this.stream.write(Yr.requestSsl())},Xr.prototype.startup=function(e){this.stream.write(Yr.startup(e))},Xr.prototype.cancel=function(e,t){this._send(Yr.cancel(e,t))},Xr.prototype.password=function(e){this._send(Yr.password(e))},Xr.prototype.sendSASLInitialResponseMessage=function(e,t){this._send(Yr.sendSASLInitialResponseMessage(e,t))},Xr.prototype.sendSCRAMClientFinalMessage=function(e){this._send(Yr.sendSCRAMClientFinalMessage(e))},Xr.prototype._send=function(e){return!!this.stream.writable&&this.stream.write(e)},Xr.prototype.query=function(e){this._send(Yr.query(e))},Xr.prototype.parse=function(e){this._send(Yr.parse(e))},Xr.prototype.bind=function(e){this._send(Yr.bind(e))},Xr.prototype.execute=function(e){this._send(Yr.execute(e))};const Zr=Yr.flush();Xr.prototype.flush=function(){this.stream.writable&&this.stream.write(Zr)};const en=Yr.sync();Xr.prototype.sync=function(){this._ending=!0,this._send(Zr),this._send(en)};const tn=Yr.end();Xr.prototype.end=function(){if(this._ending=!0,this._connecting&&this.stream.writable)return this.stream.write(tn,()=>{this.stream.end()});this.stream.end()},Xr.prototype.close=function(e){this._send(Yr.close(e))},Xr.prototype.describe=function(e){this._send(Yr.describe(e))},Xr.prototype.sendCopyFromChunk=function(e){this._send(Yr.copyData(e))},Xr.prototype.endCopyFrom=function(){this._send(Yr.copyDone())},Xr.prototype.sendCopyFail=function(e){this._send(Yr.copyFail(e))},sr=Xr;var rn=function(e){R.call(this),this.connectionParameters=new Yt(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||T.Promise,this._types=new xt(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new sr({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||C.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=t.connectionTimeoutMillis||0};S.inherits(rn,R),rn.prototype._errorAllQueries=function(e){const t=t=>{process.nextTick(()=>{t.handleError(e,this.connection)})};this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0},rn.prototype._connect=function(e){var t,r,n=this,i=this.connection;if(this._connecting||this._connected){const t=new Error("Client has already been connected. You cannot reuse a client.");return void process.nextTick(()=>{e(t)})}function s(e){return function(t){"function"==typeof n.password?n._Promise.resolve().then(()=>n.password()).then(r=>{if(void 0!==r){if("string"!=typeof r)return void i.emit("error",new TypeError("Password must be a string"));n.connectionParameters.password=n.password=r}else n.connectionParameters.password=n.password=null;e(t)}).catch(e=>{i.emit("error",e)}):null!==n.password?e(t):ot(n.connectionParameters,(function(r){void 0!==r&&(n.connectionParameters.password=n.password=r),e(t)}))}}this._connecting=!0,this._connectionTimeoutMillis>0&&(t=setTimeout(()=>{i._ending=!0,i.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",(function(){n.ssl?i.requestSsl():i.startup(n.getStartupConf())})),i.on("sslconnect",(function(){i.startup(n.getStartupConf())})),i.on("authenticationCleartextPassword",s((function(){i.password(n.password)}))),i.on("authenticationMD5Password",s((function(e){i.password(tt.postgresMd5PasswordHash(n.user,n.password,e.salt))}))),i.on("authenticationSASL",s((function(e){r=rt.startSession(e.mechanisms),i.sendSASLInitialResponseMessage(r.mechanism,r.response)}))),i.on("authenticationSASLContinue",(function(e){rt.continueSession(r,n.password,e.data),i.sendSCRAMClientFinalMessage(r.response)})),i.on("authenticationSASLFinal",(function(e){rt.finalizeSession(r,e.data),r=null})),i.once("backendKeyData",(function(e){n.processID=e.processID,n.secretKey=e.secretKey}));const o=r=>{if(!this._connectionError){if(this._connectionError=!0,clearTimeout(t),e)return e(r);this.emit("error",r)}},a=e=>{this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)},c=e=>{const t=this.activeQuery;t?(this.activeQuery=null,t.handleError(e,i)):a(e)};i.on("error",o),i.on("errorMessage",o),i.once("readyForQuery",(function(){n._connecting=!1,n._connected=!0,n._attachListeners(i),i.removeListener("error",o),i.removeListener("errorMessage",o),i.on("error",a),i.on("errorMessage",c),clearTimeout(t),e&&(e(null,n),e=null),n.emit("connect")})),i.on("readyForQuery",(function(){var e=n.activeQuery;n.activeQuery=null,n.readyForQuery=!0,e&&e.handleReadyForQuery(i),n._pulseQueryQueue()})),i.once("end",()=>{const r=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(t),this._errorAllQueries(r),this._ending||(this._connecting&&!this._connectionError?e?e(r):a(r):this._connectionError||a(r)),process.nextTick(()=>{this.emit("end")})}),i.on("notice",(function(e){n.emit("notice",e)}))},rn.prototype.connect=function(e){if(!e)return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})});this._connect(e)},rn.prototype._attachListeners=function(e){const t=this;e.on("rowDescription",(function(e){t.activeQuery.handleRowDescription(e)})),e.on("dataRow",(function(e){t.activeQuery.handleDataRow(e)})),e.on("portalSuspended",(function(r){t.activeQuery.handlePortalSuspended(e)})),e.on("emptyQuery",(function(r){t.activeQuery.handleEmptyQuery(e)})),e.on("commandComplete",(function(r){t.activeQuery.handleCommandComplete(r,e)})),e.on("parseComplete",(function(r){t.activeQuery.name&&(e.parsedStatements[t.activeQuery.name]=t.activeQuery.text)})),e.on("copyInResponse",(function(e){t.activeQuery.handleCopyInResponse(t.connection)})),e.on("copyData",(function(e){t.activeQuery.handleCopyData(e,t.connection)})),e.on("notification",(function(e){t.emit("notification",e)}))},rn.prototype.getStartupConf=function(){var e=this.connectionParameters,t={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(t.application_name=r),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t},rn.prototype.cancel=function(e,t){if(e.activeQuery===t){var r=this.connection;this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",(function(){r.cancel(e.processID,e.secretKey)}))}else-1!==e.queryQueue.indexOf(t)&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)},rn.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)},rn.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)},rn.prototype.escapeIdentifier=function(e){return'"'+e.replace(/"/g,'""')+'"'},rn.prototype.escapeLiteral=function(e){for(var t=!1,r="'",n=0;n<e.length;n++){var i=e[n];"'"===i?r+=i+i:"\\"===i?(r+=i+i,t=!0):r+=i}return r+="'",!0===t&&(r=" E"+r),r},rn.prototype._pulseQueryQueue=function(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const e=this.activeQuery.submit(this.connection);e&&process.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))},rn.prototype.query=function(e,t,r){var n,i,s,o,a;if(null==e)throw new TypeError("Client was passed a null or undefined query");return"function"==typeof e.submit?(s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,"function"==typeof t&&(n.callback=n.callback||t)):(s=this.connectionParameters.query_timeout,(n=new Xt(e,t,r)).callback||(i=new this._Promise((e,t)=>{n.callback=(r,n)=>r?t(r):e(n)}))),s&&(a=n.callback,o=setTimeout(()=>{var e=new Error("Query read timeout");process.nextTick(()=>{n.handleError(e,this.connection)}),a(e),n.callback=()=>{};var t=this.queryQueue.indexOf(n);t>-1&&this.queryQueue.splice(t,1),this._pulseQueryQueue()},s),n.callback=(e,t)=>{clearTimeout(o),a(e,t)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"),this.connection)}),i):(this.queryQueue.push(n),this._pulseQueryQueue(),i):(process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),i)},rn.prototype.end=function(e){if(this._ending=!0,!this.connection._connecting){if(!e)return this._Promise.resolve();e()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)},rn.Query=Xt,w=rn;var nn;const sn=b.EventEmitter,on=function(){},an=(e,t)=>{const r=e.findIndex(t);return-1===r?void 0:e.splice(r,1)[0]};class cn{constructor(e,t,r){this.client=e,this.idleListener=t,this.timeoutId=r}}class un{constructor(e){this.callback=e}}function ln(e,t){if(t)return{callback:t,result:void 0};let r,n;return{callback:function(e,t){e?r(e):n(t)},result:new e((function(e,t){n=e,r=t}))}}nn=class extends sn{constructor(e,t){super(),this.options=Object.assign({},e),null!=e&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.log=this.options.log||function(){},this.Client=this.options.Client||t||io().Client,this.Promise=this.options.Promise||T.Promise,void 0===this.options.idleTimeoutMillis&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending)return this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),void(this._clients.length||(this.ended=!0,this._endCallback()));if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;const e=this._pendingQueue.shift();if(this._idle.length){const t=this._idle.pop();clearTimeout(t.timeoutId);const r=t.client,n=t.idleListener;return this._acquireClient(r,e,n,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e){const t=an(this._idle,t=>t.client===e);void 0!==t&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(t=>t!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){const t=new Error("Cannot use a pool after calling end on the pool");return e?e(t):this.Promise.reject(t)}const t=ln(this.Promise,e),r=t.result;if(this._clients.length>=this.options.max||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new un(t.callback)),r;const e=(e,r,n)=>{clearTimeout(i),t.callback(e,r,n)},n=new un(e),i=setTimeout(()=>{an(this._pendingQueue,t=>t.callback===e),n.timedOut=!0,t.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(n),r}return this.newClient(new un(t.callback)),r}newClient(e){const t=new this.Client(this.options);this._clients.push(t);const r=function(e,t){return function r(n){n.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",n)}),e._remove(t),e.emit("error",n,t)}}(this,t);let n;this.log("checking client timeout");let i=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),i=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(s=>{if(n&&clearTimeout(n),t.on("error",r),!s)return this.log("new client connected"),this._acquireClient(t,e,r,!0);this.log("client failed to connect",s),this._clients=this._clients.filter(e=>e!==t),i&&(s.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(s,void 0,on)})}_acquireClient(e,t,r,n){n&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),t.timedOut?n&&this.options.verify?this.options.verify(e,e.release):e.release():n&&this.options.verify?this.options.verify(e,r=>{if(r)return e.release(r),t.callback(r,void 0,on);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){let r=!1;return n=>{r&&function(){throw new Error("Release called on client which has already been released to the pool.")}(),r=!0,this._release(e,t,n)}}_release(e,t,r){if(e.on("error",t),e._poolUseCount=(e._poolUseCount||0)+1,r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),void this._pulseQueue();let n;this.options.idleTimeoutMillis&&(n=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis)),this._idle.push(new cn(e,t,n)),this._pulseQueue()}query(e,t,r){if("function"==typeof e){const t=ln(this.Promise,e);return setImmediate((function(){return t.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))})),t.result}"function"==typeof t&&(r=t,t=void 0);const n=ln(this.Promise,r);return r=n.callback,this.connect((n,i)=>{if(n)return r(n);let s=!1;const o=e=>{s||(s=!0,i.release(e),r(e))};i.once("error",o),this.log("dispatching query"),i.query(e,t,(e,t)=>{if(this.log("query dispatched"),i.removeListener("error",o),!s)return s=!0,i.release(e),e?r(e):r(void 0,t)})}),n.result}end(e){if(this.log("ending"),this.ending){const t=new Error("Called end on pool more than once");return e?e(t):this.Promise.reject(t)}this.ending=!0;const t=ln(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get totalCount(){return this._clients.length}};var hn,fn,dn,pn,mn,gn,yn,vn,_n,bn,En,wn,Tn,Rn,Sn,Cn,On,kn,Nn,An,Pn,Mn,In,Ln,Dn,xn,qn,jn,Fn,$n,Bn,Un,Hn,Wn,Gn,Vn,zn,Qn,Kn,Jn,Yn,Xn,Zn,ei,ti,ri,ni,ii,si,oi,ai,ci,ui,li,hi,fi,di,pi,mi,gi,yi,vi,_i,bi,Ei,wi,Ti,Ri,Si,Ci,Oi,ki,Ni,Ai,Pi,Mi,Ii,Li,Di,xi,qi,ji=!1;function Fi(e,t){if(e.length>gn)return null;if(!(t?vn[Dn]:vn[Mn]).test(e))return null;try{return new Ui(e,t)}catch(e){return null}}function $i(e,t){var r=Fi(e,t);return r?r.version:null}function Bi(e,t){var r=Fi(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}function Ui(e,t){if(e instanceof Ui){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>gn)throw new TypeError("version is longer than "+gn+" characters");if(!(this instanceof Ui))return new Ui(e,t);mn("SemVer",e,t),this.loose=t;var r=e.trim().match(t?vn[Dn]:vn[Mn]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>yn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>yn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>yn||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){return/^[0-9]+$/.test(e)?+e:e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}function Hi(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new Ui(e,r).inc(t,n).version}catch(e){return null}}function Wi(e,t){if(ns(e,t))return null;var r=Fi(e),n=Fi(t);if(r.prerelease.length||n.prerelease.length){for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return"pre"+i;return"prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return i}function Gi(e,t){var r=hi.test(e),n=hi.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}function Vi(e,t){return Gi(t,e)}function zi(e,t){return new Ui(e,t).major}function Qi(e,t){return new Ui(e,t).minor}function Ki(e,t){return new Ui(e,t).patch}function Ji(e,t,r){return new Ui(e,r).compare(t)}function Yi(e,t){return Ji(e,t,!0)}function Xi(e,t,r){return Ji(t,e,r)}function Zi(e,t){return e.sort((function(e,r){return fn.compare(e,r,t)}))}function es(e,t){return e.sort((function(e,r){return fn.rcompare(e,r,t)}))}function ts(e,t,r){return Ji(e,t,r)>0}function rs(e,t,r){return Ji(e,t,r)<0}function ns(e,t,r){return 0===Ji(e,t,r)}function is(e,t,r){return 0!==Ji(e,t,r)}function ss(e,t,r){return Ji(e,t,r)>=0}function os(e,t,r){return Ji(e,t,r)<=0}function as(e,t,r,n){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),i=e===r;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),i=e!==r;break;case"":case"=":case"==":i=ns(e,r,n);break;case"!=":i=is(e,r,n);break;case">":i=ts(e,r,n);break;case">=":i=ss(e,r,n);break;case"<":i=rs(e,r,n);break;case"<=":i=os(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return i}function cs(e,t){if(e instanceof cs){if(e.loose===t)return e;e=e.value}if(!(this instanceof cs))return new cs(e,t);mn("comparator",e,t),this.loose=t,this.parse(e),this.semver===Ni?this.value="":this.value=this.operator+this.semver.version,mn("comp",this)}function us(e,t){if(e instanceof us&&e.loose===t)return e;if(!(this instanceof us))return new us(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ls(e,t){return new us(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}function hs(e,t){return mn("comp",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){mn("caret",e,t);var r=t?vn[Jn]:vn[Kn];return e.replace(r,(function(t,r,n,i,s){var o;return mn("caret",e,t,r,n,i,s),fs(r)?o="":fs(n)?o=">="+r+".0.0 <"+(+r+1)+".0.0":fs(i)?o="0"===r?">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":">="+r+"."+n+".0 <"+(+r+1)+".0.0":s?(mn("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),o="0"===r?"0"===n?">="+r+"."+n+"."+i+s+" <"+r+"."+n+"."+(+i+1):">="+r+"."+n+"."+i+s+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+i+s+" <"+(+r+1)+".0.0"):(mn("no pr"),o="0"===r?"0"===n?">="+r+"."+n+"."+i+" <"+r+"."+n+"."+(+i+1):">="+r+"."+n+"."+i+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+i+" <"+(+r+1)+".0.0"),mn("caret return",o),o}))}(e,t)})).join(" ")}(e,t),mn("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t?vn[Vn]:vn[Gn];return e.replace(r,(function(t,r,n,i,s){var o;return mn("tilde",e,t,r,n,i,s),fs(r)?o="":fs(n)?o=">="+r+".0.0 <"+(+r+1)+".0.0":fs(i)?o=">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":s?(mn("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),o=">="+r+"."+n+"."+i+s+" <"+r+"."+(+n+1)+".0"):o=">="+r+"."+n+"."+i+" <"+r+"."+(+n+1)+".0",mn("tilde return",o),o}))}(e,t)})).join(" ")}(e,t),mn("tildes",e),e=function(e,t){return mn("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t?vn[Un]:vn[Bn];return e.replace(r,(function(t,r,n,i,s,o){mn("xRange",e,t,r,n,i,s,o);var a=fs(n),c=a||fs(i),u=c||fs(s);return"="===r&&u&&(r=""),a?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(c&&(i=0),u&&(s=0),">"===r?(r=">=",c?(n=+n+1,i=0,s=0):u&&(i=+i+1,s=0)):"<="===r&&(r="<",c?n=+n+1:i=+i+1),t=r+n+"."+i+"."+s):c?t=">="+n+".0.0 <"+(+n+1)+".0.0":u&&(t=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0"),mn("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),mn("xrange",e),e=function(e,t){return mn("replaceStars",e,t),e.trim().replace(vn[ri],"")}(e,t),mn("stars",e),e}function fs(e){return!e||"x"===e.toLowerCase()||"*"===e}function ds(e,t,r,n,i,s,o,a,c,u,l,h,f){return((t=fs(r)?"":fs(n)?">="+r+".0.0":fs(i)?">="+r+"."+n+".0":">="+t)+" "+(a=fs(c)?"":fs(u)?"<"+(+c+1)+".0.0":fs(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ps(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(r=0;r<e.length;r++){if(mn(e[r].semver),e[r].semver===Ni)return!0;if(e[r].semver.prerelease.length>0){var n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}}return!1}return!0}function ms(e,t,r){try{t=new us(t,r)}catch(e){return!1}return t.test(e)}function gs(e,t,r){return e.filter((function(e){return ms(e,t,r)})).sort((function(e,t){return Xi(e,t,r)}))[0]||null}function ys(e,t){try{return new us(e,t).range||"*"}catch(e){return null}}function vs(e,t,r){return bs(e,t,"<",r)}function _s(e,t,r){return bs(e,t,">",r)}function bs(e,t,r,n){var i,s,o,a,c;switch(e=new Ui(e,n),t=new us(t,n),r){case">":i=ts,s=os,o=rs,a=">",c=">=";break;case"<":i=rs,s=ss,o=ts,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ms(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,f=null;if(l.forEach((function(e){h=h||e,f=f||e,i(e.semver,h.semver,n)?h=e:o(e.semver,f.semver,n)&&(f=e)})),h.operator===a||h.operator===c)return!1;if((!f.operator||f.operator===a)&&s(e,f.semver))return!1;if(f.operator===c&&o(e,f.semver))return!1}return!0}function Es(){return ji||(ji=!0,function(){for((hn={})==hn&&(fn=hn=Ui),mn="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},"2.0.0",hn.SEMVER_SPEC_VERSION="2.0.0",gn=256,yn=Number.MAX_SAFE_INTEGER||9007199254740991,dn=[],vn=hn.re=dn,pn=[],_n=hn.src=pn,bn=0,En=bn++,_n[En]="0|[1-9]\\d*",wn=bn++,_n[wn]="[0-9]+",Tn=bn++,_n[Tn]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",Rn=bn++,_n[Rn]="("+_n[En]+")\\.("+_n[En]+")\\.("+_n[En]+")",Sn=bn++,_n[Sn]="("+_n[wn]+")\\.("+_n[wn]+")\\.("+_n[wn]+")",Cn=bn++,_n[Cn]="(?:"+_n[En]+"|"+_n[Tn]+")",On=bn++,_n[On]="(?:"+_n[wn]+"|"+_n[Tn]+")",kn=bn++,_n[kn]="(?:-("+_n[Cn]+"(?:\\."+_n[Cn]+")*))",Nn=bn++,_n[Nn]="(?:-?("+_n[On]+"(?:\\."+_n[On]+")*))",An=bn++,_n[An]="[0-9A-Za-z-]+",Pn=bn++,_n[Pn]="(?:\\+("+_n[An]+"(?:\\."+_n[An]+")*))",Mn=bn++,In="v?"+_n[Rn]+_n[kn]+"?"+_n[Pn]+"?",_n[Mn]="^"+In+"$",Ln="[v=\\s]*"+_n[Sn]+_n[Nn]+"?"+_n[Pn]+"?",Dn=bn++,_n[Dn]="^"+Ln+"$",xn=bn++,_n[xn]="((?:<|>)?=?)",qn=bn++,_n[qn]=_n[wn]+"|x|X|\\*",jn=bn++,_n[jn]=_n[En]+"|x|X|\\*",Fn=bn++,_n[Fn]="[v=\\s]*("+_n[jn]+")(?:\\.("+_n[jn]+")(?:\\.("+_n[jn]+")(?:"+_n[kn]+")?"+_n[Pn]+"?)?)?",$n=bn++,_n[$n]="[v=\\s]*("+_n[qn]+")(?:\\.("+_n[qn]+")(?:\\.("+_n[qn]+")(?:"+_n[Nn]+")?"+_n[Pn]+"?)?)?",Bn=bn++,_n[Bn]="^"+_n[xn]+"\\s*"+_n[Fn]+"$",Un=bn++,_n[Un]="^"+_n[xn]+"\\s*"+_n[$n]+"$",Hn=bn++,_n[Hn]="(?:~>?)",Wn=bn++,_n[Wn]="(\\s*)"+_n[Hn]+"\\s+",vn[Wn]=new RegExp(_n[Wn],"g"),"$1~",Gn=bn++,_n[Gn]="^"+_n[Hn]+_n[Fn]+"$",Vn=bn++,_n[Vn]="^"+_n[Hn]+_n[$n]+"$",zn=bn++,_n[zn]="(?:\\^)",Qn=bn++,_n[Qn]="(\\s*)"+_n[zn]+"\\s+",vn[Qn]=new RegExp(_n[Qn],"g"),"$1^",Kn=bn++,_n[Kn]="^"+_n[zn]+_n[Fn]+"$",Jn=bn++,_n[Jn]="^"+_n[zn]+_n[$n]+"$",Yn=bn++,_n[Yn]="^"+_n[xn]+"\\s*("+Ln+")$|^$",Xn=bn++,_n[Xn]="^"+_n[xn]+"\\s*("+In+")$|^$",Zn=bn++,_n[Zn]="(\\s*)"+_n[xn]+"\\s*("+Ln+"|"+_n[Fn]+")",vn[Zn]=new RegExp(_n[Zn],"g"),"$1$2$3",ei=bn++,_n[ei]="^\\s*("+_n[Fn]+")\\s+-\\s+("+_n[Fn]+")\\s*$",ti=bn++,_n[ti]="^\\s*("+_n[$n]+")\\s+-\\s+("+_n[$n]+")\\s*$",ri=bn++,_n[ri]="(<|>)?=?\\s*\\*",ni=0;ni<34;ni++)mn(ni,_n[ni]),vn[ni]||(vn[ni]=new RegExp(_n[ni]));ii=Fi,hn.parse=ii,si=$i,hn.valid=si,oi=Bi,hn.clean=oi,ai=Ui,hn.SemVer=ai,Ui.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Ui.prototype.inspect=function(){return'<SemVer "'+this+'">'},Ui.prototype.toString=function(){return this.version},Ui.prototype.compare=function(e){return mn("SemVer.compare",this.version,this.loose,e),e instanceof Ui||(e=new Ui(e,this.loose)),this.compareMain(e)||this.comparePre(e)},Ui.prototype.compareMain=function(e){return e instanceof Ui||(e=new Ui(e,this.loose)),Gi(this.major,e.major)||Gi(this.minor,e.minor)||Gi(this.patch,e.patch)},Ui.prototype.comparePre=function(e){if(e instanceof Ui||(e=new Ui(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(mn("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Gi(r,n)}while(++t)},Ui.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this},ci=Hi,hn.inc=ci,ui=Wi,hn.diff=ui,li=Gi,hn.compareIdentifiers=li,hi=/^[0-9]+$/,fi=Vi,hn.rcompareIdentifiers=fi,di=zi,hn.major=di,pi=Qi,hn.minor=pi,mi=Ki,hn.patch=mi,gi=Ji,hn.compare=gi,yi=Yi,hn.compareLoose=yi,vi=Xi,hn.rcompare=vi,_i=Zi,hn.sort=_i,bi=es,hn.rsort=bi,Ei=ts,hn.gt=Ei,wi=rs,hn.lt=wi,Ti=ns,hn.eq=Ti,Ri=is,hn.neq=Ri,Si=ss,hn.gte=Si,Ci=os,hn.lte=Ci,Oi=as,hn.cmp=Oi,ki=cs,hn.Comparator=ki,Ni={},cs.prototype.parse=function(e){var t=this.loose?vn[Yn]:vn[Xn],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new Ui(r[2],this.loose):this.semver=Ni},cs.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'},cs.prototype.toString=function(){return this.value},cs.prototype.test=function(e){return mn("Comparator.test",e,this.loose),this.semver===Ni||("string"==typeof e&&(e=new Ui(e,this.loose)),as(e,this.operator,this.semver,this.loose))},Ai=us,hn.Range=Ai,us.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'},us.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},us.prototype.toString=function(){return this.range},us.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),mn("range",e,t);var r=t?vn[ti]:vn[ei];e=e.replace(r,ds),mn("hyphen replace",e),e=e.replace(vn[Zn],"$1$2$3"),mn("comparator trim",e,vn[Zn]),e=(e=(e=e.replace(vn[Wn],"$1~")).replace(vn[Qn],"$1^")).split(/\s+/).join(" ");var n=t?vn[Yn]:vn[Xn],i=e.split(" ").map((function(e){return hs(e,t)})).join(" ").split(/\s+/);return this.loose&&(i=i.filter((function(e){return!!e.match(n)}))),i=i.map((function(e){return new cs(e,t)}))},Pi=ls,hn.toComparators=Pi,us.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new Ui(e,this.loose));for(var t=0;t<this.set.length;t++)if(ps(this.set[t],e))return!0;return!1},Mi=ms,hn.satisfies=Mi,Ii=gs,hn.maxSatisfying=Ii,Li=ys,hn.validRange=Li,Di=vs,hn.ltr=Di,xi=_s,hn.gtr=xi,qi=bs,hn.outside=qi,"function"==typeof define&&define.amd&&define(fn)}()),hn}var ws,Ts=!1;function Rs(){return Ts||(Ts=!0,ws={},ws=JSON.parse('{"name":"pg","version":"8.3.0","description":"PostgreSQL client - pure javascript & libpq with the same API","keywords":["database","libpq","pg","postgre","postgres","postgresql","rdbms"],"homepage":"https://github.com/brianc/node-postgres","repository":{"type":"git","url":"git://github.com/brianc/node-postgres.git"},"author":"Brian Carlson <brian.m.carlson@gmail.com>","main":"./lib","dependencies":{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.3.0","pg-pool":"^3.2.1","pg-protocol":"^1.2.5","pg-types":"^2.1.0","pgpass":"1.x","semver":"4.3.2"},"devDependencies":{"async":"0.9.0","bluebird":"3.5.2","co":"4.6.0","pg-copy-streams":"0.3.0"},"minNativeVersion":"2.0.0","scripts":{"test":"make test-all"},"files":["lib","SPONSORS.md"],"license":"MIT","engines":{"node":">= 8.0.0"}}')),ws}var Ss,Cs,Os,ks,Ns,As,Ps=!1;function Ms(){return Ps||(Ps=!0,Ss={},Cs=b.EventEmitter,Os=_,ks=et(),Ns=Ss=function(e,t,r){Cs.call(this),e=ks.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",function(e){"row"===e&&(this._emitRowEvents=!0)}.bind(this))},Os.inherits(Ns,Cs),As={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"},Ns.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t)e[As[r]||r]=t[r];this.callback?this.callback(e):this.emit("error",e),this.state="error"},Ns.prototype.then=function(e,t){return this._getPromise().then(e,t)},Ns.prototype.catch=function(e){return this._getPromise().catch(e)},Ns.prototype._getPromise=function(){return this._promise||(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this))),this._promise},Ns.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=function(r,n,i){if(e.native.arrayMode=!1,setImmediate((function(){t.emit("_done")})),r)return t.handleError(r);t._emitRowEvents&&(i.length>1?n.forEach((e,r)=>{e.forEach(e=>{t.emit("row",e,i[r])})}):n.forEach((function(e){t.emit("row",e,i)}))),t.state="end",t.emit("end",i),t.callback&&t.callback(null,i)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var n=(this.values||[]).map(ks.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){const e=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(e)}return e.native.execute(this.name,n,r)}return e.native.prepare(this.name,this.text,n.length,(function(i){return i?r(i):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,n,r))}))}if(this.values){if(!Array.isArray(this.values)){const e=new Error("Query values must be an array");return r(e)}var i=this.values.map(ks.prepareValue);e.native.query(this.text,i,r)}else e.native.query(this.text,r)}),Ss}var Is,Ls,Ds,xs,qs,js,Fs,$s,Bs,Us,Hs,Ws,Gs=!1;function Vs(){return Gs||(Gs=!0,Is={},Ls=Ks(),Ds=Lt(),xs=Es(),qs=Rs(),js=o,Fs=b.EventEmitter,$s=_,Bs=Jt(),Us="Version >= "+qs.minNativeVersion+" of pg-native required.",js(xs.gte(Ls.version,qs.minNativeVersion),Us),Hs=Ms(),(Ws=Is=function(e){Fs.call(this),e=e||{},this._Promise=e.Promise||T.Promise,this._types=new Ds(e.types),this.native=new Ls({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new Bs(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}}).Query=Hs,$s.inherits(Ws,Fs),Ws.prototype._errorAllQueries=function(e){const t=t=>{process.nextTick(()=>{t.native=this.native,t.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0},Ws.prototype._connect=function(e){var t=this;this._connecting?process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client."))):(this._connecting=!0,this.connectionParameters.getLibpqConnectionString((function(r,n){if(r)return e(r);t.native.connect(n,(function(r){if(r)return t.native.end(),e(r);t._connected=!0,t.native.on("error",(function(e){t._queryable=!1,t._errorAllQueries(e),t.emit("error",e)})),t.native.on("notification",(function(e){t.emit("notification",{channel:e.relname,payload:e.extra})})),t.emit("connect"),t._pulseQueryQueue(!0),e()}))})))},Ws.prototype.connect=function(e){if(!e)return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})});this._connect(e)},Ws.prototype.query=function(e,t,r){var n,i,s,o,a;if(null==e)throw new TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,"function"==typeof t&&(e.callback=t);else if(s=this.connectionParameters.query_timeout,!(n=new Hs(e,t,r)).callback){let e,t;i=new this._Promise((r,n)=>{e=r,t=n}),n.callback=(r,n)=>r?t(r):e(n)}return s&&(a=n.callback,o=setTimeout(()=>{var e=new Error("Query read timeout");process.nextTick(()=>{n.handleError(e,this.connection)}),a(e),n.callback=()=>{};var t=this._queryQueue.indexOf(n);t>-1&&this._queryQueue.splice(t,1),this._pulseQueryQueue()},s),n.callback=(e,t)=>{clearTimeout(o),a(e,t)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),i):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)},Ws.prototype.end=function(e){var t,r=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(t=new this._Promise((function(t,r){e=e=>e?r(e):t()}))),this.native.end((function(){r._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{r.emit("end"),e&&e()})})),t},Ws.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},Ws.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(t){this._activeQuery=t,t.submit(this);var r=this;t.once("_done",(function(){r._pulseQueryQueue()}))}else e||this.emit("drain")}},Ws.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel((function(){})):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},Ws.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)},Ws.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}),Is}var zs,Qs=!1;function Ks(){return Qs||(Qs=!0,zs={},zs=Vs()),zs}var Js,Ys,Xs,Zs,eo,to,ro,no=!1;function io(){return no||(no=!0,Js={},Ys=w,Xs=C,Zs=sr,eo=nn,to=e=>class extends eo{constructor(t){super(t,e)}},ro=function(e){this.defaults=Xs,this.Client=e,this.Query=this.Client.Query,this.Pool=to(this.Client),this._pools=[],this.Connection=Zs,this.types=Be()},void 0!==process.env.NODE_PG_FORCE_NATIVE?Js=new ro(Ks()):(Js=new ro(Ys),Object.defineProperty(Js,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new ro(Ks())}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e;console.error(e.message)}return Object.defineProperty(Js,"native",{value:e}),e}}))),Js}io();var so={};Object.defineProperty(so,"__esModule",{value:!0});var oo=(e,...t)=>{function r(r={}){return e.reduce((e,n,i)=>{const s=t[i];return e+=n.replace(/\r?\n\s+/g," "),void 0!==s&&(e+="function"!=typeof s?s:s(r)),e},"").trim()}return r.raw=e.reduce((e,r,n)=>{const i=t[n];return e+=r.replace(/\r?\n\s+/g," "),void 0!==i&&(e+="${"+i.toString()+"}"),e},"").trim(),r};so.default=oo;const ao=e=>/[^a-z0-9_]/.test(e.label||e)?`"${e.label||e}"`:e.label||e;function co(e){let t=[],r="string"==typeof e?{label:e}:e;return r.database&&t.push(ao(r.database)),r.schema&&t.push(ao(r.schema)),t.push(ao(r.label)),t.join(".")}var uo;const lo={CONNECTION:"connection",CONNECTED_CONNECTION:"connectedConnection",COLUMN:"connection.column",FUNCTION:"connection.function",SCHEMA:"connection.schema",RESOURCE_GROUP:"connection.resource_group",DATABASE:"connection.database",TABLE:"connection.table",VIEW:"connection.view",MATERIALIZED_VIEW:"connection.materializedView",NO_CHILD:"NO_CHILD",KEYWORDS:"KEYWORDS"};Object.freeze(lo),uo={ContextValue:lo};var ho=E(so);const fo=ho`
SELECT * FROM INFORMATION_SCHEMA.COLUMNS
WHERE
  TABLE_NAME = '${e=>e.label}'
  AND TABLE_CATALOG = '${e=>e.database}'
  AND TABLE_SCHEMA = '${e=>e.schema}'`,po=ho`
SELECT
  C.COLUMN_NAME AS label,
  '${uo.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  UPPER(C.DATA_TYPE || (
    CASE WHEN C.CHARACTER_MAXIMUM_LENGTH > 0 THEN (
      '(' || C.CHARACTER_MAXIMUM_LENGTH || ')'
    ) ELSE '' END
  )) AS "detail",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS "defaultValue",
  C.IS_NULLABLE AS "isNullable",
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA = '${e=>e.schema}'
  AND C.TABLE_NAME = '${e=>e.label}'
  AND C.TABLE_CATALOG = '${e=>e.database}'
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
`,mo=ho`
SELECT *
FROM ${e=>co(e.table)}
LIMIT ${e=>e.limit||50}
OFFSET ${e=>e.offset||0};
`,go=ho`
SELECT count(1) AS total
FROM ${e=>co(e.table)};
`,yo=ho`
SELECT
  '${uo.ContextValue.FUNCTION}' as type,
  f.proname AS name,
  f.proname AS label,
  quote_ident(f.proname) || '(' || oidvectortypes(f.proargtypes)::TEXT || ')' AS detail,
  n.nspname AS schema,
  current_database() AS database,
  quote_ident(n.nspname) || '.' || quote_ident(f.proname) AS signature,
  format_type(f.prorettype, null) AS "resultType",
  oidvectortypes(f.proargtypes) AS args,
  proargnames AS "argsNames",
  f.prosrc AS source,
  'function' as "iconName",
  '${uo.ContextValue.NO_CHILD}' as "childType"
FROM
  pg_catalog.pg_proc AS f
INNER JOIN pg_catalog.pg_namespace AS n on n.oid = f.pronamespace
WHERE
  n.nspname = '${e=>e.schema}'
ORDER BY name
;`,vo=(e,t="BASE TABLE")=>ho`
SELECT
  T.TABLE_NAME AS label,
  '${e}' as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  ${e===uo.ContextValue.VIEW?"TRUE":"FALSE"} AS isView
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA = '${e=>e.schema}'
  AND T.TABLE_CATALOG = '${e=>e.database}'
  AND T.TABLE_TYPE = '${t}'
ORDER BY
  T.TABLE_NAME;
`,_o=ho`
SELECT
  T.TABLE_NAME AS label,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN '${uo.ContextValue.TABLE}' ELSE '${uo.ContextValue.VIEW}' END) as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN FALSE ELSE TRUE END) AS "isView",
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN 'table' ELSE 'view' END) AS description,
  ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') as detail
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA !~ '^pg_'
  AND T.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.search?`AND (\n    (T.TABLE_CATALOG || '.' || T.TABLE_SCHEMA || '.' || T.TABLE_NAME) ILIKE '%${e.search}%'\n    OR ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') ILIKE '%${e.search}%'\n    OR T.TABLE_NAME ILIKE '%${e.search}%'\n  )`:""}
ORDER BY
  T.TABLE_NAME
LIMIT ${e=>e.limit||100};
`,bo=ho`
SELECT
  C.COLUMN_NAME AS label,
  '${uo.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS defaultValue,
  C.IS_NULLABLE AS isNullable,
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA !~ '^pg_'
  AND C.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.tables.filter(e=>!!e.label).length?`AND LOWER(C.TABLE_NAME) IN (${e.tables.filter(e=>!!e.label).map(e=>`'${e.label}'`.toLowerCase()).join(", ")})`:""}
  ${e=>e.search?`AND (\n      (C.TABLE_NAME || '.' || C.COLUMN_NAME) ILIKE '%${e.search}%'\n      OR C.COLUMN_NAME ILIKE '%${e.search}%'\n    )`:""}
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
LIMIT ${e=>e.limit||100}
`,Eo=vo(uo.ContextValue.TABLE),wo=vo(uo.ContextValue.VIEW,"VIEW"),To=ho`
SELECT
  '${uo.ContextValue.MATERIALIZED_VIEW}' as type,
  (current_database())::information_schema.sql_identifier AS database,
  (nc.nspname)::information_schema.sql_identifier AS schema,
  (c.relname)::information_schema.sql_identifier AS label,
  'view' AS "iconName",
  '${uo.ContextValue.NO_CHILD}' as "childType"
FROM pg_namespace nc,
  pg_class c
WHERE
  nc.nspname = '${e=>e.schema}'
  AND (
    (c.relnamespace = nc.oid)
    AND (c.relkind = 'm'::"char")
    AND (NOT pg_is_other_temp_schema(nc.oid))
    AND (
      pg_has_role(c.relowner, 'USAGE'::text)
      OR has_table_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'::text
      )
      OR has_any_column_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, REFERENCES'::text
      )
    )
  );
`;var Ro={describeTable:fo,countRecords:go,fetchColumns:po,fetchRecords:mo,fetchTables:Eo,fetchViews:wo,fetchFunctions:yo,fetchDatabases:ho`
SELECT
  db.*,
  db.datname as "label",
  db.datname as "database",
  '${uo.ContextValue.DATABASE}' as "type",
  'database' as "detail"
FROM pg_catalog.pg_database db
WHERE
  datallowconn
  AND NOT datistemplate
  AND db.datname = CURRENT_DATABASE()
ORDER BY
  db.datname;
`,fetchSchemas:ho`
SELECT
  schema_name AS label,
  schema_name AS schema,
  '${uo.ContextValue.SCHEMA}' as "type",
  'group-by-ref-type' as "iconId",
  catalog_name as database
FROM information_schema.schemata
WHERE
  schema_name !~ '^pg_'
  AND schema_name <> 'information_schema'
  AND catalog_name = '${e=>e.database}'
`,fetchMaterializedViews:To,searchTables:_o,searchColumns:bo},So={},Co=So&&So.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Oo=So&&So.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ko=So&&So.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&Co(t,e,r);return Oo(t,e),t},No=So&&So.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},Ao=So&&So.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(So,"__esModule",{value:!0});var Po={},Mo=Po&&Po.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Po,"__esModule",{value:!0});var Io=void 0;Po.ElectronNotSupportedError=Io;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});var Do=void 0;Lo.NotifyResponseError=Do;var xo,qo,jo,Fo,$o={};Object.defineProperty($o,"__esModule",{value:!0});var Bo,Uo={};function Ho(e){for(var t in e)Uo.hasOwnProperty(t)||(Uo[t]=e[t])}Object.defineProperty(Uo,"__esModule",{value:!0});var Wo,Go,Vo,zo,Qo,Ko,Jo={};function Yo(e){for(var t in e)Jo.hasOwnProperty(t)||(Jo[t]=e[t])}Object.defineProperty(Jo,"__esModule",{value:!0});var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});var Zo=function(e){return!0===e||!1===e};function ea(e){return"string"==typeof e||e instanceof String}Xo.boolean=Zo;var ta=ea;Xo.string=ta;var ra=function(e){return"number"==typeof e||e instanceof Number};Xo.number=ra;var na=function(e){return e instanceof Error};Xo.error=na;var ia=function(e){return"function"==typeof e};function sa(e){return Array.isArray(e)}Xo.func=ia;var oa=sa;Xo.array=oa;var aa=function(e){return sa(e)&&e.every(e=>ea(e))};Xo.stringArray=aa;var ca,ua,la,ha={};Object.defineProperty(ha,"__esModule",{value:!0}),(la=ua=ha.ErrorCodes||(ca={},ha.ErrorCodes=ca)).ParseError=-32700,la.InvalidRequest=-32600,la.MethodNotFound=-32601,la.InvalidParams=-32602,la.InternalError=-32603,la.serverErrorStart=-32099,la.serverErrorEnd=-32e3,la.ServerNotInitialized=-32002,la.UnknownErrorCode=-32001,la.RequestCancelled=-32800,la.ContentModified=-32801,la.MessageWriteError=1,la.MessageReadError=2;class fa extends Error{constructor(e,t,r){super(t),this.code=Xo.number(e)?e:ua.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,fa.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}var da=fa;ha.ResponseError=da;class pa{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}var ma=pa;ha.AbstractMessageType=ma;var ga=class extends pa{constructor(e){super(e,0)}};ha.RequestType0=ga;var ya=class extends pa{constructor(e){super(e,1)}};ha.RequestType=ya;var va=class extends pa{constructor(e){super(e,1)}};ha.RequestType1=va;var _a=class extends pa{constructor(e){super(e,2)}};ha.RequestType2=_a;var ba=class extends pa{constructor(e){super(e,3)}};ha.RequestType3=ba;var Ea=class extends pa{constructor(e){super(e,4)}};ha.RequestType4=Ea;var wa=class extends pa{constructor(e){super(e,5)}};ha.RequestType5=wa;var Ta=class extends pa{constructor(e){super(e,6)}};ha.RequestType6=Ta;var Ra=class extends pa{constructor(e){super(e,7)}};ha.RequestType7=Ra;var Sa=class extends pa{constructor(e){super(e,8)}};ha.RequestType8=Sa;var Ca=class extends pa{constructor(e){super(e,9)}};ha.RequestType9=Ca;var Oa=class extends pa{constructor(e){super(e,1),this._=void 0}};ha.NotificationType=Oa;var ka=class extends pa{constructor(e){super(e,0)}};ha.NotificationType0=ka;var Na=class extends pa{constructor(e){super(e,1)}};ha.NotificationType1=Na;var Aa=class extends pa{constructor(e){super(e,2)}};ha.NotificationType2=Aa;var Pa=class extends pa{constructor(e){super(e,3)}};ha.NotificationType3=Pa;var Ma=class extends pa{constructor(e){super(e,4)}};ha.NotificationType4=Ma;var Ia=class extends pa{constructor(e){super(e,5)}};ha.NotificationType5=Ia;var La=class extends pa{constructor(e){super(e,6)}};ha.NotificationType6=La;var Da=class extends pa{constructor(e){super(e,7)}};ha.NotificationType7=Da;var xa=class extends pa{constructor(e){super(e,8)}};ha.NotificationType8=xa;var qa=class extends pa{constructor(e){super(e,9)}};ha.NotificationType9=qa;var ja=function(e){let t=e;return t&&Xo.string(t.method)&&(Xo.string(t.id)||Xo.number(t.id))};ha.isRequestMessage=ja;var Fa=function(e){let t=e;return t&&Xo.string(t.method)&&void 0===e.id};ha.isNotificationMessage=Fa;var $a=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(Xo.string(t.id)||Xo.number(t.id)||null===t.id)};ha.isResponseMessage=$a;var Ba=ha.RequestType;Jo.RequestType=Ba;var Ua=ha.RequestType0;Jo.RequestType0=Ua;var Ha=ha.RequestType1;Jo.RequestType1=Ha;var Wa=ha.RequestType2;Jo.RequestType2=Wa;var Ga=ha.RequestType3;Jo.RequestType3=Ga;var Va=ha.RequestType4;Jo.RequestType4=Va;var za=ha.RequestType5;Jo.RequestType5=za;var Qa=ha.RequestType6;Jo.RequestType6=Qa;var Ka=ha.RequestType7;Jo.RequestType7=Ka;var Ja=ha.RequestType8;Jo.RequestType8=Ja;var Ya=ha.RequestType9;Jo.RequestType9=Ya;var Xa=ha.ResponseError;Jo.ResponseError=Xa;var Za=ha.ErrorCodes;Jo.ErrorCodes=Za;var ec=ha.NotificationType;Jo.NotificationType=ec;var tc=ha.NotificationType0;Jo.NotificationType0=tc;var rc=ha.NotificationType1;Jo.NotificationType1=rc;var nc=ha.NotificationType2;Jo.NotificationType2=nc;var ic=ha.NotificationType3;Jo.NotificationType3=ic;var sc=ha.NotificationType4;Jo.NotificationType4=sc;var oc=ha.NotificationType5;Jo.NotificationType5=oc;var ac=ha.NotificationType6;Jo.NotificationType6=ac;var cc=ha.NotificationType7;Jo.NotificationType7=cc;var uc=ha.NotificationType8;Jo.NotificationType8=uc;var lc=ha.NotificationType9;Jo.NotificationType9=lc;var hc,fc={};Object.defineProperty(fc,"__esModule",{value:!0});var dc,pc,mc={};Object.defineProperty(mc,"__esModule",{value:!0}),(mc.Disposable||(dc={},mc.Disposable=dc)).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(mc.Event||(pc={},mc.Event=pc));class gc{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var r=!1,n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],r=this._callbacks.slice(0),n=this._contexts.slice(0),i=0,s=r.length;i<s;i++)try{t.push(r[i].apply(n[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class yc{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{let n;return this._callbacks||(this._callbacks=new gc),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),n={dispose:()=>{this._callbacks.remove(e,t),n.dispose=yc._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}var vc=yc;mc.Emitter=vc,yc._noop=function(){};let _c=Buffer.from("\r","ascii")[0],bc=Buffer.from("\n","ascii")[0];class Ec{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(8192)}append(e){var t=e;if("string"==typeof e){var r=e,n=Buffer.byteLength(r,this.encoding);(t=Buffer.allocUnsafe(n)).write(r,0,n,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=8192*(Math.ceil((this.index+t.length)/8192)+1);0===this.index?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==_c||this.buffer[t+1]!==bc||this.buffer[t+2]!==_c||this.buffer[t+3]!==bc);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach(t=>{let r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");let n=t.substr(0,r),i=t.substr(r+1).trim();e[n]=i});let r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}get numberOfBytes(){return this.index}}(fc.MessageReader||(hc={},fc.MessageReader=hc)).is=function(e){let t=e;return t&&Xo.func(t.listen)&&Xo.func(t.dispose)&&Xo.func(t.onError)&&Xo.func(t.onClose)&&Xo.func(t.onPartialMessage)};class wc{constructor(){this.errorEmitter=new mc.Emitter,this.closeEmitter=new mc.Emitter,this.partialMessageEmitter=new mc.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error("Reader received error. Reason: "+(Xo.string(e.message)?e.message:"unknown"))}}var Tc=wc;fc.AbstractMessageReader=Tc;class Rc extends wc{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new Ec(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let r=parseInt(t);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var r=JSON.parse(t);this.callback(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}var Sc=Rc;fc.StreamMessageReader=Sc;var Cc=class extends wc{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};fc.IPCMessageReader=Cc;var Oc=class extends Rc{constructor(e,t="utf-8"){super(e,t)}};fc.SocketMessageReader=Oc;var kc=fc.MessageReader;Jo.MessageReader=kc;var Nc=fc.StreamMessageReader;Jo.StreamMessageReader=Nc;var Ac=fc.IPCMessageReader;Jo.IPCMessageReader=Ac;var Pc=fc.SocketMessageReader;Jo.SocketMessageReader=Pc;var Mc,Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});(Ic.MessageWriter||(Mc={},Ic.MessageWriter=Mc)).is=function(e){let t=e;return t&&Xo.func(t.dispose)&&Xo.func(t.onClose)&&Xo.func(t.onError)&&Xo.func(t.write)};class Lc{constructor(){this.errorEmitter=new mc.Emitter,this.closeEmitter=new mc.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error("Writer received error. Reason: "+(Xo.string(e.message)?e.message:"unknown"))}}var Dc=Lc;Ic.AbstractMessageWriter=Dc;var xc=class extends Lc{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),r=["Content-Length: ",Buffer.byteLength(t,this.encoding).toString(),"\r\n","\r\n"];try{this.writable.write(r.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};Ic.StreamMessageWriter=xc;var qc=class extends Lc{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};Ic.IPCMessageWriter=qc;var jc=class extends Lc{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),r=["Content-Length: ",Buffer.byteLength(t,this.encoding).toString(),"\r\n","\r\n"];try{this.sending=!0,this.socket.write(r.join(""),"ascii",r=>{r&&this.handleError(r,e);try{this.socket.write(t,this.encoding,t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(r){this.handleError(r,e)}})}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}};Ic.SocketMessageWriter=jc;var Fc=Ic.MessageWriter;Jo.MessageWriter=Fc;var $c=Ic.StreamMessageWriter;Jo.StreamMessageWriter=$c;var Bc=Ic.IPCMessageWriter;Jo.IPCMessageWriter=Bc;var Uc=Ic.SocketMessageWriter;Jo.SocketMessageWriter=Uc;var Hc=mc.Disposable;Jo.Disposable=Hc;var Wc=mc.Event;Jo.Event=Wc;var Gc=mc.Emitter;Jo.Emitter=Gc;var Vc,zc,Qc,Kc={};Object.defineProperty(Kc,"__esModule",{value:!0}),(Qc=zc=Kc.CancellationToken||(Vc={},Kc.CancellationToken=Vc)).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:mc.Event.None}),Qc.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:mc.Event.None}),Qc.is=function(e){let t=e;return t&&(t===Qc.None||t===Qc.Cancelled||Xo.boolean(t.isCancellationRequested)&&!!t.onCancellationRequested)};const Jc=Object.freeze((function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));class Yc{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Jc:(this._emitter||(this._emitter=new mc.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}var Xc=class{get token(){return this._token||(this._token=new Yc),this._token}cancel(){this._token?this._token.cancel():this._token=zc.Cancelled}dispose(){this._token?this._token instanceof Yc&&this._token.dispose():this._token=zc.None}};Kc.CancellationTokenSource=Xc;var Zc=Kc.CancellationTokenSource;Jo.CancellationTokenSource=Zc;var eu=Kc.CancellationToken;Jo.CancellationToken=eu;var tu,ru,nu,iu={};Object.defineProperty(iu,"__esModule",{value:!0}),(nu=ru=iu.Touch||(tu={},iu.Touch=tu)).None=0,nu.First=1,nu.Last=2;var su=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,r=ru.None){let n=this._map.get(e);if(n)n.value=t,r!==ru.None&&this.touch(n,r);else{switch(n={key:e,value:t,next:void 0,previous:void 0},r){case ru.None:this.addItemLast(n);break;case ru.First:this.addItemFirst(n);break;case ru.Last:default:this.addItemLast(n)}this._map.set(e,n),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._head;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next}forEachReverse(e,t){let r=this._tail;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===ru.First||t===ru.Last)if(t===ru.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===ru.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}};iu.LinkedMap=su;var ou={};Object.defineProperty(ou,"__esModule",{value:!0});const au=d,cu=i,uu=y,lu=a;var hu=function(){const e=uu.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:au.join(cu.tmpdir(),`vscode-${e}.sock`)};ou.generateRandomPipeName=hu;var fu=function(e,t="utf-8"){let r,n=new Promise((e,t)=>{r=e});return new Promise((i,s)=>{let o=lu.createServer(e=>{o.close(),r([new fc.SocketMessageReader(e,t),new Ic.SocketMessageWriter(e,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})};ou.createClientPipeTransport=fu;var du=function(e,t="utf-8"){const r=lu.createConnection(e);return[new fc.SocketMessageReader(r,t),new Ic.SocketMessageWriter(r,t)]};ou.createServerPipeTransport=du,Yo(ou);var pu={};Object.defineProperty(pu,"__esModule",{value:!0});const mu=a;var gu=function(e,t="utf-8"){let r,n=new Promise((e,t)=>{r=e});return new Promise((i,s)=>{let o=mu.createServer(e=>{o.close(),r([new fc.SocketMessageReader(e,t),new Ic.SocketMessageWriter(e,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})};pu.createClientSocketTransport=gu;var yu,vu,_u=function(e,t="utf-8"){const r=mu.createConnection(e,"127.0.0.1");return[new fc.SocketMessageReader(r,t),new Ic.SocketMessageWriter(r,t)]};pu.createServerSocketTransport=_u,Yo(pu),(yu||(yu={})).type=new ha.NotificationType("$/cancelRequest"),(vu||(vu={})).type=new ha.NotificationType("$/progress");var bu=class{constructor(){}};Jo.ProgressType=bu;var Eu,wu,Tu,Ru,Su,Cu,Ou,ku,Nu=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});Jo.NullLogger=Nu,(wu=Eu=Jo.Trace||(Wo={},Jo.Trace=Wo))[wu.Off=0]="Off",wu[wu.Messages=1]="Messages",wu[wu.Verbose=2]="Verbose",function(e){e.fromString=function(t){if(!Xo.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(Eu=Jo.Trace||(Wo={},Jo.Trace=Wo)),(Ru=Jo.TraceFormat||(Go={},Jo.TraceFormat=Go)).Text="text",Ru.JSON="json",function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(Tu=Jo.TraceFormat||(Go={},Jo.TraceFormat=Go)),(Su=Jo.SetTraceNotification||(Vo={},Jo.SetTraceNotification=Vo)).type=new ha.NotificationType("$/setTraceNotification"),(Cu=Jo.LogTraceNotification||(zo={},Jo.LogTraceNotification=zo)).type=new ha.NotificationType("$/logTraceNotification"),(ku=Ou=Jo.ConnectionErrors||(Qo={},Jo.ConnectionErrors=Qo))[ku.Closed=1]="Closed",ku[ku.Disposed=2]="Disposed",ku[ku.AlreadyListening=3]="AlreadyListening";class Au extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,Au.prototype)}}var Pu,Mu,Iu=Au;function Lu(e,t,r,n){let i=0,s=0,o=0;let a,c,u=void 0,l=Object.create(null),h=void 0,f=Object.create(null),d=new Map,p=new iu.LinkedMap,m=Object.create(null),g=Object.create(null),y=Eu.Off,v=Tu.Text,_=Pu.New,b=new mc.Emitter,E=new mc.Emitter,w=new mc.Emitter,T=new mc.Emitter,R=new mc.Emitter;function S(e){return"req-"+e.toString()}function C(e,t){var r;ha.isRequestMessage(t)?e.set(S(t.id),t):ha.isResponseMessage(t)?e.set(null===(r=t.id)?"res-unknown-"+(++o).toString():"res-"+r.toString(),t):e.set("not-"+(++s).toString(),t)}function O(e){}function k(){return _===Pu.Listening}function N(){return _===Pu.Closed}function A(){return _===Pu.Disposed}function P(){_!==Pu.New&&_!==Pu.Listening||(_=Pu.Closed,E.fire(void 0))}function M(){a||0===p.size||(a=setImmediate(()=>{a=void 0,function(){if(0===p.size)return;let e=p.shift();try{ha.isRequestMessage(e)?function(e){if(A())return;function r(r,n,i){let s={jsonrpc:"2.0",id:e.id};r instanceof ha.ResponseError?s.error=r.toJson():s.result=void 0===r?null:r,L(s,n,i),t.write(s)}function n(r,n,i){let s={jsonrpc:"2.0",id:e.id,error:r.toJson()};L(s,n,i),t.write(s)}!function(e){if(y===Eu.Off||!c)return;if(v===Tu.Text){let t=void 0;y===Eu.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),c.log(`Received request '${e.method} - (${e.id})'.`,t)}else D("receive-request",e)}(e);let i,s,o=l[e.method];o&&(i=o.type,s=o.handler);let a=Date.now();if(s||u){let o=new Kc.CancellationTokenSource,c=String(e.id);g[c]=o;try{let l;l=void 0===e.params||void 0!==i&&0===i.numberOfParams?s?s(o.token):u(e.method,o.token):Xo.array(e.params)&&(void 0===i||i.numberOfParams>1)?s?s(...e.params,o.token):u(e.method,...e.params,o.token):s?s(e.params,o.token):u(e.method,e.params,o.token);let h=l;l?h.then?h.then(t=>{delete g[c],r(t,e.method,a)},t=>{delete g[c],t instanceof ha.ResponseError?n(t,e.method,a):t&&Xo.string(t.message)?n(new ha.ResponseError(ha.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,a):n(new ha.ResponseError(ha.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,a)}):(delete g[c],r(l,e.method,a)):(delete g[c],function(r,n,i){void 0===r&&(r=null);let s={jsonrpc:"2.0",id:e.id,result:r};L(s,n,i),t.write(s)}(l,e.method,a))}catch(t){delete g[c],t instanceof ha.ResponseError?r(t,e.method,a):t&&Xo.string(t.message)?n(new ha.ResponseError(ha.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,a):n(new ha.ResponseError(ha.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,a)}}else n(new ha.ResponseError(ha.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,a)}(e):ha.isNotificationMessage(e)?function(e){if(A())return;let t,n=void 0;if(e.method===yu.type.method)t=e=>{let t=e.id,r=g[String(t)];r&&r.cancel()};else{let r=f[e.method];r&&(t=r.handler,n=r.type)}if(t||h)try{!function(e){if(y===Eu.Off||!c||e.method===Cu.type.method)return;if(v===Tu.Text){let t=void 0;y===Eu.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),c.log(`Received notification '${e.method}'.`,t)}else D("receive-notification",e)}(e),void 0===e.params||void 0!==n&&0===n.numberOfParams?t?t():h(e.method):Xo.array(e.params)&&(void 0===n||n.numberOfParams>1)?t?t(...e.params):h(e.method,...e.params):t?t(e.params):h(e.method,e.params)}catch(t){t.message?r.error(`Notification handler '${e.method}' failed with message: ${t.message}`):r.error(`Notification handler '${e.method}' failed unexpectedly.`)}else w.fire(e)}(e):ha.isResponseMessage(e)?function(e){if(A())return;if(null===e.id)e.error?r.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):r.error("Received response message without id. No further error information provided.");else{let t=String(e.id),n=m[t];if(function(e,t){if(y===Eu.Off||!c)return;if(v===Tu.Text){let r=void 0;if(y===Eu.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){let n=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";c.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${n}`,r)}else c.log(`Received response ${e.id} without active response promise.`,r)}else D("receive-response",e)}(e,n),n){delete m[t];try{if(e.error){let t=e.error;n.reject(new ha.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?r.error(`Response handler '${n.method}' failed with message: ${e.message}`):r.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));let t=e;if(Xo.string(t.id)||Xo.number(t.id)){let e=String(t.id),r=m[e];r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{M()}}()}))}e.onClose(P),e.onError((function(e){b.fire([e,void 0,void 0])})),t.onClose(P),t.onError((function(e){b.fire(e)}));let I=e=>{try{if(ha.isNotificationMessage(e)&&e.method===yu.type.method){let r=S(e.params.id),i=p.get(r);if(ha.isRequestMessage(i)){let s=n&&n.cancelUndispatched?n.cancelUndispatched(i,O):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return p.delete(r),s.id=i.id,L(s,e.method,Date.now()),void t.write(s)}}C(p,e)}finally{M()}};function L(e,t,r){if(y!==Eu.Off&&c)if(v===Tu.Text){let n=void 0;y===Eu.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),c.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,n)}else D("send-response",e)}function D(e,t){if(!c||y===Eu.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};c.log(r)}function x(){if(N())throw new Au(Ou.Closed,"Connection is closed.");if(A())throw new Au(Ou.Disposed,"Connection is disposed.")}function q(e){return void 0===e?null:e}function j(e,t){let r,n=e.numberOfParams;switch(n){case 0:r=null;break;case 1:r=q(t[0]);break;default:r=[];for(let e=0;e<t.length&&e<n;e++)r.push(q(t[e]));if(t.length<n)for(let e=t.length;e<n;e++)r.push(null)}return r}let F={sendNotification:(e,...r)=>{let n,i;if(x(),Xo.string(e))switch(n=e,r.length){case 0:i=null;break;case 1:i=r[0];break;default:i=r}else n=e.method,i=j(e,r);let s={jsonrpc:"2.0",method:n,params:i};!function(e){if(y!==Eu.Off&&c)if(v===Tu.Text){let t=void 0;y===Eu.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),c.log(`Sending notification '${e.method}'.`,t)}else D("send-notification",e)}(s),t.write(s)},onNotification:(e,t)=>{x(),Xo.func(e)?h=e:t&&(Xo.string(e)?f[e]={type:void 0,handler:t}:f[e.method]={type:e,handler:t})},onProgress:(e,t,r)=>{if(d.has(t))throw new Error(`Progress handler for token ${t} already registered`);return d.set(t,r),{dispose:()=>{d.delete(t)}}},sendProgress:(e,t,r)=>{F.sendNotification(vu.type,{token:t,value:r})},onUnhandledProgress:T.event,sendRequest:(e,...r)=>{let n,s;x(),function(){if(!k())throw new Error("Call listen() first.")}();let o=void 0;if(Xo.string(e))switch(n=e,r.length){case 0:s=null;break;case 1:Kc.CancellationToken.is(r[0])?(s=null,o=r[0]):s=q(r[0]);break;default:const e=r.length-1;Kc.CancellationToken.is(r[e])?(o=r[e],s=2===r.length?q(r[0]):r.slice(0,e).map(e=>q(e))):s=r.map(e=>q(e))}else{n=e.method,s=j(e,r);let t=e.numberOfParams;o=Kc.CancellationToken.is(r[t])?r[t]:void 0}let a=i++,u=new Promise((e,r)=>{let i={jsonrpc:"2.0",id:a,method:n,params:s},o={method:n,timerStart:Date.now(),resolve:e,reject:r};!function(e){if(y!==Eu.Off&&c)if(v===Tu.Text){let t=void 0;y===Eu.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),c.log(`Sending request '${e.method} - (${e.id})'.`,t)}else D("send-request",e)}(i);try{t.write(i)}catch(e){o.reject(new ha.ResponseError(ha.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),o=null}o&&(m[String(a)]=o)});return o&&o.onCancellationRequested(()=>{F.sendNotification(yu.type,{id:a})}),u},onRequest:(e,t)=>{x(),Xo.func(e)?u=e:t&&(Xo.string(e)?l[e]={type:void 0,handler:t}:l[e.method]={type:e,handler:t})},trace:(e,t,r)=>{let n=!1,i=Tu.Text;void 0!==r&&(Xo.boolean(r)?n=r:(n=r.sendNotification||!1,i=r.traceFormat||Tu.Text)),y=e,v=i,c=y===Eu.Off?void 0:t,!n||N()||A()||F.sendNotification(Su.type,{value:Eu.toString(e)})},onError:b.event,onClose:E.event,onUnhandledNotification:w.event,onDispose:R.event,dispose:()=>{if(A())return;_=Pu.Disposed,R.fire(void 0);let r=new Error("Connection got disposed.");Object.keys(m).forEach(e=>{m[e].reject(r)}),m=Object.create(null),g=Object.create(null),p=new iu.LinkedMap,Xo.func(t.dispose)&&t.dispose(),Xo.func(e.dispose)&&e.dispose()},listen:()=>{x(),function(){if(k())throw new Au(Ou.AlreadyListening,"Connection is already listening")}(),_=Pu.Listening,e.listen(I)},inspect:()=>{console.log("inspect")}};return F.onNotification(Cu.type,e=>{y!==Eu.Off&&c&&c.log(e.message,y===Eu.Verbose?e.verbose:void 0)}),F.onNotification(vu.type,e=>{const t=d.get(e.token);t?t(e.value):T.fire(e)}),F}Jo.ConnectionError=Iu,(Jo.ConnectionStrategy||(Ko={},Jo.ConnectionStrategy=Ko)).is=function(e){let t=e;return t&&Xo.func(t.cancelUndispatched)},(Mu=Pu||(Pu={}))[Mu.New=1]="New",Mu[Mu.Listening=2]="Listening",Mu[Mu.Closed=3]="Closed",Mu[Mu.Disposed=4]="Disposed";var Du=function(e,t,r,n){var i;return r||(r=Jo.NullLogger),Lu(void 0!==(i=e).listen&&void 0===i.read?e:new fc.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(t)?t:new Ic.StreamMessageWriter(t),r,n)};Jo.createMessageConnection=Du;var xu=Jo.ErrorCodes;Uo.ErrorCodes=xu;var qu=Jo.ResponseError;Uo.ResponseError=qu;var ju=Jo.CancellationToken;Uo.CancellationToken=ju;var Fu=Jo.CancellationTokenSource;Uo.CancellationTokenSource=Fu;var $u=Jo.Disposable;Uo.Disposable=$u;var Bu=Jo.Event;Uo.Event=Bu;var Uu=Jo.Emitter;Uo.Emitter=Uu;var Hu=Jo.Trace;Uo.Trace=Hu;var Wu=Jo.TraceFormat;Uo.TraceFormat=Wu;var Gu=Jo.SetTraceNotification;Uo.SetTraceNotification=Gu;var Vu=Jo.LogTraceNotification;Uo.LogTraceNotification=Vu;var zu=Jo.RequestType;Uo.RequestType=zu;var Qu=Jo.RequestType0;Uo.RequestType0=Qu;var Ku=Jo.NotificationType;Uo.NotificationType=Ku;var Ju=Jo.NotificationType0;Uo.NotificationType0=Ju;var Yu=Jo.MessageReader;Uo.MessageReader=Yu;var Xu=Jo.MessageWriter;Uo.MessageWriter=Xu;var Zu=Jo.ConnectionStrategy;Uo.ConnectionStrategy=Zu;var el=Jo.StreamMessageReader;Uo.StreamMessageReader=el;var tl=Jo.StreamMessageWriter;Uo.StreamMessageWriter=tl;var rl=Jo.IPCMessageReader;Uo.IPCMessageReader=rl;var nl=Jo.IPCMessageWriter;Uo.IPCMessageWriter=nl;var il=Jo.createClientPipeTransport;Uo.createClientPipeTransport=il;var sl=Jo.createServerPipeTransport;Uo.createServerPipeTransport=sl;var ol=Jo.generateRandomPipeName;Uo.generateRandomPipeName=ol;var al=Jo.createClientSocketTransport;Uo.createClientSocketTransport=al;var cl=Jo.createServerSocketTransport;Uo.createServerSocketTransport=cl;var ul=Jo.ProgressType;Uo.ProgressType=ul;var ll,hl,fl,dl,pl,ml,gl,yl,vl,_l,bl,El,wl,Tl,Rl,Sl,Cl,Ol,kl,Nl,Al,Pl,Ml,Il,Ll,Dl,xl,ql,jl,Fl,$l,Bl,Ul,Hl,Wl,Gl,Vl,zl,Ql,Kl,Jl,Yl,Xl,Zl,eh,th,rh,nh,ih,sh,oh,ah,ch,uh,lh,hh,fh,dh,ph,mh,gh,yh,vh,_h,bh,Eh,wh,Th,Rh,Sh,Ch,Oh,kh,Nh,Ah,Ph,Mh,Ih,Lh,Dh,xh,qh,jh,Fh,$h,Bh,Uh,Hh,Wh={};Wh.Position=sh,(oh=sh||(ll=sh={},Wh.Position=sh,ll)).create=function(e,t){return{line:e,character:t}},oh.is=function(e){var t=e;return $f.objectLiteral(t)&&$f.number(t.line)&&$f.number(t.character)},Wh.Range=ah,(ch=ah||(hl=ah={},Wh.Range=ah,hl)).create=function(e,t,r,n){if($f.number(e)&&$f.number(t)&&$f.number(r)&&$f.number(n))return{start:sh.create(e,t),end:sh.create(r,n)};if(sh.is(e)&&sh.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+n+"]")},ch.is=function(e){var t=e;return $f.objectLiteral(t)&&sh.is(t.start)&&sh.is(t.end)},Wh.Location=uh,(lh=uh||(fl=uh={},Wh.Location=uh,fl)).create=function(e,t){return{uri:e,range:t}},lh.is=function(e){var t=e;return $f.defined(t)&&ah.is(t.range)&&($f.string(t.uri)||$f.undefined(t.uri))},Wh.LocationLink=hh,(fh=hh||(dl=hh={},Wh.LocationLink=hh,dl)).create=function(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}},fh.is=function(e){var t=e;return $f.defined(t)&&ah.is(t.targetRange)&&$f.string(t.targetUri)&&(ah.is(t.targetSelectionRange)||$f.undefined(t.targetSelectionRange))&&(ah.is(t.originSelectionRange)||$f.undefined(t.originSelectionRange))},Wh.Color=dh,(ph=dh||(pl=dh={},Wh.Color=dh,pl)).create=function(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}},ph.is=function(e){var t=e;return $f.number(t.red)&&$f.number(t.green)&&$f.number(t.blue)&&$f.number(t.alpha)},Wh.ColorInformation=mh,(gh=mh||(ml=mh={},Wh.ColorInformation=mh,ml)).create=function(e,t){return{range:e,color:t}},gh.is=function(e){var t=e;return ah.is(t.range)&&dh.is(t.color)},Wh.ColorPresentation=yh,(vh=yh||(gl=yh={},Wh.ColorPresentation=yh,gl)).create=function(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}},vh.is=function(e){var t=e;return $f.string(t.label)&&($f.undefined(t.textEdit)||Ih.is(t))&&($f.undefined(t.additionalTextEdits)||$f.typedArray(t.additionalTextEdits,Ih.is))},Wh.FoldingRangeKind=_h,(bh=_h||(yl=_h={},Wh.FoldingRangeKind=_h,yl)).Comment="comment",bh.Imports="imports",bh.Region="region",Wh.FoldingRange=Eh,(wh=Eh||(vl=Eh={},Wh.FoldingRange=Eh,vl)).create=function(e,t,r,n,i){var s={startLine:e,endLine:t};return $f.defined(r)&&(s.startCharacter=r),$f.defined(n)&&(s.endCharacter=n),$f.defined(i)&&(s.kind=i),s},wh.is=function(e){var t=e;return $f.number(t.startLine)&&$f.number(t.startLine)&&($f.undefined(t.startCharacter)||$f.number(t.startCharacter))&&($f.undefined(t.endCharacter)||$f.number(t.endCharacter))&&($f.undefined(t.kind)||$f.string(t.kind))},Wh.DiagnosticRelatedInformation=Th,(Rh=Th||(_l=Th={},Wh.DiagnosticRelatedInformation=Th,_l)).create=function(e,t){return{location:e,message:t}},Rh.is=function(e){var t=e;return $f.defined(t)&&uh.is(t.location)&&$f.string(t.message)},Wh.DiagnosticSeverity=Sh,(Ch=Sh||(bl=Sh={},Wh.DiagnosticSeverity=Sh,bl)).Error=1,Ch.Warning=2,Ch.Information=3,Ch.Hint=4,Wh.DiagnosticTag=Oh,(kh=Oh||(El=Oh={},Wh.DiagnosticTag=Oh,El)).Unnecessary=1,kh.Deprecated=2,Wh.Diagnostic=Nh,(Ah=Nh||(wl=Nh={},Wh.Diagnostic=Nh,wl)).create=function(e,t,r,n,i,s){var o={range:e,message:t};return $f.defined(r)&&(o.severity=r),$f.defined(n)&&(o.code=n),$f.defined(i)&&(o.source=i),$f.defined(s)&&(o.relatedInformation=s),o},Ah.is=function(e){var t=e;return $f.defined(t)&&ah.is(t.range)&&$f.string(t.message)&&($f.number(t.severity)||$f.undefined(t.severity))&&($f.number(t.code)||$f.string(t.code)||$f.undefined(t.code))&&($f.string(t.source)||$f.undefined(t.source))&&($f.undefined(t.relatedInformation)||$f.typedArray(t.relatedInformation,Th.is))},Wh.Command=Ph,(Mh=Ph||(Tl=Ph={},Wh.Command=Ph,Tl)).create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={title:e,command:t};return $f.defined(r)&&r.length>0&&(i.arguments=r),i},Mh.is=function(e){var t=e;return $f.defined(t)&&$f.string(t.title)&&$f.string(t.command)},Wh.TextEdit=Ih,(Lh=Ih||(Rl=Ih={},Wh.TextEdit=Ih,Rl)).replace=function(e,t){return{range:e,newText:t}},Lh.insert=function(e,t){return{range:{start:e,end:e},newText:t}},Lh.del=function(e){return{range:e,newText:""}},Lh.is=function(e){var t=e;return $f.objectLiteral(t)&&$f.string(t.newText)&&ah.is(t.range)},Wh.TextDocumentEdit=Dh,(xh=Dh||(Sl=Dh={},Wh.TextDocumentEdit=Dh,Sl)).create=function(e,t){return{textDocument:e,edits:t}},xh.is=function(e){var t=e;return $f.defined(t)&&zh.is(t.textDocument)&&Array.isArray(t.edits)},Wh.CreateFile=qh,(jh=qh||(Cl=qh={},Wh.CreateFile=qh,Cl)).create=function(e,t){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),r},jh.is=function(e){var t=e;return t&&"create"===t.kind&&$f.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||$f.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||$f.boolean(t.options.ignoreIfExists)))},Wh.RenameFile=Fh,($h=Fh||(Ol=Fh={},Wh.RenameFile=Fh,Ol)).create=function(e,t,r){var n={kind:"rename",oldUri:e,newUri:t};return void 0===r||void 0===r.overwrite&&void 0===r.ignoreIfExists||(n.options=r),n},$h.is=function(e){var t=e;return t&&"rename"===t.kind&&$f.string(t.oldUri)&&$f.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||$f.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||$f.boolean(t.options.ignoreIfExists)))},Wh.DeleteFile=Bh,(Uh=Bh||(kl=Bh={},Wh.DeleteFile=Bh,kl)).create=function(e,t){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),r},Uh.is=function(e){var t=e;return t&&"delete"===t.kind&&$f.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||$f.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||$f.boolean(t.options.ignoreIfNotExists)))},Wh.WorkspaceEdit=Hh,(Hh||(Nl=Hh={},Wh.WorkspaceEdit=Hh,Nl)).is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return $f.string(e.kind)?qh.is(e)||Fh.is(e)||Bh.is(e):Dh.is(e)})))};var Gh,Vh,zh,Qh,Kh,Jh,Yh,Xh,Zh,ef,tf,rf,nf,sf,of,af,cf,uf,lf,hf,ff,df,pf,mf,gf,yf,vf,_f,bf,Ef,wf,Tf,Rf,Sf,Cf,Of,kf,Nf,Af,Pf,Mf,If,Lf,Df,xf=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(Ih.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(Ih.replace(e,t))},e.prototype.delete=function(e){this.edits.push(Ih.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),qf=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(Dh.is(e)){var r=new xf(e.edits);t._textEditChanges[e.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach((function(r){var n=new xf(e.changes[r]);t._textEditChanges[r]=n})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(zh.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(n=this._textEditChanges[t.uri])){var r={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(r),n=new xf(i),this._textEditChanges[t.uri]=n}return n}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n;if(!(n=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,n=new xf(i),this._textEditChanges[e]=n}return n},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(qh.create(e,t))},e.prototype.renameFile=function(e,t,r){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(Fh.create(e,t,r))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(Bh.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();Wh.WorkspaceChange=qf,Wh.TextDocumentIdentifier=Gh,(Vh=Gh||(Al=Gh={},Wh.TextDocumentIdentifier=Gh,Al)).create=function(e){return{uri:e}},Vh.is=function(e){var t=e;return $f.defined(t)&&$f.string(t.uri)},Wh.VersionedTextDocumentIdentifier=zh,(Qh=zh||(Pl=zh={},Wh.VersionedTextDocumentIdentifier=zh,Pl)).create=function(e,t){return{uri:e,version:t}},Qh.is=function(e){var t=e;return $f.defined(t)&&$f.string(t.uri)&&(null===t.version||$f.number(t.version))},Wh.TextDocumentItem=Kh,(Jh=Kh||(Ml=Kh={},Wh.TextDocumentItem=Kh,Ml)).create=function(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}},Jh.is=function(e){var t=e;return $f.defined(t)&&$f.string(t.uri)&&$f.string(t.languageId)&&$f.number(t.version)&&$f.string(t.text)},Wh.MarkupKind=Yh,(Xh=Yh||(Il=Yh={},Wh.MarkupKind=Yh,Il)).PlainText="plaintext",Xh.Markdown="markdown",function(e){e.is=function(t){var r=t;return r===e.PlainText||r===e.Markdown}}(Yh||(Ll=Yh={},Wh.MarkupKind=Yh,Ll)),Wh.MarkupContent=Zh,(Zh||(Dl=Zh={},Wh.MarkupContent=Zh,Dl)).is=function(e){var t=e;return $f.objectLiteral(e)&&Yh.is(t.kind)&&$f.string(t.value)},Wh.CompletionItemKind=ef,(tf=ef||(xl=ef={},Wh.CompletionItemKind=ef,xl)).Text=1,tf.Method=2,tf.Function=3,tf.Constructor=4,tf.Field=5,tf.Variable=6,tf.Class=7,tf.Interface=8,tf.Module=9,tf.Property=10,tf.Unit=11,tf.Value=12,tf.Enum=13,tf.Keyword=14,tf.Snippet=15,tf.Color=16,tf.File=17,tf.Reference=18,tf.Folder=19,tf.EnumMember=20,tf.Constant=21,tf.Struct=22,tf.Event=23,tf.Operator=24,tf.TypeParameter=25,Wh.InsertTextFormat=rf,(nf=rf||(ql=rf={},Wh.InsertTextFormat=rf,ql)).PlainText=1,nf.Snippet=2,Wh.CompletionItemTag=sf,(sf||(jl=sf={},Wh.CompletionItemTag=sf,jl)).Deprecated=1,Wh.CompletionItem=of,(of||(Fl=of={},Wh.CompletionItem=of,Fl)).create=function(e){return{label:e}},Wh.CompletionList=af,(af||($l=af={},Wh.CompletionList=af,$l)).create=function(e,t){return{items:e||[],isIncomplete:!!t}},Wh.MarkedString=cf,(uf=cf||(Bl=cf={},Wh.MarkedString=cf,Bl)).fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},uf.is=function(e){var t=e;return $f.string(t)||$f.objectLiteral(t)&&$f.string(t.language)&&$f.string(t.value)},Wh.Hover=lf,(lf||(Ul=lf={},Wh.Hover=lf,Ul)).is=function(e){var t=e;return!!t&&$f.objectLiteral(t)&&(Zh.is(t.contents)||cf.is(t.contents)||$f.typedArray(t.contents,cf.is))&&(void 0===e.range||ah.is(e.range))},Wh.ParameterInformation=hf,(hf||(Hl=hf={},Wh.ParameterInformation=hf,Hl)).create=function(e,t){return t?{label:e,documentation:t}:{label:e}},Wh.SignatureInformation=ff,(ff||(Wl=ff={},Wh.SignatureInformation=ff,Wl)).create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={label:e};return $f.defined(t)&&(i.documentation=t),$f.defined(r)?i.parameters=r:i.parameters=[],i},Wh.DocumentHighlightKind=df,(pf=df||(Gl=df={},Wh.DocumentHighlightKind=df,Gl)).Text=1,pf.Read=2,pf.Write=3,Wh.DocumentHighlight=mf,(mf||(Vl=mf={},Wh.DocumentHighlight=mf,Vl)).create=function(e,t){var r={range:e};return $f.number(t)&&(r.kind=t),r},Wh.SymbolKind=gf,(yf=gf||(zl=gf={},Wh.SymbolKind=gf,zl)).File=1,yf.Module=2,yf.Namespace=3,yf.Package=4,yf.Class=5,yf.Method=6,yf.Property=7,yf.Field=8,yf.Constructor=9,yf.Enum=10,yf.Interface=11,yf.Function=12,yf.Variable=13,yf.Constant=14,yf.String=15,yf.Number=16,yf.Boolean=17,yf.Array=18,yf.Object=19,yf.Key=20,yf.Null=21,yf.EnumMember=22,yf.Struct=23,yf.Event=24,yf.Operator=25,yf.TypeParameter=26,Wh.SymbolTag=vf,(vf||(Ql=vf={},Wh.SymbolTag=vf,Ql)).Deprecated=1,Wh.SymbolInformation=_f,(_f||(Kl=_f={},Wh.SymbolInformation=_f,Kl)).create=function(e,t,r,n,i){var s={name:e,kind:t,location:{uri:n,range:r}};return i&&(s.containerName=i),s},Wh.DocumentSymbol=bf,(Ef=bf||(Jl=bf={},Wh.DocumentSymbol=bf,Jl)).create=function(e,t,r,n,i,s){var o={name:e,detail:t,kind:r,range:n,selectionRange:i};return void 0!==s&&(o.children=s),o},Ef.is=function(e){var t=e;return t&&$f.string(t.name)&&$f.number(t.kind)&&ah.is(t.range)&&ah.is(t.selectionRange)&&(void 0===t.detail||$f.string(t.detail))&&(void 0===t.deprecated||$f.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))},Wh.CodeActionKind=wf,(Tf=wf||(Yl=wf={},Wh.CodeActionKind=wf,Yl)).Empty="",Tf.QuickFix="quickfix",Tf.Refactor="refactor",Tf.RefactorExtract="refactor.extract",Tf.RefactorInline="refactor.inline",Tf.RefactorRewrite="refactor.rewrite",Tf.Source="source",Tf.SourceOrganizeImports="source.organizeImports",Tf.SourceFixAll="source.fixAll",Wh.CodeActionContext=Rf,(Sf=Rf||(Xl=Rf={},Wh.CodeActionContext=Rf,Xl)).create=function(e,t){var r={diagnostics:e};return null!=t&&(r.only=t),r},Sf.is=function(e){var t=e;return $f.defined(t)&&$f.typedArray(t.diagnostics,Nh.is)&&(void 0===t.only||$f.typedArray(t.only,$f.string))},Wh.CodeAction=Cf,(Of=Cf||(Zl=Cf={},Wh.CodeAction=Cf,Zl)).create=function(e,t,r){var n={title:e};return Ph.is(t)?n.command=t:n.edit=t,void 0!==r&&(n.kind=r),n},Of.is=function(e){var t=e;return t&&$f.string(t.title)&&(void 0===t.diagnostics||$f.typedArray(t.diagnostics,Nh.is))&&(void 0===t.kind||$f.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||Ph.is(t.command))&&(void 0===t.isPreferred||$f.boolean(t.isPreferred))&&(void 0===t.edit||Hh.is(t.edit))},Wh.CodeLens=kf,(Nf=kf||(eh=kf={},Wh.CodeLens=kf,eh)).create=function(e,t){var r={range:e};return $f.defined(t)&&(r.data=t),r},Nf.is=function(e){var t=e;return $f.defined(t)&&ah.is(t.range)&&($f.undefined(t.command)||Ph.is(t.command))},Wh.FormattingOptions=Af,(Pf=Af||(th=Af={},Wh.FormattingOptions=Af,th)).create=function(e,t){return{tabSize:e,insertSpaces:t}},Pf.is=function(e){var t=e;return $f.defined(t)&&$f.number(t.tabSize)&&$f.boolean(t.insertSpaces)},Wh.DocumentLink=Mf,(If=Mf||(rh=Mf={},Wh.DocumentLink=Mf,rh)).create=function(e,t,r){return{range:e,target:t,data:r}},If.is=function(e){var t=e;return $f.defined(t)&&ah.is(t.range)&&($f.undefined(t.target)||$f.string(t.target))},Wh.SelectionRange=Lf,(Df=Lf||(nh=Lf={},Wh.SelectionRange=Lf,nh)).create=function(e,t){return{range:e,parent:t}},Df.is=function(e){var t=e;return void 0!==t&&ah.is(t.range)&&(void 0===t.parent||Df.is(t.parent))};var jf,Ff;Wh.EOL=["\n","\r\n","\r"],Wh.TextDocument=jf,(Ff=jf||(ih=jf={},Wh.TextDocument=jf,ih)).create=function(e,t,r,n){return new Hf(e,t,r,n)},Ff.is=function(e){var t=e;return!!($f.defined(t)&&$f.string(t.uri)&&($f.undefined(t.languageId)||$f.string(t.languageId))&&$f.number(t.lineCount)&&$f.func(t.getText)&&$f.func(t.positionAt)&&$f.func(t.offsetAt))},Ff.applyEdits=function(e,t){for(var r=e.getText(),n=function e(t,r){if(t.length<=1)return t;var n=t.length/2|0,i=t.slice(0,n),s=t.slice(n);e(i,r),e(s,r);for(var o=0,a=0,c=0;o<i.length&&a<s.length;){var u=r(i[o],s[a]);t[c++]=u<=0?i[o++]:s[a++]}for(;o<i.length;)t[c++]=i[o++];for(;a<s.length;)t[c++]=s[a++];return t}(t,(function(e,t){var r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),i=r.length,s=n.length-1;s>=0;s--){var o=n[s],a=e.offsetAt(o.range.start),c=e.offsetAt(o.range.end);if(!(c<=i))throw new Error("Overlapping edit");r=r.substring(0,a)+o.newText+r.substring(c,r.length),i=a}return r};var $f,Bf,Uf,Hf=function(){function e(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,r=!0,n=0;n<t.length;n++){r&&(e.push(n),r=!1);var i=t.charAt(n);r="\r"===i||"\n"===i,"\r"===i&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return sh.create(0,e);for(;r<n;){var i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}var s=r-1;return sh.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();Bf=$f||($f={}),Uf=Object.prototype.toString,Bf.defined=function(e){return void 0!==e},Bf.undefined=function(e){return void 0===e},Bf.boolean=function(e){return!0===e||!1===e},Bf.string=function(e){return"[object String]"===Uf.call(e)},Bf.number=function(e){return"[object Number]"===Uf.call(e)},Bf.func=function(e){return"[object Function]"===Uf.call(e)},Bf.objectLiteral=function(e){return null!==e&&"object"==typeof e},Bf.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},Ho(Wh);var Wf,Gf,Vf,zf,Qf,Kf,Jf,Yf,Xf,Zf,ed,td,rd,nd,id,sd,od,ad,cd,ud,ld,hd,fd,dd,pd,md,gd,yd,vd,_d,bd,Ed,wd,Td,Rd,Sd,Cd,Od,kd,Nd,Ad,Pd,Md,Id,Ld,Dd,xd,qd,jd,Fd,$d,Bd,Ud,Hd,Wd,Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});var Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});var zd=function(e){return!0===e||!1===e};function Qd(e){return"string"==typeof e||e instanceof String}Vd.boolean=zd;var Kd=Qd;Vd.string=Kd;var Jd=function(e){return"number"==typeof e||e instanceof Number};Vd.number=Jd;var Yd=function(e){return e instanceof Error};Vd.error=Yd;var Xd=function(e){return"function"==typeof e};function Zd(e){return Array.isArray(e)}Vd.func=Xd;var ep=Zd;Vd.array=ep;var tp=function(e){return Zd(e)&&e.every(e=>Qd(e))};Vd.stringArray=tp;var rp=function(e,t){return Array.isArray(e)&&e.every(t)};Vd.typedArray=rp;var np=function(e){return null!==e&&"object"==typeof e};Vd.objectLiteral=np;var ip={};Object.defineProperty(ip,"__esModule",{value:!0});class sp extends Jo.RequestType0{constructor(e){super(e)}}var op=sp;ip.ProtocolRequestType0=op;class ap extends Jo.RequestType{constructor(e){super(e)}}var cp=ap;ip.ProtocolRequestType=cp;class up extends Jo.NotificationType{constructor(e){super(e)}}var lp=up;ip.ProtocolNotificationType=lp;class hp extends Jo.NotificationType0{constructor(e){super(e)}}var fp=hp;ip.ProtocolNotificationType0=fp;var dp,pp={};var mp;Object.defineProperty(pp,"__esModule",{value:!0}),(mp=pp.ImplementationRequest||(dp={},pp.ImplementationRequest=dp)).method="textDocument/implementation",mp.type=new ip.ProtocolRequestType(mp.method),mp.resultType=new Jo.ProgressType;var gp=pp.ImplementationRequest;Gd.ImplementationRequest=gp;var yp,vp={};var _p;Object.defineProperty(vp,"__esModule",{value:!0}),(_p=vp.TypeDefinitionRequest||(yp={},vp.TypeDefinitionRequest=yp)).method="textDocument/typeDefinition",_p.type=new ip.ProtocolRequestType(_p.method),_p.resultType=new Jo.ProgressType;var bp=vp.TypeDefinitionRequest;Gd.TypeDefinitionRequest=bp;var Ep,wp,Tp={};Object.defineProperty(Tp,"__esModule",{value:!0}),(Tp.WorkspaceFoldersRequest||(Ep={},Tp.WorkspaceFoldersRequest=Ep)).type=new ip.ProtocolRequestType0("workspace/workspaceFolders"),(Tp.DidChangeWorkspaceFoldersNotification||(wp={},Tp.DidChangeWorkspaceFoldersNotification=wp)).type=new ip.ProtocolNotificationType("workspace/didChangeWorkspaceFolders");var Rp=Tp.WorkspaceFoldersRequest;Gd.WorkspaceFoldersRequest=Rp;var Sp=Tp.DidChangeWorkspaceFoldersNotification;Gd.DidChangeWorkspaceFoldersNotification=Sp;var Cp,Op={};Object.defineProperty(Op,"__esModule",{value:!0}),(Op.ConfigurationRequest||(Cp={},Op.ConfigurationRequest=Cp)).type=new ip.ProtocolRequestType("workspace/configuration");var kp=Op.ConfigurationRequest;Gd.ConfigurationRequest=kp;var Np,Ap,Pp,Mp={};Object.defineProperty(Mp,"__esModule",{value:!0}),(Pp=Mp.DocumentColorRequest||(Np={},Mp.DocumentColorRequest=Np)).method="textDocument/documentColor",Pp.type=new ip.ProtocolRequestType(Pp.method),Pp.resultType=new Jo.ProgressType,(Mp.ColorPresentationRequest||(Ap={},Mp.ColorPresentationRequest=Ap)).type=new ip.ProtocolRequestType("textDocument/colorPresentation");var Ip=Mp.DocumentColorRequest;Gd.DocumentColorRequest=Ip;var Lp=Mp.ColorPresentationRequest;Gd.ColorPresentationRequest=Lp;var Dp,xp,qp,jp={};Object.defineProperty(jp,"__esModule",{value:!0}),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(jp.FoldingRangeKind||(Dp={},jp.FoldingRangeKind=Dp)),(qp=jp.FoldingRangeRequest||(xp={},jp.FoldingRangeRequest=xp)).method="textDocument/foldingRange",qp.type=new ip.ProtocolRequestType(qp.method),qp.resultType=new Jo.ProgressType;var Fp=jp.FoldingRangeRequest;Gd.FoldingRangeRequest=Fp;var $p,Bp={};var Up;Object.defineProperty(Bp,"__esModule",{value:!0}),(Up=Bp.DeclarationRequest||($p={},Bp.DeclarationRequest=$p)).method="textDocument/declaration",Up.type=new ip.ProtocolRequestType(Up.method),Up.resultType=new Jo.ProgressType;var Hp=Bp.DeclarationRequest;Gd.DeclarationRequest=Hp;var Wp,Gp,Vp={};Object.defineProperty(Vp,"__esModule",{value:!0}),(Gp=Vp.SelectionRangeRequest||(Wp={},Vp.SelectionRangeRequest=Wp)).method="textDocument/selectionRange",Gp.type=new ip.ProtocolRequestType(Gp.method),Gp.resultType=new Jo.ProgressType;var zp=Vp.SelectionRangeRequest;Gd.SelectionRangeRequest=zp;var Qp,Kp,Jp,Yp={};Object.defineProperty(Yp,"__esModule",{value:!0}),(Yp.WorkDoneProgress||(Qp={},Yp.WorkDoneProgress=Qp)).type=new Jo.ProgressType,(Yp.WorkDoneProgressCreateRequest||(Kp={},Yp.WorkDoneProgressCreateRequest=Kp)).type=new ip.ProtocolRequestType("window/workDoneProgress/create"),(Yp.WorkDoneProgressCancelNotification||(Jp={},Yp.WorkDoneProgressCancelNotification=Jp)).type=new ip.ProtocolNotificationType("window/workDoneProgress/cancel");var Xp=Yp.WorkDoneProgress;Gd.WorkDoneProgress=Xp;var Zp=Yp.WorkDoneProgressCreateRequest;Gd.WorkDoneProgressCreateRequest=Zp;var em=Yp.WorkDoneProgressCancelNotification;var tm,rm,nm,im,sm,om,am,cm,um,lm,hm,fm,dm,pm,mm,gm,ym,vm,_m,bm,Em,wm,Tm,Rm,Sm,Cm,Om,km,Nm,Am,Pm,Mm,Im,Lm,Dm;Gd.WorkDoneProgressCancelNotification=em,(tm=Gd.DocumentFilter||(Wf={},Gd.DocumentFilter=Wf)).is=function(e){const t=e;return Vd.string(t.language)||Vd.string(t.scheme)||Vd.string(t.pattern)},(rm=Gd.DocumentSelector||(Gf={},Gd.DocumentSelector=Gf)).is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!Vd.string(t)&&!tm.is(t))return!1;return!0},(Gd.RegistrationRequest||(Vf={},Gd.RegistrationRequest=Vf)).type=new ip.ProtocolRequestType("client/registerCapability"),(Gd.UnregistrationRequest||(zf={},Gd.UnregistrationRequest=zf)).type=new ip.ProtocolRequestType("client/unregisterCapability"),(nm=Gd.ResourceOperationKind||(Qf={},Gd.ResourceOperationKind=Qf)).Create="create",nm.Rename="rename",nm.Delete="delete",(im=Gd.FailureHandlingKind||(Kf={},Gd.FailureHandlingKind=Kf)).Abort="abort",im.Transactional="transactional",im.TextOnlyTransactional="textOnlyTransactional",im.Undo="undo",(Gd.StaticRegistrationOptions||(Jf={},Gd.StaticRegistrationOptions=Jf)).hasId=function(e){const t=e;return t&&Vd.string(t.id)&&t.id.length>0},(Gd.TextDocumentRegistrationOptions||(Yf={},Gd.TextDocumentRegistrationOptions=Yf)).is=function(e){const t=e;return t&&(null===t.documentSelector||rm.is(t.documentSelector))},(sm=Gd.WorkDoneProgressOptions||(Xf={},Gd.WorkDoneProgressOptions=Xf)).is=function(e){const t=e;return Vd.objectLiteral(t)&&(void 0===t.workDoneProgress||Vd.boolean(t.workDoneProgress))},sm.hasWorkDoneProgress=function(e){const t=e;return t&&Vd.boolean(t.workDoneProgress)},(Gd.InitializeRequest||(Zf={},Gd.InitializeRequest=Zf)).type=new ip.ProtocolRequestType("initialize"),(Gd.InitializeError||(ed={},Gd.InitializeError=ed)).unknownProtocolVersion=1,(Gd.InitializedNotification||(td={},Gd.InitializedNotification=td)).type=new ip.ProtocolNotificationType("initialized"),(Gd.ShutdownRequest||(rd={},Gd.ShutdownRequest=rd)).type=new ip.ProtocolRequestType0("shutdown"),(Gd.ExitNotification||(nd={},Gd.ExitNotification=nd)).type=new ip.ProtocolNotificationType0("exit"),(Gd.DidChangeConfigurationNotification||(id={},Gd.DidChangeConfigurationNotification=id)).type=new ip.ProtocolNotificationType("workspace/didChangeConfiguration"),(om=Gd.MessageType||(sd={},Gd.MessageType=sd)).Error=1,om.Warning=2,om.Info=3,om.Log=4,(Gd.ShowMessageNotification||(od={},Gd.ShowMessageNotification=od)).type=new ip.ProtocolNotificationType("window/showMessage"),(Gd.ShowMessageRequest||(ad={},Gd.ShowMessageRequest=ad)).type=new ip.ProtocolRequestType("window/showMessageRequest"),(Gd.LogMessageNotification||(cd={},Gd.LogMessageNotification=cd)).type=new ip.ProtocolNotificationType("window/logMessage"),(Gd.TelemetryEventNotification||(ud={},Gd.TelemetryEventNotification=ud)).type=new ip.ProtocolNotificationType("telemetry/event"),(am=Gd.TextDocumentSyncKind||(ld={},Gd.TextDocumentSyncKind=ld)).None=0,am.Full=1,am.Incremental=2,(cm=Gd.DidOpenTextDocumentNotification||(hd={},Gd.DidOpenTextDocumentNotification=hd)).method="textDocument/didOpen",cm.type=new ip.ProtocolNotificationType(cm.method),(um=Gd.DidChangeTextDocumentNotification||(fd={},Gd.DidChangeTextDocumentNotification=fd)).method="textDocument/didChange",um.type=new ip.ProtocolNotificationType(um.method),(lm=Gd.DidCloseTextDocumentNotification||(dd={},Gd.DidCloseTextDocumentNotification=dd)).method="textDocument/didClose",lm.type=new ip.ProtocolNotificationType(lm.method),(hm=Gd.DidSaveTextDocumentNotification||(pd={},Gd.DidSaveTextDocumentNotification=pd)).method="textDocument/didSave",hm.type=new ip.ProtocolNotificationType(hm.method),(fm=Gd.TextDocumentSaveReason||(md={},Gd.TextDocumentSaveReason=md)).Manual=1,fm.AfterDelay=2,fm.FocusOut=3,(dm=Gd.WillSaveTextDocumentNotification||(gd={},Gd.WillSaveTextDocumentNotification=gd)).method="textDocument/willSave",dm.type=new ip.ProtocolNotificationType(dm.method),(pm=Gd.WillSaveTextDocumentWaitUntilRequest||(yd={},Gd.WillSaveTextDocumentWaitUntilRequest=yd)).method="textDocument/willSaveWaitUntil",pm.type=new ip.ProtocolRequestType(pm.method),(Gd.DidChangeWatchedFilesNotification||(vd={},Gd.DidChangeWatchedFilesNotification=vd)).type=new ip.ProtocolNotificationType("workspace/didChangeWatchedFiles"),(mm=Gd.FileChangeType||(_d={},Gd.FileChangeType=_d)).Created=1,mm.Changed=2,mm.Deleted=3,(gm=Gd.WatchKind||(bd={},Gd.WatchKind=bd)).Create=1,gm.Change=2,gm.Delete=4,(Gd.PublishDiagnosticsNotification||(Ed={},Gd.PublishDiagnosticsNotification=Ed)).type=new ip.ProtocolNotificationType("textDocument/publishDiagnostics"),(ym=Gd.CompletionTriggerKind||(wd={},Gd.CompletionTriggerKind=wd)).Invoked=1,ym.TriggerCharacter=2,ym.TriggerForIncompleteCompletions=3,(vm=Gd.CompletionRequest||(Td={},Gd.CompletionRequest=Td)).method="textDocument/completion",vm.type=new ip.ProtocolRequestType(vm.method),vm.resultType=new Jo.ProgressType,(_m=Gd.CompletionResolveRequest||(Rd={},Gd.CompletionResolveRequest=Rd)).method="completionItem/resolve",_m.type=new ip.ProtocolRequestType(_m.method),(bm=Gd.HoverRequest||(Sd={},Gd.HoverRequest=Sd)).method="textDocument/hover",bm.type=new ip.ProtocolRequestType(bm.method),(Em=Gd.SignatureHelpTriggerKind||(Cd={},Gd.SignatureHelpTriggerKind=Cd)).Invoked=1,Em.TriggerCharacter=2,Em.ContentChange=3,(wm=Gd.SignatureHelpRequest||(Od={},Gd.SignatureHelpRequest=Od)).method="textDocument/signatureHelp",wm.type=new ip.ProtocolRequestType(wm.method),(Tm=Gd.DefinitionRequest||(kd={},Gd.DefinitionRequest=kd)).method="textDocument/definition",Tm.type=new ip.ProtocolRequestType(Tm.method),Tm.resultType=new Jo.ProgressType,(Rm=Gd.ReferencesRequest||(Nd={},Gd.ReferencesRequest=Nd)).method="textDocument/references",Rm.type=new ip.ProtocolRequestType(Rm.method),Rm.resultType=new Jo.ProgressType,(Sm=Gd.DocumentHighlightRequest||(Ad={},Gd.DocumentHighlightRequest=Ad)).method="textDocument/documentHighlight",Sm.type=new ip.ProtocolRequestType(Sm.method),Sm.resultType=new Jo.ProgressType,(Cm=Gd.DocumentSymbolRequest||(Pd={},Gd.DocumentSymbolRequest=Pd)).method="textDocument/documentSymbol",Cm.type=new ip.ProtocolRequestType(Cm.method),Cm.resultType=new Jo.ProgressType,(Om=Gd.CodeActionRequest||(Md={},Gd.CodeActionRequest=Md)).method="textDocument/codeAction",Om.type=new ip.ProtocolRequestType(Om.method),Om.resultType=new Jo.ProgressType,(km=Gd.WorkspaceSymbolRequest||(Id={},Gd.WorkspaceSymbolRequest=Id)).method="workspace/symbol",km.type=new ip.ProtocolRequestType(km.method),km.resultType=new Jo.ProgressType,(Nm=Gd.CodeLensRequest||(Ld={},Gd.CodeLensRequest=Ld)).type=new ip.ProtocolRequestType("textDocument/codeLens"),Nm.resultType=new Jo.ProgressType,(Gd.CodeLensResolveRequest||(Dd={},Gd.CodeLensResolveRequest=Dd)).type=new ip.ProtocolRequestType("codeLens/resolve"),(Am=Gd.DocumentLinkRequest||(xd={},Gd.DocumentLinkRequest=xd)).method="textDocument/documentLink",Am.type=new ip.ProtocolRequestType(Am.method),Am.resultType=new Jo.ProgressType,(Gd.DocumentLinkResolveRequest||(qd={},Gd.DocumentLinkResolveRequest=qd)).type=new ip.ProtocolRequestType("documentLink/resolve"),(Pm=Gd.DocumentFormattingRequest||(jd={},Gd.DocumentFormattingRequest=jd)).method="textDocument/formatting",Pm.type=new ip.ProtocolRequestType(Pm.method),(Mm=Gd.DocumentRangeFormattingRequest||(Fd={},Gd.DocumentRangeFormattingRequest=Fd)).method="textDocument/rangeFormatting",Mm.type=new ip.ProtocolRequestType(Mm.method),(Im=Gd.DocumentOnTypeFormattingRequest||($d={},Gd.DocumentOnTypeFormattingRequest=$d)).method="textDocument/onTypeFormatting",Im.type=new ip.ProtocolRequestType(Im.method),(Lm=Gd.RenameRequest||(Bd={},Gd.RenameRequest=Bd)).method="textDocument/rename",Lm.type=new ip.ProtocolRequestType(Lm.method),(Dm=Gd.PrepareRenameRequest||(Ud={},Gd.PrepareRenameRequest=Ud)).method="textDocument/prepareRename",Dm.type=new ip.ProtocolRequestType(Dm.method),(Gd.ExecuteCommandRequest||(Hd={},Gd.ExecuteCommandRequest=Hd)).type=new ip.ProtocolRequestType("workspace/executeCommand"),(Gd.ApplyWorkspaceEditRequest||(Wd={},Gd.ApplyWorkspaceEditRequest=Wd)).type=new ip.ProtocolRequestType("workspace/applyEdit"),Ho(Gd);var xm,qm,jm,Fm,$m,Bm,Um={};Object.defineProperty(Um,"__esModule",{value:!0}),(Fm=Um.CallHierarchyPrepareRequest||(xm={},Um.CallHierarchyPrepareRequest=xm)).method="textDocument/prepareCallHierarchy",Fm.type=new ip.ProtocolRequestType(Fm.method),($m=Um.CallHierarchyIncomingCallsRequest||(qm={},Um.CallHierarchyIncomingCallsRequest=qm)).method="callHierarchy/incomingCalls",$m.type=new ip.ProtocolRequestType($m.method),(Bm=Um.CallHierarchyOutgoingCallsRequest||(jm={},Um.CallHierarchyOutgoingCallsRequest=jm)).method="callHierarchy/outgoingCalls",Bm.type=new ip.ProtocolRequestType(Bm.method);var Hm,Wm,Gm,Vm,zm,Qm,Km,Jm,Ym,Xm,Zm,eg={};Object.defineProperty(eg,"__esModule",{value:!0}),(Km=eg.SemanticTokenTypes||(Hm={},eg.SemanticTokenTypes=Hm)).comment="comment",Km.keyword="keyword",Km.string="string",Km.number="number",Km.regexp="regexp",Km.operator="operator",Km.namespace="namespace",Km.type="type",Km.struct="struct",Km.class="class",Km.interface="interface",Km.enum="enum",Km.typeParameter="typeParameter",Km.function="function",Km.member="member",Km.property="property",Km.macro="macro",Km.variable="variable",Km.parameter="parameter",Km.label="label",(Jm=eg.SemanticTokenModifiers||(Wm={},eg.SemanticTokenModifiers=Wm)).documentation="documentation",Jm.declaration="declaration",Jm.definition="definition",Jm.reference="reference",Jm.static="static",Jm.abstract="abstract",Jm.deprecated="deprecated",Jm.async="async",Jm.volatile="volatile",Jm.readonly="readonly",(eg.SemanticTokens||(Gm={},eg.SemanticTokens=Gm)).is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])},(Ym=eg.SemanticTokensRequest||(Vm={},eg.SemanticTokensRequest=Vm)).method="textDocument/semanticTokens",Ym.type=new ip.ProtocolRequestType(Ym.method),(Xm=eg.SemanticTokensEditsRequest||(zm={},eg.SemanticTokensEditsRequest=zm)).method="textDocument/semanticTokens/edits",Xm.type=new ip.ProtocolRequestType(Xm.method),(Zm=eg.SemanticTokensRangeRequest||(Qm={},eg.SemanticTokensRangeRequest=Qm)).method="textDocument/semanticTokens/range",Zm.type=new ip.ProtocolRequestType(Zm.method),function(e){let t,r,n,i,s,o;!function(e){e.method=Um.CallHierarchyPrepareRequest.method,e.type=Um.CallHierarchyPrepareRequest.type}(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})),function(e){e.method=Um.CallHierarchyIncomingCallsRequest.method,e.type=Um.CallHierarchyIncomingCallsRequest.type}(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})),function(e){e.method=Um.CallHierarchyOutgoingCallsRequest.method,e.type=Um.CallHierarchyOutgoingCallsRequest.type}(n=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),e.SemanticTokenTypes=eg.SemanticTokenTypes,e.SemanticTokenModifiers=eg.SemanticTokenModifiers,e.SemanticTokens=eg.SemanticTokens,function(e){e.method=eg.SemanticTokensRequest.method,e.type=eg.SemanticTokensRequest.type}(i=e.SemanticTokensRequest||(e.SemanticTokensRequest={})),function(e){e.method=eg.SemanticTokensEditsRequest.method,e.type=eg.SemanticTokensEditsRequest.type}(s=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={})),function(e){e.method=eg.SemanticTokensRangeRequest.method,e.type=eg.SemanticTokensRangeRequest.type}(o=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))}(Uo.Proposed||(Bo={},Uo.Proposed=Bo));var tg=function(e,t,r,n){return Jo.createMessageConnection(e,t,r,n)};Uo.createProtocolConnection=tg;var rg=Uo.Event;$o.Event=rg;var ng={};Object.defineProperty(ng,"__esModule",{value:!0});var ig={};Object.defineProperty(ig,"__esModule",{value:!0});var sg=function(e){return!0===e||!1===e};function og(e){return"string"==typeof e||e instanceof String}ig.boolean=sg;var ag=og;ig.string=ag;var cg=function(e){return"number"==typeof e||e instanceof Number};ig.number=cg;var ug=function(e){return e instanceof Error};function lg(e){return"function"==typeof e}ig.error=ug;var hg=lg;function fg(e){return Array.isArray(e)}ig.func=hg;var dg=fg;ig.array=dg;var pg=function(e){return fg(e)&&e.every(e=>og(e))};ig.stringArray=pg;var mg=function(e,t){return Array.isArray(e)&&e.every(t)};ig.typedArray=mg;var gg=function(e){return e&&lg(e.then)};ig.thenable=gg;ng.ConfigurationFeature=e=>class extends e{getConfiguration(e){return e?ig.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Uo.ConfigurationRequest.type,t).then(t=>Array.isArray(e)?t:t[0])}};var yg={};Object.defineProperty(yg,"__esModule",{value:!0});yg.WorkspaceFoldersFeature=e=>class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Uo.Emitter,this.connection.onNotification(Uo.DidChangeWorkspaceFoldersNotification.type,e=>{this._onDidChangeWorkspaceFolders.fire(e.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Uo.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Uo.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};var vg={};Object.defineProperty(vg,"__esModule",{value:!0});var _g={};Object.defineProperty(_g,"__esModule",{value:!0});class bg{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class Eg extends bg{constructor(){super([Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),"-",Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),"-","4",Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),"-",Eg._oneOf(Eg._timeHighBits),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),"-",Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex(),Eg._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Eg._oneOf(Eg._chars)}}Eg._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],Eg._timeHighBits=["8","9","a","b"];var wg=new bg("00000000-0000-0000-0000-000000000000");function Tg(){return new Eg}_g.empty=wg;var Rg=Tg;_g.v4=Rg;const Sg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Cg(e){return Sg.test(e)}var Og=Cg;_g.isUUID=Og;var kg=function(e){if(!Cg(e))throw new Error("invalid uuid");return new bg(e)};_g.parse=kg;var Ng=function(){return Tg().asHex()};_g.generateUuid=Ng;class Ag{constructor(e,t){this._connection=e,this._token=t,Ag.Instances.set(this._token,this),this._source=new Uo.CancellationTokenSource}get token(){return this._source.token}begin(e,t,r,n){let i={kind:"begin",title:e,percentage:t,message:r,cancellable:n};this._connection.sendProgress(Uo.WorkDoneProgress.type,this._token,i)}report(e,t){let r={kind:"report"};"number"==typeof e?(r.percentage=e,void 0!==t&&(r.message=t)):r.message=e,this._connection.sendProgress(Uo.WorkDoneProgress.type,this._token,r)}done(){Ag.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(Uo.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}}Ag.Instances=new Map;class Pg{constructor(){this._source=new Uo.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}}var Mg=function(e,t){if(void 0===t||void 0===t.workDoneToken)return new Pg;const r=t.workDoneToken;return delete t.workDoneToken,new Ag(e,r)};vg.attachWorkDone=Mg;var Ig;vg.ProgressFeature=e=>class extends e{initialize(e){var t;!0===(null===(t=null==e?void 0:e.window)||void 0===t?void 0:t.workDoneProgress)&&(this._progressSupported=!0,this.connection.onNotification(Uo.WorkDoneProgressCancelNotification.type,e=>{let t=Ag.Instances.get(e.token);void 0!==t&&t.cancel()}))}attachWorkDoneProgress(e){return void 0===e?new Pg:new Ag(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=_g.generateUuid();return this.connection.sendRequest(Uo.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Ag(this.connection,e))}return Promise.resolve(new Pg)}},(Ig||(Ig={})).type=new Uo.ProgressType;class Lg{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(Ig.type,this._token,e)}}var Dg=function(e,t){if(void 0===t||void 0===t.partialResultToken)return;const r=t.partialResultToken;return delete t.partialResultToken,new Lg(e,r)};vg.attachPartialResult=Dg,function(e){for(var t in e)$o.hasOwnProperty(t)||($o[t]=e[t])}(Uo);var xg,qg={};Object.defineProperty(qg,"__esModule",{value:!0});const jg=u,Fg=d,$g=h,Bg=n;var Ug=function(e){let t=jg.parse(e);if("file:"!==t.protocol||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if("win32"===process.platform&&r.length>1){let e=r[0],t=r[1];0===e.length&&t.length>1&&":"===t[1]&&r.shift()}return Fg.normalize(r.join("/"))};function Hg(){return"win32"===process.platform}function Wg(e,t,r,n){const i=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((s,o)=>{let a=process.env,c=Object.create(null);Object.keys(a).forEach(e=>c[e]=a[e]),t&&$g.existsSync(t)&&(c.NODE_PATH?c.NODE_PATH=t+Fg.delimiter+c.NODE_PATH:c.NODE_PATH=t,n&&n("NODE_PATH value is: "+c.NODE_PATH)),c.ELECTRON_RUN_AS_NODE="1";try{let t=Bg.fork("",[],{cwd:r,env:c,execArgv:["-e",i]});if(void 0===t.pid)return void o(new Error(`Starting process to resolve node module  ${e} failed`));t.on("error",e=>{o(e)}),t.on("message",r=>{"r"===r.c&&(t.send({c:"e"}),r.s?s(r.r):o(new Error("Failed to resolve module: "+e)))});let n={c:"rs",a:e};t.send(n)}catch(e){o(e)}})}qg.uriToFilePath=Ug;var Gg=Wg;function Vg(e){let t="npm";const r=Object.create(null);Object.keys(process.env).forEach(e=>r[e]=process.env[e]),r.NO_UPDATE_NOTIFIER="true";const n={encoding:"utf8",env:r};Hg()&&(t="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let r=Bg.spawnSync(t,["config","get","prefix"],n).stdout;if(!r)return void(e&&e("'npm config get prefix' didn't return a value."));let s=r.trim();return e&&e("'npm config get prefix' value is: "+s),s.length>0?Hg()?Fg.join(s,"node_modules"):Fg.join(s,"lib","node_modules"):void 0}catch(e){return}finally{process.removeListener("SIGPIPE",i)}}qg.resolve=Gg;var zg=Vg;qg.resolveGlobalNodePath=zg;var Qg,Kg=function(e){let t="yarn",r={encoding:"utf8"};Hg()&&(t="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=Bg.spawnSync(t,["global","dir","--json"],r),s=i.stdout;if(!s)return void(e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr)));let o=s.trim().split(/\r?\n/);for(let e of o)try{let t=JSON.parse(e);if("log"===t.type)return Fg.join(t.data,"node_modules")}catch(e){}return}catch(e){return}finally{process.removeListener("SIGPIPE",n)}};qg.resolveGlobalYarnPath=Kg,function(e){let t=void 0;function r(){return void 0!==t||(t="win32"!==process.platform&&(!$g.existsSync(__filename.toUpperCase())||!$g.existsSync(__filename.toLowerCase()))),t}e.isCaseSensitive=r,e.isParent=function(e,t){return r()?0===Fg.normalize(t).indexOf(Fg.normalize(e)):0===Fg.normalize(t).toLowerCase().indexOf(Fg.normalize(e).toLowerCase())}}(Qg=qg.FileSystem||(xg={},qg.FileSystem=xg));var Jg,Yg=function(e,t,r,n){return r?(Fg.isAbsolute(r)||(r=Fg.join(e,r)),Wg(t,r,r,n).then(e=>Qg.isParent(r,e)?e:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,r=>Wg(t,Vg(n),e,n))):Wg(t,Vg(n),e,n)};qg.resolveModulePath=Yg,(Jg=$o.Files||(xo={},$o.Files=xo)).uriToFilePath=qg.uriToFilePath,Jg.resolveGlobalNodePath=qg.resolveGlobalNodePath,Jg.resolveGlobalYarnPath=qg.resolveGlobalYarnPath,Jg.resolve=qg.resolve,Jg.resolveModulePath=qg.resolveModulePath;let Xg=!1,Zg=void 0;function ey(e){if(null!==e)return e}!function(){function e(e){try{let t=parseInt(e);isNaN(t)||(Zg=setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(Xg?0:1)}},3e3))}catch(e){}}for(let t=2;t<process.argv.length;t++){let r=process.argv[t];if("--clientProcessId"===r&&t+1<process.argv.length)return void e(process.argv[t+1]);{let t=r.split("=");"--clientProcessId"===t[0]&&e(t[1])}}}();var ty=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new Uo.Emitter,this._onDidOpen=new Uo.Emitter,this._onDidClose=new Uo.Emitter,this._onDidSave=new Uo.Emitter,this._onWillSave=new Uo.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=Uo.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(e=>{let t=e.textDocument,r=this._configuration.create(t.uri,t.languageId,t.version,t.text);this._documents[t.uri]=r;let n=Object.freeze({document:r});this._onDidOpen.fire(n),this._onDidChangeContent.fire(n)}),e.onDidChangeTextDocument(e=>{let t=e.textDocument,r=e.contentChanges;if(0===r.length)return;let n=this._documents[t.uri];const{version:i}=t;if(null==i)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);n=this._configuration.update(n,r,i),this._documents[t.uri]=n,this._onDidChangeContent.fire(Object.freeze({document:n}))}),e.onDidCloseTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))}),e.onWillSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))}),e.onWillSaveTextDocumentWaitUntil((e,t)=>{let r=this._documents[e.textDocument.uri];return r&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:r,reason:e.reason}),t):[]}),e.onDidSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))})}};$o.TextDocuments=ty;var ry=class{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach(t=>{e.window.showErrorMessage(t)})}};$o.ErrorMessageTracker=ry;class ny{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(Uo.MessageType.Error,e)}warn(e){this.send(Uo.MessageType.Warning,e)}info(e){this.send(Uo.MessageType.Info,e)}log(e){this.send(Uo.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(Uo.LogMessageNotification.type,{type:e,message:t})}}const iy=vg.ProgressFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let r={type:Uo.MessageType.Error,message:e,actions:t};return this._connection.sendRequest(Uo.ShowMessageRequest.type,r).then(ey)}showWarningMessage(e,...t){let r={type:Uo.MessageType.Warning,message:e,actions:t};return this._connection.sendRequest(Uo.ShowMessageRequest.type,r).then(ey)}showInformationMessage(e,...t){let r={type:Uo.MessageType.Info,message:e,actions:t};return this._connection.sendRequest(Uo.ShowMessageRequest.type,r).then(ey)}});($o.BulkRegistration||(qo={},$o.BulkRegistration=qo)).create=function(){return new sy};class sy{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const r=ig.string(e)?e:e.method;if(this._registered.has(r))throw new Error(r+" is already added to this registration");const n=_g.generateUuid();this._registrations.push({id:n,method:r,registerOptions:t||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}($o.BulkUnregistration||(jo={},$o.BulkUnregistration=jo)).create=function(){return new oy(void 0,[])};class oy{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach(e=>{this._unregistrations.set(e.method,e)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let t={unregisterations:e};this._connection.sendRequest(Uo.UnregistrationRequest.type,t).then(void 0,e=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const t=ig.string(e)?e:e.method,r=this._unregistrations.get(t);if(!r)return!1;let n={unregisterations:[r]};return this._connection.sendRequest(Uo.UnregistrationRequest.type,n).then(()=>{this._unregistrations.delete(t)},e=>{this._connection.console.info(`Unregistering request handler for ${r.id} failed.`)}),!0}}class ay{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,r){return e instanceof sy?this.registerMany(e):e instanceof oy?this.registerSingle1(e,t,r):this.registerSingle2(e,t)}registerSingle1(e,t,r){const n=ig.string(t)?t:t.method,i=_g.generateUuid();let s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return e.isAttached||e.attach(this._connection),this._connection.sendRequest(Uo.RegistrationRequest.type,s).then(t=>(e.add({id:i,method:n}),e),e=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(e)))}registerSingle2(e,t){const r=ig.string(e)?e:e.method,n=_g.generateUuid();let i={registrations:[{id:n,method:r,registerOptions:t||{}}]};return this._connection.sendRequest(Uo.RegistrationRequest.type,i).then(e=>Uo.Disposable.create(()=>{this.unregisterSingle(n,r)}),e=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(e)))}unregisterSingle(e,t){let r={unregisterations:[{id:e,method:t}]};return this._connection.sendRequest(Uo.UnregistrationRequest.type,r).then(void 0,t=>{this.connection.console.info(`Unregistering request handler for ${e} failed.`)})}registerMany(e){let t=e.asRegistrationParams();return this._connection.sendRequest(Uo.RegistrationRequest.type,t).then(()=>new oy(this._connection,t.registrations.map(e=>({id:e.id,method:e.method}))),e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e)))}}const cy=yg.WorkspaceFoldersFeature(ng.ConfigurationFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let t=(r=e)&&r.edit?e:{edit:e};var r;return this._connection.sendRequest(Uo.ApplyWorkspaceEditRequest.type,t)}}));class uy{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this._connection.sendNotification(Uo.TelemetryEventNotification.type,e)}}class ly{constructor(){this._trace=Uo.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){this._trace!==Uo.Trace.Off&&this._connection.sendNotification(Uo.LogTraceNotification.type,{message:e,verbose:this._trace===Uo.Trace.Verbose?t:void 0})}}class hy{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return vg.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return vg.attachPartialResult(this.connection,t)}}var fy=hy;function dy(e,t){return function(r){return t(e(r))}}$o.LanguagesImpl=fy;var py=dy;function my(e,t){return function(r){return t(e(r))}}$o.combineConsoleFeatures=py;var gy=my;function yy(e,t){return function(r){return t(e(r))}}$o.combineTelemetryFeatures=gy;var vy=yy;function _y(e,t){return function(r){return t(e(r))}}$o.combineTracerFeatures=vy;var by=_y;function Ey(e,t){return function(r){return t(e(r))}}$o.combineClientFeatures=by;var wy=Ey;function Ty(e,t){return function(r){return t(e(r))}}$o.combineWindowFeatures=wy;var Ry=Ty;function Sy(e,t){return function(r){return t(e(r))}}$o.combineWorkspaceFeatures=Ry;var Cy=Sy;$o.combineLanguagesFeatures=Cy;var Oy=function(e,t){function r(e,t,r){return e&&t?r(e,t):e||t}return{__brand:"features",console:r(e.console,t.console,dy),tracer:r(e.tracer,t.tracer,yy),telemetry:r(e.telemetry,t.telemetry,my),client:r(e.client,t.client,_y),window:r(e.window,t.window,Ey),workspace:r(e.workspace,t.workspace,Ty)}};$o.combineFeatures=Oy;var ky=function(e,t,r,n){let i,s,o,a;return void 0!==e&&"features"===e.__brand&&(i=e,e=t,t=r,r=n),Uo.ConnectionStrategy.is(e)?a=e:(s=e,o=t,a=r),function(e,t,r,n){if(!e&&!t&&process.argv.length>2){let r=void 0,n=void 0,s=process.argv.slice(2);for(let o=0;o<s.length;o++){let a=s[o];if("--node-ipc"===a){e=new Uo.IPCMessageReader(process),t=new Uo.IPCMessageWriter(process);break}if("--stdio"===a){e=process.stdin,t=process.stdout;break}if("--socket"===a){r=parseInt(s[o+1]);break}if("--pipe"===a){n=s[o+1];break}var i=a.split("=");if("--socket"===i[0]){r=parseInt(i[1]);break}if("--pipe"===i[0]){n=i[1];break}}if(r){let n=Uo.createServerSocketTransport(r);e=n[0],t=n[1]}else if(n){let r=Uo.createServerPipeTransport(n);e=r[0],t=r[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(ig.func(e.read)&&ig.func(e.on)){let t=e;t.on("end",()=>{process.exit(Xg?0:1)}),t.on("close",()=>{process.exit(Xg?0:1)})}const o=n&&n.console?new(n.console(ny)):new ny,a=Uo.createProtocolConnection(e,t,o,r);o.rawAttach(a);const c=n&&n.tracer?new(n.tracer(ly)):new ly,u=n&&n.telemetry?new(n.telemetry(uy)):new uy,l=n&&n.client?new(n.client(ay)):new ay,h=n&&n.window?new(n.window(iy)):new iy,f=n&&n.workspace?new(n.workspace(cy)):new cy,d=n&&n.languages?new(n.languages(hy)):new hy,p=[o,c,u,l,h,f,d];function m(e){return e instanceof Promise?e:ig.thenable(e)?new Promise((t,r)=>{e.then(e=>t(e),e=>r(e))}):Promise.resolve(e)}let g=void 0,y=void 0,v=void 0,_={listen:()=>a.listen(),sendRequest:(e,...t)=>a.sendRequest(ig.string(e)?e:e.method,...t),onRequest:(e,t)=>a.onRequest(e,t),sendNotification:(e,t)=>{const r=ig.string(e)?e:e.method;1===arguments.length?a.sendNotification(r):a.sendNotification(r,t)},onNotification:(e,t)=>a.onNotification(e,t),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:e=>y=e,onInitialized:e=>a.onNotification(Uo.InitializedNotification.type,e),onShutdown:e=>g=e,onExit:e=>v=e,get console(){return o},get telemetry(){return u},get tracer(){return c},get client(){return l},get window(){return h},get workspace(){return f},get languages(){return d},onDidChangeConfiguration:e=>a.onNotification(Uo.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>a.onNotification(Uo.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>a.onNotification(Uo.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>a.onNotification(Uo.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>a.onNotification(Uo.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>a.onNotification(Uo.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>a.onRequest(Uo.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>a.onNotification(Uo.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>a.sendNotification(Uo.PublishDiagnosticsNotification.type,e),onHover:e=>a.onRequest(Uo.HoverRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),void 0)),onCompletion:e=>a.onRequest(Uo.CompletionRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onCompletionResolve:e=>a.onRequest(Uo.CompletionResolveRequest.type,e),onSignatureHelp:e=>a.onRequest(Uo.SignatureHelpRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),void 0)),onDeclaration:e=>a.onRequest(Uo.DeclarationRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onDefinition:e=>a.onRequest(Uo.DefinitionRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onTypeDefinition:e=>a.onRequest(Uo.TypeDefinitionRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onImplementation:e=>a.onRequest(Uo.ImplementationRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onReferences:e=>a.onRequest(Uo.ReferencesRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onDocumentHighlight:e=>a.onRequest(Uo.DocumentHighlightRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onDocumentSymbol:e=>a.onRequest(Uo.DocumentSymbolRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onWorkspaceSymbol:e=>a.onRequest(Uo.WorkspaceSymbolRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onCodeAction:e=>a.onRequest(Uo.CodeActionRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onCodeLens:e=>a.onRequest(Uo.CodeLensRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onCodeLensResolve:e=>a.onRequest(Uo.CodeLensResolveRequest.type,(t,r)=>e(t,r)),onDocumentFormatting:e=>a.onRequest(Uo.DocumentFormattingRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),void 0)),onDocumentRangeFormatting:e=>a.onRequest(Uo.DocumentRangeFormattingRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),void 0)),onDocumentOnTypeFormatting:e=>a.onRequest(Uo.DocumentOnTypeFormattingRequest.type,(t,r)=>e(t,r)),onRenameRequest:e=>a.onRequest(Uo.RenameRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),void 0)),onPrepareRename:e=>a.onRequest(Uo.PrepareRenameRequest.type,(t,r)=>e(t,r)),onDocumentLinks:e=>a.onRequest(Uo.DocumentLinkRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onDocumentLinkResolve:e=>a.onRequest(Uo.DocumentLinkResolveRequest.type,(t,r)=>e(t,r)),onDocumentColor:e=>a.onRequest(Uo.DocumentColorRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onColorPresentation:e=>a.onRequest(Uo.ColorPresentationRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onFoldingRanges:e=>a.onRequest(Uo.FoldingRangeRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onSelectionRanges:e=>a.onRequest(Uo.SelectionRangeRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),vg.attachPartialResult(a,t))),onExecuteCommand:e=>a.onRequest(Uo.ExecuteCommandRequest.type,(t,r)=>e(t,r,vg.attachWorkDone(a,t),void 0)),dispose:()=>a.dispose()};for(let e of p)e.attach(_);return a.onRequest(Uo.InitializeRequest.type,e=>{const t=e.processId;ig.number(t)&&void 0===Zg&&setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(Xg?0:1)}},3e3),ig.string(e.trace)&&(c.trace=Uo.Trace.fromString(e.trace));for(let t of p)t.initialize(e.capabilities);if(y){return m(y(e,(new Uo.CancellationTokenSource).token,vg.attachWorkDone(a,e),void 0)).then(e=>{if(e instanceof Uo.ResponseError)return e;let t=e;t||(t={capabilities:{}});let r=t.capabilities;r||(r={},t.capabilities=r),void 0===r.textDocumentSync||null===r.textDocumentSync?r.textDocumentSync=ig.number(_.__textDocumentSync)?_.__textDocumentSync:Uo.TextDocumentSyncKind.None:ig.number(r.textDocumentSync)||ig.number(r.textDocumentSync.change)||(r.textDocumentSync.change=ig.number(_.__textDocumentSync)?_.__textDocumentSync:Uo.TextDocumentSyncKind.None);for(let e of p)e.fillServerCapabilities(r);return t})}{let e={capabilities:{textDocumentSync:Uo.TextDocumentSyncKind.None}};for(let t of p)t.fillServerCapabilities(e.capabilities);return e}}),a.onRequest(Uo.ShutdownRequest.type,()=>(Xg=!0,g?g((new Uo.CancellationTokenSource).token):void 0)),a.onNotification(Uo.ExitNotification.type,()=>{try{v&&v()}finally{Xg?process.exit(0):process.exit(1)}}),a.onNotification(Uo.SetTraceNotification.type,e=>{c.trace=Uo.Trace.fromString(e.value)}),_}(s,o,a,i)};$o.createConnection=ky;var Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Uo.Proposed.CallHierarchyPrepareRequest.type,(t,r)=>e(t,r,this.attachWorkDoneProgress(t),void 0))},onIncomingCalls:e=>{const t=Uo.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(t,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r)))},onOutgoingCalls:e=>{const t=Uo.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(t,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r)))}}}};var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:e=>{const t=Uo.Proposed.SemanticTokensRequest.type;this.connection.onRequest(t,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r)))},onEdits:e=>{const t=Uo.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(t,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r)))},onRange:e=>{const t=Uo.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(t,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r)))}}}};var Py,My=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,r,n,i){let s=e,o=t;this._dataLen>0&&(s-=this._prevLine,0===s&&(o-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){if(void 0!==this._prevData){const e=this._prevData.length,t=this._data.length;let r=0;for(;r<t&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<t&&r<e){let n=0;for(;n<t&&n<e&&this._prevData[e-1-n]===this._data[t-1-n];)n++;const i=this._data.slice(r,t-n);return{resultId:this.id,edits:[{start:r,deleteCount:e-n-r,data:i}]}}return r<t?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}return this.build()}};Ay.SemanticTokensBuilder=My,(Py=$o.ProposedFeatures||(Fo={},$o.ProposedFeatures=Fo)).all={__brand:"features",languages:Sy(Ny.CallHierarchyFeature,Ay.SemanticTokensFeature)},Py.SemanticTokensBuilder=Ay.SemanticTokensBuilder;class Iy extends $o.ResponseError{constructor(e,t,r){super(e,t,r)}}Do=Iy,Lo.NotifyResponseError=Do;var Ly=Iy;Lo.default=Ly;const Dy=Mo(Lo);var xy={};Object.defineProperty(xy,"__esModule",{value:!0});var qy=(jy=void 0,xy.ElectronNotSupportedNotification=jy);xy.MissingModuleNotification=qy;var jy="Core/electronNotSupported";xy.ElectronNotSupportedNotification=jy,qy="Core/missingModule",xy.MissingModuleNotification=qy;class Fy extends Dy.default{constructor(e="Electron is not supported. You should enable 'sqltools.useNodeRuntime' and have NodeJS installed to continue."){super(1001,e,{notification:xy.ElectronNotSupportedNotification,dontNotify:!0})}}Io=Fy,Po.ElectronNotSupportedError=Io;var $y=Fy;Po.default=$y;const By=Ao(Po);var Uy={},Hy=Uy&&Uy.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uy,"__esModule",{value:!0});var Wy=void 0;Uy.MissingModuleError=Wy;const Gy=Hy(Lo);class Vy extends Gy.default{constructor(e,t,r=!1){super(1e3,`Missing module "${e.map((t,r)=>`${t.name}@${t.version||"latest"}${r===e.length-2?" and ":r===e.length-1?"":", "}`).join("")}". Need to ${r?"upgrade":"install"}.`,{notification:xy.MissingModuleNotification,dontNotify:!0,args:{conn:t,action:r?"upgrade":"install",deps:e}})}}Wy=Vy,Uy.MissingModuleError=Wy;var zy=Vy;Uy.default=zy;const Qy=Ao(Uy);var Ky={},Jy=Ky&&Ky.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Yy=Ky&&Ky.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xy=Ky&&Ky.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&Jy(t,e,r);return Yy(t,e),t},Zy=Ky&&Ky.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ky,"__esModule",{value:!0});var ev=void 0;Ky.sqltoolsResolve=ev;var tv={};const rv=d,nv=i,iv=nv.homedir(),sv=nv.tmpdir(),{env:ov}=process,av=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected string, got "+typeof e);return(t=Object.assign({suffix:"nodejs"},t)).suffix&&(e+="-"+t.suffix),"darwin"===process.platform?(e=>{const t=rv.join(iv,"Library");return{data:rv.join(t,"Application Support",e),config:rv.join(t,"Preferences",e),cache:rv.join(t,"Caches",e),log:rv.join(t,"Logs",e),temp:rv.join(sv,e)}})(e):"win32"===process.platform?(e=>{const t=ov.APPDATA||rv.join(iv,"AppData","Roaming"),r=ov.LOCALAPPDATA||rv.join(iv,"AppData","Local");return{data:rv.join(r,e,"Data"),config:rv.join(t,e,"Config"),cache:rv.join(r,e,"Cache"),log:rv.join(r,e,"Log"),temp:rv.join(sv,e)}})(e):(e=>{const t=rv.basename(iv);return{data:rv.join(ov.XDG_DATA_HOME||rv.join(iv,".local","share"),e),config:rv.join(ov.XDG_CONFIG_HOME||rv.join(iv,".config"),e),cache:rv.join(ov.XDG_CACHE_HOME||rv.join(iv,".cache"),e),log:rv.join(ov.XDG_STATE_HOME||rv.join(iv,".local","state"),e),temp:rv.join(sv,t,e)}})(e)};(tv=av).default=av;const cv=Zy(tv),uv=Zy(d),lv=Zy(h);var hv,fv,dv={},pv=h,mv=d;fv=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=(new Error).stack;return Error.prepareStackTrace=e,t[2].getFileName()};var gv,yv,vv,_v,bv,Ev,wv,Tv,Rv,Sv,Cv=d,Ov=!1;function kv(){yv={},vv="win32"===process.platform,_v=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,bv=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,(Ev={}).parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,r,n,i,s,o=(t=e,r=_v.exec(t),n=(r[1]||"")+(r[2]||""),i=r[3]||"",s=bv.exec(i),[n,s[1],s[2],s[3]]);if(!o||4!==o.length)throw new TypeError("Invalid path '"+e+"'");return{root:o[0],dir:o[0]+o[1].slice(0,-1),base:o[2],ext:o[3],name:o[2].slice(0,o[2].length-o[3].length)}},wv=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,(Tv={}).parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t,r=(t=e,wv.exec(t).slice(1));if(!r||4!==r.length)throw new TypeError("Invalid path '"+e+"'");return r[1]=r[1]||"",r[2]=r[2]||"",r[3]=r[3]||"",{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}},yv=vv?Ev.parse:Tv.parse,Rv=Tv.parse,yv.posix=Rv,Sv=Ev.parse,yv.win32=Sv}var Nv=Cv.parse||(Ov||(Ov=!0,kv()),yv),Av=function(e,t){var r="/";/^([A-Za-z]:)/.test(e)?r="":/^\\\\/.test(e)&&(r="\\\\");for(var n=[e],i=Nv(e);i.dir!==n[n.length-1];)n.push(i.dir),i=Nv(i.dir);return n.reduce((function(e,n){return e.concat(t.map((function(e){return Cv.resolve(r,n,e)})))}),[])};gv=function(e,t,r){var n=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&"function"==typeof t.paths)return t.paths(r,e,(function(){return Av(e,n)}),t);var i=Av(e,n);return t&&t.paths?i.concat(t.paths):i};var Pv;Pv=function(e,t){return t||{}};var Mv,Iv,Lv=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function Dv(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",n=(t.length>1?t[1]:t[0]).split("."),i=0;i<3;++i){var s=Number(Lv[i]||0),o=Number(n[i]||0);if(s!==o)return"<"===r?s<o:">="===r&&s>=o}return">="===r}function xv(e){var t=e.split(/ ?&& ?/);if(0===t.length)return!1;for(var r=0;r<t.length;++r)if(!Dv(t[r]))return!1;return!0}function qv(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){for(var t=0;t<e.length;++t)if(xv(e[t]))return!0;return!1}return xv(e)}var jv;jv=JSON.parse('{"assert":true,"async_hooks":">= 8","buffer_ieee754":"< 0.9.7","buffer":true,"child_process":true,"cluster":true,"console":true,"constants":true,"crypto":true,"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"dns":true,"domain":true,"events":true,"freelist":"< 6","fs":true,"fs/promises":[">= 10 && < 10.1",">= 14"],"_http_agent":">= 0.11.1","_http_client":">= 0.11.1","_http_common":">= 0.11.1","_http_incoming":">= 0.11.1","_http_outgoing":">= 0.11.1","_http_server":">= 0.11.1","http":true,"http2":">= 8.8","https":true,"inspector":">= 8.0.0","_linklist":"< 8","module":true,"net":true,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12","os":true,"path":true,"perf_hooks":">= 8.5","process":">= 1","punycode":true,"querystring":true,"readline":true,"repl":true,"smalloc":">= 0.11.5 && < 3","_stream_duplex":">= 0.9.4","_stream_transform":">= 0.9.4","_stream_wrap":">= 1.4.1","_stream_passthrough":">= 0.9.4","_stream_readable":">= 0.9.4","_stream_writable":">= 0.9.4","stream":true,"string_decoder":true,"sys":true,"timers":true,"_tls_common":">= 0.11.13","_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","tls":true,"trace_events":">= 10","tty":true,"url":true,"util":true,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8":">= 1","vm":true,"wasi":">= 13.4 && < 13.5","worker_threads":">= 11.7","zlib":true}');var Fv={};for(var $v in jv)Object.prototype.hasOwnProperty.call(jv,$v)&&(Fv[$v]=qv(jv[$v]));Iv=Fv,Mv=function(e){return Object.prototype.hasOwnProperty.call(Iv,e)};var Bv=pv.realpath&&"function"==typeof pv.realpath.native?pv.realpath.native:pv.realpath,Uv=function(e,t){pv.stat(e,(function(e,r){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,r.isFile()||r.isFIFO())}))},Hv=function(e,t){pv.stat(e,(function(e,r){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,r.isDirectory())}))},Wv=function(e,t){Bv(e,(function(r,n){r&&"ENOENT"!==r.code?t(r):t(null,r?e:n)}))},Gv=function(e,t,r,n){r&&!1===r.preserveSymlinks?e(t,n):n(null,t)};(hv=function(e,t,r){var n=r,i=t;if("function"==typeof t&&(n=i,i={}),"string"!=typeof e){var s=new TypeError("Path must be a string.");return process.nextTick((function(){n(s)}))}var o=(i=Pv(0,i)).isFile||Uv,a=i.isDirectory||Hv,c=i.readFile||pv.readFile,u=i.realpath||Wv,l=i.packageIterator,h=i.extensions||[".js"],f=i.basedir||mv.dirname(fv()),d=i.filename||f;i.paths=i.paths||[];var p,m=mv.resolve(f);function g(t,r,s){t?n(t):r?n(null,r,s):v(p,(function(t,r,s){if(t)n(t);else if(r)Gv(u,r,i,(function(e,t){e?n(e):n(null,t,s)}));else{var o=new Error("Cannot find module '"+e+"' from '"+d+"'");o.code="MODULE_NOT_FOUND",n(o)}}))}function y(e,t,r){var n=t,s=r;"function"==typeof n&&(s=n,n=void 0),function e(t,r,n){if(0===t.length)return s(null,void 0,n);var a=r+t[0],l=n;l?f(null,l):function e(t,r){if(""===t||"/"===t)return r(null);if("win32"===process.platform&&/^\w:[/\\]*$/.test(t))return r(null);if(/[/\\]node_modules[/\\]*$/.test(t))return r(null);Gv(u,t,i,(function(n,s){if(n)return e(mv.dirname(t),r);var a=mv.join(s,"package.json");o(a,(function(n,s){if(!s)return e(mv.dirname(t),r);c(a,(function(e,n){e&&r(e);try{var s=JSON.parse(n)}catch(e){}s&&i.packageFilter&&(s=i.packageFilter(s,a)),r(null,s,t)}))}))}))}(mv.dirname(a),f);function f(n,c,u){if(l=c,n)return s(n);if(u&&l&&i.pathFilter){var f=mv.relative(u,a),p=f.slice(0,f.length-t[0].length),m=i.pathFilter(l,r,p);if(m)return e([""].concat(h.slice()),mv.resolve(u,m),l)}o(a,d)}function d(n,i){return n?s(n):i?s(null,a,l):void e(t.slice(1),r,l)}}([""].concat(h),e,n)}function v(e,t,r){var n=r,s=t;"function"==typeof s&&(n=s,s=i.package),Gv(u,e,i,(function(t,r){if(t)return n(t);var a=mv.join(r,"package.json");o(a,(function(t,r){return t?n(t):r?void c(a,(function(t,r){if(t)return n(t);try{var s=JSON.parse(r)}catch(e){}if(s&&i.packageFilter&&(s=i.packageFilter(s,a)),s&&s.main){if("string"!=typeof s.main){var o=new TypeError("package “"+s.name+"” `main` must be a string");return o.code="INVALID_PACKAGE_MAIN",n(o)}return"."!==s.main&&"./"!==s.main||(s.main="index"),void y(mv.resolve(e,s.main),s,(function(t,r,i){return t?n(t):r?n(null,r,i):i?void v(mv.resolve(e,i.main),i,(function(t,r,i){return t?n(t):r?n(null,r,i):void y(mv.join(e,"index"),i,n)})):y(mv.join(e,"index"),i,n)}))}y(mv.join(e,"/index"),s,n)})):y(mv.join(e,"index"),s,n)}))}))}Gv(u,m,i,(function(t,r){t?n(t):function(t){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))p=mv.resolve(t,e),"."!==e&&".."!==e&&"/"!==e.slice(-1)||(p+="/"),/\/$/.test(e)&&p===t?v(p,i.package,g):y(p,i.package,g);else{if(Mv(e))return n(null,e);!function(e,t,r){var n=function(){return function(e,t,r){for(var n=gv(t,r,e),i=0;i<n.length;i++)n[i]=mv.join(n[i],e);return n}(e,t,i)};!function e(t,r){if(0===r.length)return t(null,void 0);var n=r[0];function s(s,a){return s?t(s):a?void y(n,i.package,o):e(t,r.slice(1))}function o(e,r,s){return e?t(e):r?t(null,r,s):void v(n,i.package,c)}function c(n,i,s){return n?t(n):i?t(null,i,s):void e(t,r.slice(1))}a(mv.dirname(n),s)}(r,l?l(e,t,n,i):n())}(e,t,(function(t,r,s){if(t)n(t);else{if(r)return Gv(u,r,i,(function(e,t){e?n(e):n(null,t,s)}));var o=new Error("Cannot find module '"+e+"' from '"+d+"'");o.code="MODULE_NOT_FOUND",n(o)}}))}}(r)}))}).core=Iv,hv.isCore=Mv;var Vv=h,zv=d,Qv=Vv.realpathSync&&"function"==typeof Vv.realpathSync.native?Vv.realpathSync.native:Vv.realpathSync,Kv=function(e){try{var t=Vv.statSync(e)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return t.isFile()||t.isFIFO()},Jv=function(e){try{var t=Vv.statSync(e)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return t.isDirectory()},Yv=function(e){try{return Qv(e)}catch(e){if("ENOENT"!==e.code)throw e}return e},Xv=function(e,t,r){return r&&!1===r.preserveSymlinks?e(t):t};hv.sync=function(e,t){if("string"!=typeof e)throw new TypeError("Path must be a string.");var r=Pv(0,t),n=r.isFile||Kv,i=r.readFileSync||Vv.readFileSync,s=r.isDirectory||Jv,o=r.realpathSync||Yv,a=r.packageIterator,c=r.extensions||[".js"],u=r.basedir||zv.dirname(fv()),l=r.filename||u;r.paths=r.paths||[];var h=Xv(o,zv.resolve(u),r);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var f=zv.resolve(h,e);"."!==e&&".."!==e&&"/"!==e.slice(-1)||(f+="/");var d=g(f)||y(f);if(d)return Xv(o,d,r)}else{if(Mv(e))return e;var p=function(e,t){for(var n=function(){return function(e,t,r){for(var n=gv(t,r,e),i=0;i<n.length;i++)n[i]=zv.join(n[i],e);return n}(e,t,r)},i=a?a(e,t,n,r):n(),o=0;o<i.length;o++){var c=i[o];if(s(zv.dirname(c))){var u=g(c);if(u)return u;var l=y(c);if(l)return l}}}(e,h);if(p)return Xv(o,p,r)}var m=new Error("Cannot find module '"+e+"' from '"+l+"'");throw m.code="MODULE_NOT_FOUND",m;function g(e){var t=function e(t){if(""===t||"/"===t)return;if("win32"===process.platform&&/^\w:[/\\]*$/.test(t))return;if(/[/\\]node_modules[/\\]*$/.test(t))return;var s=zv.join(Xv(o,t,r),"package.json");if(!n(s))return e(zv.dirname(t));var a=i(s);try{var c=JSON.parse(a)}catch(e){}c&&r.packageFilter&&(c=r.packageFilter(c,t));return{pkg:c,dir:t}}(zv.dirname(e));if(t&&t.dir&&t.pkg&&r.pathFilter){var s=zv.relative(t.dir,e),a=r.pathFilter(t.pkg,e,s);a&&(e=zv.resolve(t.dir,a))}if(n(e))return e;for(var u=0;u<c.length;u++){var l=e+c[u];if(n(l))return l}}function y(e){var t=zv.join(Xv(o,e,r),"/package.json");if(n(t)){try{var s=i(t,"UTF8"),a=JSON.parse(s)}catch(e){}if(a&&r.packageFilter&&(a=r.packageFilter(a,e)),a&&a.main){if("string"!=typeof a.main){var c=new TypeError("package “"+a.name+"” `main` must be a string");throw c.code="INVALID_PACKAGE_MAIN",c}"."!==a.main&&"./"!==a.main||(a.main="index");try{var u=g(zv.resolve(e,a.main));if(u)return u;var l=y(zv.resolve(e,a.main));if(l)return l}catch(e){}}}return g(zv.join(e,"/index"))}},dv=hv;var Zv={};const e_=h,t_=d,{promisify:r_}=_;var n_,i_,s_,o_,a_,c_={};n_=c_=E_,a_="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){};c_.SEMVER_SPEC_VERSION="2.0.0";var u_=Number.MAX_SAFE_INTEGER||9007199254740991,l_=(i_=[],c_.re=i_),h_=(s_=[],c_.src=s_),f_=(o_={},c_.tokens=o_),d_=0;function p_(e){f_[e]=d_++}p_("NUMERICIDENTIFIER"),h_[f_.NUMERICIDENTIFIER]="0|[1-9]\\d*",p_("NUMERICIDENTIFIERLOOSE"),h_[f_.NUMERICIDENTIFIERLOOSE]="[0-9]+",p_("NONNUMERICIDENTIFIER"),h_[f_.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",p_("MAINVERSION"),h_[f_.MAINVERSION]="("+h_[f_.NUMERICIDENTIFIER]+")\\.("+h_[f_.NUMERICIDENTIFIER]+")\\.("+h_[f_.NUMERICIDENTIFIER]+")",p_("MAINVERSIONLOOSE"),h_[f_.MAINVERSIONLOOSE]="("+h_[f_.NUMERICIDENTIFIERLOOSE]+")\\.("+h_[f_.NUMERICIDENTIFIERLOOSE]+")\\.("+h_[f_.NUMERICIDENTIFIERLOOSE]+")",p_("PRERELEASEIDENTIFIER"),h_[f_.PRERELEASEIDENTIFIER]="(?:"+h_[f_.NUMERICIDENTIFIER]+"|"+h_[f_.NONNUMERICIDENTIFIER]+")",p_("PRERELEASEIDENTIFIERLOOSE"),h_[f_.PRERELEASEIDENTIFIERLOOSE]="(?:"+h_[f_.NUMERICIDENTIFIERLOOSE]+"|"+h_[f_.NONNUMERICIDENTIFIER]+")",p_("PRERELEASE"),h_[f_.PRERELEASE]="(?:-("+h_[f_.PRERELEASEIDENTIFIER]+"(?:\\."+h_[f_.PRERELEASEIDENTIFIER]+")*))",p_("PRERELEASELOOSE"),h_[f_.PRERELEASELOOSE]="(?:-?("+h_[f_.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+h_[f_.PRERELEASEIDENTIFIERLOOSE]+")*))",p_("BUILDIDENTIFIER"),h_[f_.BUILDIDENTIFIER]="[0-9A-Za-z-]+",p_("BUILD"),h_[f_.BUILD]="(?:\\+("+h_[f_.BUILDIDENTIFIER]+"(?:\\."+h_[f_.BUILDIDENTIFIER]+")*))",p_("FULL"),p_("FULLPLAIN"),h_[f_.FULLPLAIN]="v?"+h_[f_.MAINVERSION]+h_[f_.PRERELEASE]+"?"+h_[f_.BUILD]+"?",h_[f_.FULL]="^"+h_[f_.FULLPLAIN]+"$",p_("LOOSEPLAIN"),h_[f_.LOOSEPLAIN]="[v=\\s]*"+h_[f_.MAINVERSIONLOOSE]+h_[f_.PRERELEASELOOSE]+"?"+h_[f_.BUILD]+"?",p_("LOOSE"),h_[f_.LOOSE]="^"+h_[f_.LOOSEPLAIN]+"$",p_("GTLT"),h_[f_.GTLT]="((?:<|>)?=?)",p_("XRANGEIDENTIFIERLOOSE"),h_[f_.XRANGEIDENTIFIERLOOSE]=h_[f_.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",p_("XRANGEIDENTIFIER"),h_[f_.XRANGEIDENTIFIER]=h_[f_.NUMERICIDENTIFIER]+"|x|X|\\*",p_("XRANGEPLAIN"),h_[f_.XRANGEPLAIN]="[v=\\s]*("+h_[f_.XRANGEIDENTIFIER]+")(?:\\.("+h_[f_.XRANGEIDENTIFIER]+")(?:\\.("+h_[f_.XRANGEIDENTIFIER]+")(?:"+h_[f_.PRERELEASE]+")?"+h_[f_.BUILD]+"?)?)?",p_("XRANGEPLAINLOOSE"),h_[f_.XRANGEPLAINLOOSE]="[v=\\s]*("+h_[f_.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+h_[f_.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+h_[f_.XRANGEIDENTIFIERLOOSE]+")(?:"+h_[f_.PRERELEASELOOSE]+")?"+h_[f_.BUILD]+"?)?)?",p_("XRANGE"),h_[f_.XRANGE]="^"+h_[f_.GTLT]+"\\s*"+h_[f_.XRANGEPLAIN]+"$",p_("XRANGELOOSE"),h_[f_.XRANGELOOSE]="^"+h_[f_.GTLT]+"\\s*"+h_[f_.XRANGEPLAINLOOSE]+"$",p_("COERCE"),h_[f_.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",p_("COERCERTL"),l_[f_.COERCERTL]=new RegExp(h_[f_.COERCE],"g"),p_("LONETILDE"),h_[f_.LONETILDE]="(?:~>?)",p_("TILDETRIM"),h_[f_.TILDETRIM]="(\\s*)"+h_[f_.LONETILDE]+"\\s+",l_[f_.TILDETRIM]=new RegExp(h_[f_.TILDETRIM],"g");p_("TILDE"),h_[f_.TILDE]="^"+h_[f_.LONETILDE]+h_[f_.XRANGEPLAIN]+"$",p_("TILDELOOSE"),h_[f_.TILDELOOSE]="^"+h_[f_.LONETILDE]+h_[f_.XRANGEPLAINLOOSE]+"$",p_("LONECARET"),h_[f_.LONECARET]="(?:\\^)",p_("CARETTRIM"),h_[f_.CARETTRIM]="(\\s*)"+h_[f_.LONECARET]+"\\s+",l_[f_.CARETTRIM]=new RegExp(h_[f_.CARETTRIM],"g");p_("CARET"),h_[f_.CARET]="^"+h_[f_.LONECARET]+h_[f_.XRANGEPLAIN]+"$",p_("CARETLOOSE"),h_[f_.CARETLOOSE]="^"+h_[f_.LONECARET]+h_[f_.XRANGEPLAINLOOSE]+"$",p_("COMPARATORLOOSE"),h_[f_.COMPARATORLOOSE]="^"+h_[f_.GTLT]+"\\s*("+h_[f_.LOOSEPLAIN]+")$|^$",p_("COMPARATOR"),h_[f_.COMPARATOR]="^"+h_[f_.GTLT]+"\\s*("+h_[f_.FULLPLAIN]+")$|^$",p_("COMPARATORTRIM"),h_[f_.COMPARATORTRIM]="(\\s*)"+h_[f_.GTLT]+"\\s*("+h_[f_.LOOSEPLAIN]+"|"+h_[f_.XRANGEPLAIN]+")",l_[f_.COMPARATORTRIM]=new RegExp(h_[f_.COMPARATORTRIM],"g");p_("HYPHENRANGE"),h_[f_.HYPHENRANGE]="^\\s*("+h_[f_.XRANGEPLAIN]+")\\s+-\\s+("+h_[f_.XRANGEPLAIN]+")\\s*$",p_("HYPHENRANGELOOSE"),h_[f_.HYPHENRANGELOOSE]="^\\s*("+h_[f_.XRANGEPLAINLOOSE]+")\\s+-\\s+("+h_[f_.XRANGEPLAINLOOSE]+")\\s*$",p_("STAR"),h_[f_.STAR]="(<|>)?=?\\s*\\*";for(var m_=0;m_<d_;m_++)a_(m_,h_[m_]),l_[m_]||(l_[m_]=new RegExp(h_[m_]));var g_=y_;function y_(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof E_)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?l_[f_.LOOSE]:l_[f_.FULL]).test(e))return null;try{return new E_(e,t)}catch(e){return null}}c_.parse=g_;var v_=function(e,t){var r=y_(e,t);return r?r.version:null};c_.valid=v_;var __=function(e,t){var r=y_(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};c_.clean=__;var b_=E_;function E_(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof E_){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof E_))return new E_(e,t);a_("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?l_[f_.LOOSE]:l_[f_.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>u_||this.major<0)throw new TypeError("Invalid major version");if(this.minor>u_||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>u_||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<u_)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}c_.SemVer=b_,E_.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},E_.prototype.toString=function(){return this.version},E_.prototype.compare=function(e){return a_("SemVer.compare",this.version,this.options,e),e instanceof E_||(e=new E_(e,this.options)),this.compareMain(e)||this.comparePre(e)},E_.prototype.compareMain=function(e){return e instanceof E_||(e=new E_(e,this.options)),C_(this.major,e.major)||C_(this.minor,e.minor)||C_(this.patch,e.patch)},E_.prototype.comparePre=function(e){if(e instanceof E_||(e=new E_(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(a_("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return C_(r,n)}while(++t)},E_.prototype.compareBuild=function(e){e instanceof E_||(e=new E_(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(a_("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return C_(r,n)}while(++t)},E_.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};var w_=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new E_(e,r).inc(t,n).version}catch(e){return null}};c_.inc=w_;var T_=function(e,t){if(H_(e,t))return null;var r=y_(e),n=y_(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return i+o;return s};c_.diff=T_;var R_=C_;c_.compareIdentifiers=R_;var S_=/^[0-9]+$/;function C_(e,t){var r=S_.test(e),n=S_.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}var O_=function(e,t){return C_(t,e)};c_.rcompareIdentifiers=O_;var k_=function(e,t){return new E_(e,t).major};c_.major=k_;var N_=function(e,t){return new E_(e,t).minor};c_.minor=N_;var A_=function(e,t){return new E_(e,t).patch};c_.patch=A_;var P_=M_;function M_(e,t,r){return new E_(e,r).compare(new E_(t,r))}c_.compare=P_;var I_=function(e,t){return M_(e,t,!0)};c_.compareLoose=I_;var L_=function(e,t,r){var n=new E_(e,r),i=new E_(t,r);return n.compare(i)||n.compareBuild(i)};c_.compareBuild=L_;var D_=function(e,t,r){return M_(t,e,r)};c_.rcompare=D_;var x_=function(e,t){return e.sort((function(e,r){return n_.compareBuild(e,r,t)}))};c_.sort=x_;var q_=function(e,t){return e.sort((function(e,r){return n_.compareBuild(r,e,t)}))};c_.rsort=q_;var j_=F_;function F_(e,t,r){return M_(e,t,r)>0}c_.gt=j_;var $_=B_;function B_(e,t,r){return M_(e,t,r)<0}c_.lt=$_;var U_=H_;function H_(e,t,r){return 0===M_(e,t,r)}c_.eq=U_;var W_=G_;function G_(e,t,r){return 0!==M_(e,t,r)}c_.neq=W_;var V_=z_;function z_(e,t,r){return M_(e,t,r)>=0}c_.gte=V_;var Q_=K_;function K_(e,t,r){return M_(e,t,r)<=0}c_.lte=Q_;var J_=Y_;function Y_(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return H_(e,r,n);case"!=":return G_(e,r,n);case">":return F_(e,r,n);case">=":return z_(e,r,n);case"<":return B_(e,r,n);case"<=":return K_(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}c_.cmp=J_;var X_=Z_;function Z_(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Z_){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof Z_))return new Z_(e,t);a_("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===eb?this.value="":this.value=this.operator+this.semver.version,a_("comp",this)}c_.Comparator=X_;var eb={};Z_.prototype.parse=function(e){var t=this.options.loose?l_[f_.COMPARATORLOOSE]:l_[f_.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new E_(r[2],this.options.loose):this.semver=eb},Z_.prototype.toString=function(){return this.value},Z_.prototype.test=function(e){if(a_("Comparator.test",e,this.options.loose),this.semver===eb||e===eb)return!0;if("string"==typeof e)try{e=new E_(e,this.options)}catch(e){return!1}return Y_(e,this.operator,this.semver,this.options)},Z_.prototype.intersects=function(e,t){if(!(e instanceof Z_))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new rb(e.value,t),ub(this.value,r,t));if(""===e.operator)return""===e.value||(r=new rb(this.value,t),ub(e.semver,r,t));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=Y_(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=Y_(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||s&&o||a||c};var tb=rb;function rb(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof rb)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new rb(e.raw,t);if(e instanceof Z_)return new rb(e.value,t);if(!(this instanceof rb))return new rb(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function nb(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every((function(e){return i.intersects(e,t)})),i=n.pop();return r}c_.Range=tb,rb.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},rb.prototype.toString=function(){return this.range},rb.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?l_[f_.HYPHENRANGELOOSE]:l_[f_.HYPHENRANGE];e=e.replace(r,ob),a_("hyphen replace",e),e=e.replace(l_[f_.COMPARATORTRIM],"$1$2$3"),a_("comparator trim",e,l_[f_.COMPARATORTRIM]),e=(e=(e=e.replace(l_[f_.TILDETRIM],"$1~")).replace(l_[f_.CARETTRIM],"$1^")).split(/\s+/).join(" ");var n=t?l_[f_.COMPARATORLOOSE]:l_[f_.COMPARATOR],i=e.split(" ").map((function(e){return function(e,t){return a_("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){a_("caret",e,t);var r=t.loose?l_[f_.CARETLOOSE]:l_[f_.CARET];return e.replace(r,(function(t,r,n,i,s){var o;return a_("caret",e,t,r,n,i,s),sb(r)?o="":sb(n)?o=">="+r+".0.0 <"+(+r+1)+".0.0":sb(i)?o="0"===r?">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":">="+r+"."+n+".0 <"+(+r+1)+".0.0":s?(a_("replaceCaret pr",s),o="0"===r?"0"===n?">="+r+"."+n+"."+i+"-"+s+" <"+r+"."+n+"."+(+i+1):">="+r+"."+n+"."+i+"-"+s+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+i+"-"+s+" <"+(+r+1)+".0.0"):(a_("no pr"),o="0"===r?"0"===n?">="+r+"."+n+"."+i+" <"+r+"."+n+"."+(+i+1):">="+r+"."+n+"."+i+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+i+" <"+(+r+1)+".0.0"),a_("caret return",o),o}))}(e,t)})).join(" ")}(e,t),a_("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?l_[f_.TILDELOOSE]:l_[f_.TILDE];return e.replace(r,(function(t,r,n,i,s){var o;return a_("tilde",e,t,r,n,i,s),sb(r)?o="":sb(n)?o=">="+r+".0.0 <"+(+r+1)+".0.0":sb(i)?o=">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":s?(a_("replaceTilde pr",s),o=">="+r+"."+n+"."+i+"-"+s+" <"+r+"."+(+n+1)+".0"):o=">="+r+"."+n+"."+i+" <"+r+"."+(+n+1)+".0",a_("tilde return",o),o}))}(e,t)})).join(" ")}(e,t),a_("tildes",e),e=function(e,t){return a_("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?l_[f_.XRANGELOOSE]:l_[f_.XRANGE];return e.replace(r,(function(r,n,i,s,o,a){a_("xRange",e,r,n,i,s,o,a);var c=sb(i),u=c||sb(s),l=u||sb(o),h=l;return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(s=0),o=0,">"===n?(n=">=",u?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",u?i=+i+1:s=+s+1),r=n+i+"."+s+"."+o+a):u?r=">="+i+".0.0"+a+" <"+(+i+1)+".0.0"+a:l&&(r=">="+i+"."+s+".0"+a+" <"+i+"."+(+s+1)+".0"+a),a_("xRange return",r),r}))}(e,t)})).join(" ")}(e,t),a_("xrange",e),e=function(e,t){return a_("replaceStars",e,t),e.trim().replace(l_[f_.STAR],"")}(e,t),a_("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(n)}))),i=i.map((function(e){return new Z_(e,this.options)}),this)},rb.prototype.intersects=function(e,t){if(!(e instanceof rb))throw new TypeError("a Range is required");return this.set.some((function(r){return nb(r,t)&&e.set.some((function(e){return nb(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))};var ib=function(e,t){return new rb(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))};function sb(e){return!e||"x"===e.toLowerCase()||"*"===e}function ob(e,t,r,n,i,s,o,a,c,u,l,h,f){return((t=sb(r)?"":sb(n)?">="+r+".0.0":sb(i)?">="+r+"."+n+".0":">="+t)+" "+(a=sb(c)?"":sb(u)?"<"+(+c+1)+".0.0":sb(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ab(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(a_(e[n].semver),e[n].semver!==eb&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}c_.toComparators=ib,rb.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new E_(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(ab(this.set[t],e,this.options))return!0;return!1};var cb=ub;function ub(e,t,r){try{t=new rb(t,r)}catch(e){return!1}return t.test(e)}c_.satisfies=cb;var lb=function(e,t,r){var n=null,i=null;try{var s=new rb(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(n&&-1!==i.compare(e)||(i=new E_(n=e,r)))})),n};c_.maxSatisfying=lb;var hb=function(e,t,r){var n=null,i=null;try{var s=new rb(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(n&&1!==i.compare(e)||(i=new E_(n=e,r)))})),n};c_.minSatisfying=hb;var fb=function(e,t){e=new rb(e,t);var r=new E_("0.0.0");if(e.test(r))return r;if(r=new E_("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new E_(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!F_(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null};c_.minVersion=fb;var db=function(e,t){try{return new rb(e,t).range||"*"}catch(e){return null}};c_.validRange=db;var pb=function(e,t,r){return yb(e,t,"<",r)};c_.ltr=pb;var mb=function(e,t,r){return yb(e,t,">",r)};c_.gtr=mb;var gb=yb;function yb(e,t,r,n){var i,s,o,a,c;switch(e=new E_(e,n),t=new rb(t,n),r){case">":i=F_,s=K_,o=B_,a=">",c=">=";break;case"<":i=B_,s=z_,o=F_,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ub(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,f=null;if(l.forEach((function(e){e.semver===eb&&(e=new Z_(">=0.0.0")),h=h||e,f=f||e,i(e.semver,h.semver,n)?h=e:o(e.semver,f.semver,n)&&(f=e)})),h.operator===a||h.operator===c)return!1;if((!f.operator||f.operator===a)&&s(e,f.semver))return!1;if(f.operator===c&&o(e,f.semver))return!1}return!0}c_.outside=gb;var vb=function(e,t){var r=y_(e,t);return r&&r.prerelease.length?r.prerelease:null};c_.prerelease=vb;var _b=function(e,t,r){return e=new rb(e,r),t=new rb(t,r),e.intersects(t)};c_.intersects=_b;var bb=function(e,t){if(e instanceof E_)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var n;(n=l_[f_.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),l_[f_.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;l_[f_.COERCERTL].lastIndex=-1}else r=e.match(l_[f_.COERCE]);if(null===r)return null;return y_(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)};c_.coerce=bb;const Eb=cb(process.version,">=10.12.0"),wb=e=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(t_.parse(e).root,""))){const t=new Error("Path contains invalid characters: "+e);throw t.code="EINVAL",t}}},Tb=e=>({...{mode:511,fs:e_},...e}),Rb=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};(Zv=async(e,t)=>{wb(e),t=Tb(t);const r=r_(t.fs.mkdir),n=r_(t.fs.stat);if(Eb&&t.fs.mkdir===e_.mkdir){const n=t_.resolve(e);return await r(n,{mode:t.mode,recursive:!0}),n}const i=async e=>{try{return await r(e,t.mode),e}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(t_.dirname(e)===e)throw Rb(e);if(t.message.includes("null bytes"))throw t;return await i(t_.dirname(e)),i(e)}try{if(!(await n(e)).isDirectory())throw new Error("The path is not a directory")}catch(e){throw t}return e}};return i(t_.resolve(e))}).sync=(e,t)=>{if(wb(e),t=Tb(t),Eb&&t.fs.mkdirSync===e_.mkdirSync){const r=t_.resolve(e);return e_.mkdirSync(r,{mode:t.mode,recursive:!0}),r}const r=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(n){if("EPERM"===n.code)throw n;if("ENOENT"===n.code){if(t_.dirname(e)===e)throw Rb(e);if(n.message.includes("null bytes"))throw n;return r(t_.dirname(e)),r(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw n}}return e};return r(t_.resolve(e))};const Sb=Xy(Zv),Cb=cv.default("vscode-"+(process.env.EXT_NAMESPACE||"sqltools"),{suffix:null});function Ob(...e){return uv.default.resolve(Cb.data,...e)}lv.default.existsSync(Cb.data)||Sb.sync(Cb.data),lv.default.existsSync(Ob("node_modules"))||Sb.sync(Ob("node_modules")),ev=e=>dv.sync(e,{basedir:Ob()}),Ky.sqltoolsResolve=ev;var kb=e=>require(Ky.sqltoolsResolve(e));Ky.default=kb;const Nb=ko(Ky);var Ab,Pb,Mb,Ib,Lb=!1;function Db(e){if(!(e instanceof Error))return e;e[Pb]=void 0;const t=Object.create(Ib);t.type=e.constructor.name,t.message=e.message,t.stack=e.stack;for(const r in e)if(void 0===t[r]){const n=e[r];n instanceof Error?n.hasOwnProperty(Pb)||(t[r]=Db(n)):t[r]=n}return delete e[Pb],t.raw=e,t}function xb(){return Lb||(Lb=!0,Ab={},Ab=Db,Pb=Symbol("circular-ref-tag"),Mb=Symbol("pino-raw-err-ref"),Ib=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Mb]},set:function(e){this[Mb]=e}}}),Object.defineProperty(Ib,Mb,{writable:!0,value:{}})),Ab}var qb,jb,Fb,$b=!1;function Bb(e){var t=e.info||e.connection;const r=Object.create(Fb);return r.id="function"==typeof e.id?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl?r.url=e.originalUrl:r.url=e.url?e.url.path||e.url:void 0,r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function Ub(e){return{req:Bb(e)}}function Hb(){return $b||($b=!0,qb={},qb={mapHttpRequest:Ub,reqSerializer:Bb},jb=Symbol("pino-raw-req-ref"),Fb=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[jb]},set:function(e){this[jb]=e}}}),Object.defineProperty(Fb,jb,{writable:!0,value:{}})),qb}var Wb,Gb,Vb,zb=!1;function Qb(e){const t=Object.create(Vb);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function Kb(e){return{res:Qb(e)}}function Jb(){return zb||(zb=!0,Wb={},Wb={mapHttpResponse:Kb,resSerializer:Qb},Gb=Symbol("pino-raw-res-ref"),Vb=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Gb]},set:function(e){this[Gb]=e}}}),Object.defineProperty(Vb,Gb,{writable:!0,value:{}})),Wb}var Yb,Xb,Zb,eE,tE=!1;function rE(){return tE||(tE=!0,Yb={},Xb=xb(),Zb=Hb(),eE=Jb(),Yb={err:Xb,mapHttpRequest:Zb.mapHttpRequest,mapHttpResponse:eE.mapHttpResponse,req:Zb.reqSerializer,res:eE.resSerializer,wrapErrorSerializer:function(e){return e===Xb?e:function(t){return e(Xb(t))}},wrapRequestSerializer:function(e){return e===Zb.reqSerializer?e:function(t){return e(Zb.reqSerializer(t))}},wrapResponseSerializer:function(e){return e===eE.resSerializer?e:function(t){return e(eE.resSerializer(t))}}}),Yb}var nE,iE,sE,oE=!1;function aE(e={}){const{ERR_PATHS_MUST_BE_STRINGS:t=(()=>"fast-redact - Paths must be strings"),ERR_INVALID_PATH:r=(e=>`fast-redact – Invalid path (${e})`)}=e;return function({paths:e}){e.forEach(e=>{if("string"!=typeof e)throw Error(t());try{if(/〇/.test(e))throw Error();const t=new Proxy({},{get:()=>t,set:()=>{throw Error()}}),r=("["===e[0]?"":".")+e.replace(/^\*/,"〇").replace(/\.\*/g,".〇").replace(/\[\*\]/g,"[〇]");if(/\n|\r|;/.test(r))throw Error();if(/\/\*/.test(r))throw Error();sE(`\n          (function () {\n            'use strict'\n            o${r}\n            if ([o${r}].length !== 1) throw Error()\n          })()\n        `,iE({o:t,"〇":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(t){throw Error(r(e))}})}}function cE(){return oE||(oE=!0,nE={},({createContext:iE,runInContext:sE}=r),nE=aE),nE}var uE,lE=!1;function hE(){return lE||(lE=!0,uE={},uE=/[^.[\]]+|\[((?:.)*?)\]/g),uE}var fE,dE,pE=!1;function mE({paths:e}){const t=[];var r=0;const n=e.reduce((function(e,n,i){var s=n.match(dE).map(e=>e.replace(/'|"|`/g,""));const o="["===n[0],a=(s=s.map(e=>"["===e[0]?e.substr(1,e.length-2):e)).indexOf("*");if(a>-1){const e=s.slice(0,a),n=e.join("."),i=s.slice(a+1,s.length);if(i.indexOf("*")>-1)throw Error("fast-redact – Only one wildcard per path is supported");const o=i.length>0;r++,t.push({before:e,beforeStr:n,after:i,nested:o})}else e[n]={path:s,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(n),leadingBracket:o};return e}),{});return{wildcards:t,wcLen:r,secret:n}}function gE(){return pE||(pE=!0,fE={},dE=hE(),fE=mE),fE}var yE,vE,_E=!1;function bE({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i},s){const o=Function("o",`\n    if (typeof o !== 'object' || o == null) {\n      ${function(e,t){return!0===e?"throw Error('fast-redact: primitives cannot be redacted')":!1===t?"return o":"return this.serialize(o)"}(n,t)}\n    }\n    const { censor, secret } = this\n    ${function(e,t){return Object.keys(e).map(r=>{const{escPath:n,leadingBracket:i}=e[r],s=i?1:0,o=i?"":".",a=[];for(var c;null!==(c=vE.exec(r));){const[,e]=c,{index:t,input:r}=c;t>s&&a.push(r.substring(0,t-(e?0:1)))}var u=a.map(e=>`o${o}${e}`).join(" && ");0===u.length?u+=`o${o}${r} != null`:u+=` && o${o}${r} != null`;const l=`\n      switch (true) {\n        ${a.reverse().map(e=>`\n          case o${o}${e} === censor:\n            secret[${n}].circle = ${JSON.stringify(e)}\n            break\n        `).join("\n")}\n      }\n    `;return`\n      if (${u}) {\n        const val = o${o}${r}\n        if (val === censor) {\n          secret[${n}].precensored = true\n        } else {\n          secret[${n}].val = val\n          o${o}${r} = ${t?"censor(val)":"censor"}\n          ${l}\n        }\n      }\n    `}).join("\n")}(e,i)}\n    this.compileRestore()\n    ${function(e,t){return!0===e?`\n    {\n      const { wildcards, wcLen, groupRedact, nestedRedact } = this\n      for (var i = 0; i < wcLen; i++) {\n        const { before, beforeStr, after, nested } = wildcards[i]\n        if (nested === true) {\n          secret[beforeStr] = secret[beforeStr] || []\n          nestedRedact(secret[beforeStr], o, before, after, censor, ${t})\n        } else secret[beforeStr] = groupRedact(o, before, censor, ${t})\n      }\n    }\n  `:""}(r>0,i)}\n    ${function(e){return!1===e?"return o":"\n    var s = this.serialize(o)\n    this.restore(o)\n    return s\n  "}(t)}\n  `).bind(s);return!1===t&&(o.restore=e=>s.restore(e)),o}function EE(){return _E||(_E=!0,yE={},vE=hE(),yE=bE),yE}var wE,TE=!1;function RE({keys:e,values:t,target:r}){if(null==r)return;const n=e.length;for(var i=0;i<n;i++){r[e[i]]=t[i]}}function SE(e,t,r,n){const i=NE(e,t);if(null==i)return{keys:null,values:null,target:null,flat:!0};const s=Object.keys(i),o=s.length,a=new Array(o);for(var c=0;c<o;c++){const e=s[c];a[c]=i[e],i[e]=n?r(i[e]):r}return{keys:s,values:a,target:i,flat:!0}}function CE(e){const t=e.length;for(var r=0;r<t;r++){const{key:t,target:n,value:i}=e[r];n[t]=i}}function OE(e,t,r,n,i,s){const o=NE(t,r);if(null==o)return;const a=Object.keys(o),c=a.length;for(var u=0;u<c;u++){const t=a[u],{value:r,parent:c,exists:l}=kE(o,t,n,i,s);!0===l&&null!==c&&e.push({key:n[n.length-1],target:c,value:r})}return e}function kE(e,t,r,n,i){var s,o,a,c,u,l=-1,h=r.length,f=h-1,d=null,p=!0;if(a=s=e[t],"object"!=typeof s)return{value:null,parent:null,exists:p};for(;null!=s&&++l<h;){if(d=a,!((t=r[l])in s)){p=!1;break}if(a=s[t],o=i?n(a):n,o=l!==f?a:o,s[t]=(c=s,u=t,Object.prototype.hasOwnProperty.call(c,u)&&o===a||void 0===o&&void 0!==n?s[t]:o),"object"!=typeof(s=s[t]))break}return{value:a,parent:d,exists:p}}function NE(e,t){for(var r=-1,n=t.length,i=e;null!=i&&++r<n;)i=i[t[r]];return i}function AE(){return TE||(TE=!0,wE={},wE={groupRedact:SE,groupRestore:RE,nestedRedact:OE,nestedRestore:CE}),wE}var PE,ME,IE,LE=!1;function DE({secret:e,wcLen:t}){return function(){if(this.restore)return;const r=Object.keys(e).filter(t=>!1===e[t].precensored),n=function(e,t){return t.map(t=>{const{circle:r,escPath:n,leadingBracket:i}=e[t];return`\n      if (secret[${n}].val !== undefined) {\n        try { ${r?`o.${r} = secret[${n}].val`:`o${i?"":"."}${t} = secret[${n}].val`} } catch (e) {}\n        ${`secret[${n}].val = undefined`}\n      }\n    `}).join("")}(e,r),i=t>0,s=i?{secret:e,groupRestore:ME,nestedRestore:IE}:{secret:e};this.restore=Function("o",function(e,t,r){const n=!0===r?`\n    const keys = Object.keys(secret)\n    const len = keys.length\n    for (var i = ${t.length}; i < len; i++) {\n      const k = keys[i]\n      const o = secret[k]\n      if (o.flat === true) this.groupRestore(o)\n      else this.nestedRestore(o)\n      secret[k] = null\n    }\n  `:"";return`\n    const secret = this.secret\n    ${e}\n    ${n}\n    return o\n  `}(n,r,i)).bind(s)}}function xE(){return LE||(LE=!0,PE={},({groupRestore:ME,nestedRestore:IE}=AE()),PE=DE),PE}var qE,jE=!1;function FE(e){const{secret:t,censor:r,isCensorFct:n,compileRestore:i,serialize:s,groupRedact:o,nestedRedact:a,wildcards:c,wcLen:u}=e,l=[{secret:t,censor:r,isCensorFct:n,compileRestore:i}];return l.push({secret:t}),!1!==s&&l.push({serialize:s}),u>0&&l.push({groupRedact:o,nestedRedact:a,wildcards:c,wcLen:u}),Object.assign(...l)}function $E(){return jE||(jE=!0,qE={},qE=FE),qE}var BE,UE,HE,WE,GE,VE,zE,QE,KE,JE,YE,XE,ZE=!1;function ew(e={}){const t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(!1===e.serialize||"function"==typeof e.serialize)?e.serialize:JSON.stringify,n=e.remove;if(!0===n&&r!==JSON.stringify)throw Error("fast-redact – remove option may only be set when serializer is JSON.stringify");const i=!0===n?void 0:"censor"in e?e.censor:XE,s="function"==typeof i;if(0===t.length)return r||YE;JE({paths:t,serialize:r,censor:i});const{wildcards:o,wcLen:a,secret:c}=HE({paths:t,censor:i}),u=GE({secret:c,wcLen:a}),l=!("strict"in e)||e.strict;return WE({secret:c,wcLen:a,serialize:r,strict:l,isCensorFct:s},QE({secret:c,censor:i,compileRestore:u,serialize:r,groupRedact:VE,nestedRedact:zE,wildcards:o,wcLen:a}))}function tw(){return ZE||(ZE=!0,BE={},UE=cE(),HE=gE(),WE=EE(),GE=xE(),({groupRedact:VE,nestedRedact:zE}=AE()),QE=$E(),KE=hE(),JE=UE(),(YE=e=>e).restore=YE,XE="[REDACTED]",ew.rx=KE,ew.validator=UE,BE=ew),BE}var rw,nw,iw,sw,ow,aw,cw,uw,lw,hw,fw,dw,pw,mw,gw,yw,vw,_w,bw,Ew,ww,Tw,Rw,Sw,Cw,Ow,kw,Nw=!1;function Aw(){return Nw||(Nw=!0,rw={},nw=Symbol("pino.setLevel"),iw=Symbol("pino.getLevel"),sw=Symbol("pino.levelVal"),ow=Symbol("pino.useLevelLabels"),aw=Symbol("pino.useOnlyCustomLevels"),cw=Symbol("pino.mixin"),uw=Symbol("pino.lsCache"),lw=Symbol("pino.chindings"),hw=Symbol("pino.parsedChindings"),fw=Symbol("pino.asJson"),dw=Symbol("pino.write"),pw=Symbol("pino.redactFmt"),mw=Symbol("pino.time"),gw=Symbol("pino.timeSliceIndex"),yw=Symbol("pino.stream"),vw=Symbol("pino.stringify"),_w=Symbol("pino.stringifiers"),bw=Symbol("pino.end"),Ew=Symbol("pino.formatOpts"),ww=Symbol("pino.messageKey"),Tw=Symbol("pino.nestedKey"),Rw=Symbol("pino.wildcardFirst"),Sw=Symbol.for("pino.serializers"),Cw=Symbol.for("pino.formatters"),Ow=Symbol.for("pino.hooks"),kw=Symbol.for("pino.metadata"),rw={setLevelSym:nw,getLevelSym:iw,levelValSym:sw,useLevelLabelsSym:ow,mixinSym:cw,lsCacheSym:uw,chindingsSym:lw,parsedChindingsSym:hw,asJsonSym:fw,writeSym:dw,serializersSym:Sw,redactFmtSym:pw,timeSym:mw,timeSliceIndexSym:gw,streamSym:yw,stringifySym:vw,stringifiersSym:_w,endSym:bw,formatOptsSym:Ew,messageKeySym:ww,nestedKeySym:Tw,wildcardFirstSym:Rw,needsMetadataGsym:kw,useOnlyCustomLevelsSym:aw,formattersSym:Cw,hooksSym:Ow}),rw}var Pw,Mw,Iw,Lw,Dw,xw,qw,jw,Fw,$w=!1;function Bw(e,t){const{paths:r,censor:n}=function(e){if(Array.isArray(e))return qw(e={paths:e,censor:jw}),e;var{paths:t,censor:r=jw,remove:n}=e;if(!1===Array.isArray(t))throw Error("pino – redact must contain an array of strings");!0===n&&(r=void 0);return qw({paths:t,censor:r}),{paths:t,censor:r}}(e),i=r.reduce((e,t)=>{Dw.lastIndex=0;const r=Dw.exec(t),n=Dw.exec(t);let i=void 0!==r[1]?r[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):r[0];if("*"===i&&(i=Lw),null===n)return e[i]=null,e;if(null===e[i])return e;const{index:s}=n,o=""+t.substr(s,t.length-1);return e[i]=e[i]||[],i!==Lw&&0===e[i].length&&e[i].push(...e[Lw]||[]),i===Lw&&Object.keys(e).forEach((function(t){e[t]&&e[t].push(o)})),e[i].push(o),e},{}),s={[Iw]:Mw({paths:r,censor:n,serialize:t,strict:Fw})},o=(...e)=>t("function"==typeof n?n(...e):n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((e,r)=>(null===i[r]?e[r]=o:e[r]=Mw({paths:i[r],censor:n,serialize:t,strict:Fw}),e),s)}function Uw(){return $w||($w=!0,Pw={},Mw=tw(),({redactFmtSym:Iw,wildcardFirstSym:Lw}=Aw()),({rx:Dw,validator:xw}=Mw),qw=xw({ERR_PATHS_MUST_BE_STRINGS:()=>"pino – redacted paths must be strings",ERR_INVALID_PATH:e=>`pino – redact paths array contains an invalid path (${e})`}),jw="[Redacted]",Fw=!1,Pw=Bw),Pw}var Hw,Ww=!1;function Gw(){return Ww||(Ww=!0,Hw={},Hw={nullTime:()=>"",epochTime:()=>',"time":'+Date.now(),unixTime:()=>',"time":'+Math.round(Date.now()/1e3),isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`}),Hw}var Vw,zw=!1;function Qw(e){return e}function Kw(){return zw||(zw=!0,Vw={},Vw=Qw),Vw}var Jw,Yw=!1;function Xw(e){if(!1===(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(nil,0,0,Number(e))}function Xw(e){if(!1===(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}const t=Date.now()+Number(e);for(;t>Date.now(););}function Zw(){return Yw||(Yw=!0,function(){if(Jw={},"undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){new Int32Array(new SharedArrayBuffer(4));Jw=Xw}else Jw=Xw}()),Jw}var eT,tT,rT,nT,iT,sT,oT,aT,cT=!1;function uT(e,t){function r(e,r){if(e)t.emit("error",e);else if(t.fd=r,t._reopening=!1,t._opening=!1,t._writing=!1,t.emit("ready"),!t._reopening){var n=t._buf.length;n>0&&n>t.minLength&&!t.destroyed&&fT(t)}}if(t._opening=!0,t._writing=!0,t.file=e,t.sync){r(null,tT.openSync(e,"a")),process.nextTick(()=>t.emit("ready"))}else tT.open(e,"a",r)}function lT(e){if(!(this instanceof lT))return new lT(e);var{fd:t,dest:r,minLength:n,sync:i}=e||{};if(t=t||r,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=i||!1,this.minLength=n||0,"number"==typeof t)this.fd=t,process.nextTick(()=>this.emit("ready"));else{if("string"!=typeof t)throw new Error("SonicBoom supports only file descriptors and files");uT(t,this)}this.release=(e,t)=>{if(e)if("EAGAIN"===e.code)if(this.sync)try{oT(sT),this.release(void 0,0)}catch(e){this.release(e)}else setTimeout(()=>{tT.write(this.fd,this._writingBuf,"utf8",this.release)},sT);else this.emit("error",e);else{if(this._writingBuf.length!==t){if(this._writingBuf=this._writingBuf.slice(t),!this.sync)return void tT.write(this.fd,this._writingBuf,"utf8",this.release);try{do{t=tT.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(t)}while(0!==this._writingBuf.length)}catch(e){return void this.release(e)}}if(this._writingBuf="",!this.destroyed){var r=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):r>0&&r>this.minLength?fT(this):this._ending?r>0?fT(this):(this._writing=!1,dT(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(hT,this)):this.emit("drain"))}}}}function hT(e){e._asyncDrainScheduled=!1,e.emit("drain")}function fT(e){e._writing=!0;var t=e._buf,r=e.release;if(t.length>aT?(t=t.slice(0,aT),e._buf=e._buf.slice(aT)):e._buf="",nT(t),e._writingBuf=t,e.sync)try{r(null,tT.writeSync(e.fd,t,"utf8"))}catch(e){r(e)}else tT.write(e.fd,t,"utf8",r)}function dT(e){-1!==e.fd?(tT.close(e.fd,t=>{t?e.emit("error",t):(e._ending&&!e._writing&&e.emit("finish"),e.emit("close"))}),e.destroyed=!0,e._buf=""):e.once("ready",dT.bind(null,e))}function pT(){return cT||(cT=!0,eT={},tT=h,rT=b,nT=Kw(),iT=_.inherits,sT=100,oT=Zw(),aT=16777216,iT(lT,rT),lT.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=e;var t=this._buf.length;return!this._writing&&t>this.minLength&&fT(this),t<16384},lT.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||fT(this)},lT.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening)this.once("ready",()=>{this.reopen(e)});else if(!this._ending){if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");this._reopening=!0,this._writing||(tT.close(this.fd,e=>{if(e)return this.emit("error",e)}),uT(e||this.file,this))}},lT.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._opening?this.once("ready",()=>{this.end()}):this._ending||(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0?fT(this):this._writing||dT(this))},lT.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(tT.writeSync(this.fd,this._buf,"utf8"),this._buf="")},lT.prototype.destroy=function(){this.destroyed||dT(this)},eT=lT),eT}var mT,gT=!1;function yT(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}function vT(e,t,r){var n=r&&r.stringify||yT;if("object"==typeof e&&null!==e){var i=t.length+1;if(1===i)return e;var s=new Array(i);s[0]=n(e);for(var o=1;o<i;o++)s[o]=n(t[o]);return s.join(" ")}if("string"!=typeof e)return e;var a=t.length;if(0===a)return e;for(var c="",u=0,l=-1,h=e&&e.length||0,f=0;f<h;){if(37===e.charCodeAt(f)&&f+1<h){switch(l=l>-1?l:0,e.charCodeAt(f+1)){case 100:if(u>=a)break;if(l<f&&(c+=e.slice(l,f)),null==t[u])break;c+=Number(t[u]),l=f+=2;break;case 79:case 111:case 106:if(u>=a)break;if(l<f&&(c+=e.slice(l,f)),void 0===t[u])break;var d=typeof t[u];if("string"===d){c+="'"+t[u]+"'",l=f+2,f++;break}if("function"===d){c+=t[u].name||"<anonymous>",l=f+2,f++;break}c+=n(t[u]),l=f+2,f++;break;case 115:if(u>=a)break;l<f&&(c+=e.slice(l,f)),c+=String(t[u]),l=f+2,f++;break;case 37:l<f&&(c+=e.slice(l,f)),c+="%",l=f+2,f++}++u}++f}return-1===l?e:(l<h&&(c+=e.slice(l)),c)}function _T(){return gT||(gT=!0,mT={},mT=vT),mT}var bT,ET,wT,TT=!1;function RT(e,t,r){var n;for(!function e(t,r,n,i){var s;if("object"==typeof t&&null!==t){for(s=0;s<n.length;s++)if(n[s]===t){var o=Object.getOwnPropertyDescriptor(i,r);return void(void 0!==o.get?o.configurable?(Object.defineProperty(i,r,{value:"[Circular]"}),ET.push([i,r,t,o])):wT.push([t,r]):(i[r]="[Circular]",ET.push([i,r,t])))}if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)e(t[s],s,n,t);else{var a=Object.keys(t);for(s=0;s<a.length;s++){var c=a[s];e(t[c],c,n,t)}}n.pop()}}(e,"",[],void 0),n=0===wT.length?JSON.stringify(e,t,r):JSON.stringify(e,OT(t),r);0!==ET.length;){var i=ET.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function ST(e,t){return e<t?-1:e>t?1:0}function CT(e,t,r){var n,i=function e(t,r,n,i){var s;if("object"==typeof t&&null!==t){for(s=0;s<n.length;s++)if(n[s]===t){var o=Object.getOwnPropertyDescriptor(i,r);return void(void 0!==o.get?o.configurable?(Object.defineProperty(i,r,{value:"[Circular]"}),ET.push([i,r,t,o])):wT.push([t,r]):(i[r]="[Circular]",ET.push([i,r,t])))}if("function"==typeof t.toJSON)return;if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)e(t[s],s,n,t);else{var a={},c=Object.keys(t).sort(ST);for(s=0;s<c.length;s++){var u=c[s];e(t[u],u,n,t),a[u]=t[u]}if(void 0===i)return a;ET.push([i,r,t]),i[r]=a}n.pop()}}(e,"",[],void 0)||e;for(n=0===wT.length?JSON.stringify(i,t,r):JSON.stringify(i,OT(t),r);0!==ET.length;){var s=ET.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return n}function OT(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(wT.length>0)for(var n=0;n<wT.length;n++){var i=wT[n];if(i[1]===t&&i[0]===r){r="[Circular]",wT.splice(n,1);break}}return e.call(this,t,r)}}function kT(){return TT||(TT=!0,bT={},bT=RT,RT.default=RT,RT.stable=CT,RT.stableStringify=CT,ET=[],wT=[]),bT}var NT,AT=!1;function PT(){return AT||(AT=!0,NT={},NT={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),NT}var MT,IT,LT,DT,xT=!1;function qT(){return xT||(xT=!0,function(){MT={},IT=PT(),LT={};for(const e of Object.keys(IT))LT[IT[e]]=e;MT=DT={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(const e of Object.keys(DT)){if(!("channels"in DT[e]))throw new Error("missing channels property: "+e);if(!("labels"in DT[e]))throw new Error("missing channel labels property: "+e);if(DT[e].labels.length!==DT[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=DT[e];delete DT[e].channels,delete DT[e].labels,Object.defineProperty(DT[e],"channels",{value:t}),Object.defineProperty(DT[e],"labels",{value:r})}DT.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,c;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(60*a,360),a<0&&(a+=360);const u=(i+s)/2;return c=s===i?0:u<=.5?o/(s+i):o/(2-s-i),[a,100*c,100*u]},DT.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(o,a,c),l=u-Math.min(o,a,c),h=function(e){return(u-e)/6/l+.5};return 0===l?(i=0,s=0):(s=l/u,t=h(o),r=h(a),n=h(c),o===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*u]},DT.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=DT.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,100*s,100*n]},DT.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n);return[100*((1-t-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*i]},DT.rgb.keyword=function(e){const t=LT[e];if(t)return t;let r,n=1/0;for(const t of Object.keys(IT)){const o=IT[t],a=(s=o,((i=e)[0]-s[0])**2+(i[1]-s[1])**2+(i[2]-s[2])**2);a<n&&(n=a,r=t)}var i,s;return r},DT.keyword.rgb=function(e){return IT[e]},DT.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*t+.3576*r+.1805*n),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},DT.rgb.lab=function(e){const t=DT.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*n-16,500*(r-n),200*(n-i)]},DT.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(0===r)return o=255*n,[o,o,o];i=n<.5?n*(1+r):n+r-n*r;const a=2*n-i,c=[0,0,0];for(let e=0;e<3;e++)s=t+1/3*-(e-1),s<0&&s++,s>1&&s--,o=6*s<1?a+6*(i-a)*s:2*s<1?i:3*s<2?a+(i-a)*(2/3-s)*6:a,c[e]=255*o;return c},DT.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;return[t,100*(0===n?2*i/(s+i):2*r/(n+r)),100*((n+r)/2)]},DT.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}},DT.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,100*s,100*o]},DT.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,0!=(1&o)&&(s=1-s);const c=r+s*(a-r);let u,l,h;switch(o){default:case 6:case 0:u=a,l=c,h=r;break;case 1:u=c,l=a,h=r;break;case 2:u=r,l=a,h=c;break;case 3:u=r,l=c,h=a;break;case 4:u=c,l=r,h=a;break;case 5:u=a,l=r,h=c}return[255*u,255*l,255*h]},DT.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},DT.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=3.2406*t+-1.5372*r+-.4986*n,s=-.9689*t+1.8758*r+.0415*n,o=.0557*t+-.204*r+1.057*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[255*i,255*s,255*o]},DT.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(t-r),200*(r-n)]},DT.lab.xyz=function(e){let t,r,n;r=(e[0]+16)/116,t=e[1]/500+r,n=r-e[2]/200;const i=r**3,s=t**3,o=n**3;return r=i>.008856?i:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,t*=95.047,r*=100,n*=108.883,[t,r,n]},DT.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;i=360*Math.atan2(n,r)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(r*r+n*n),i]},DT.lch.lab=function(e){const t=e[0],r=e[1],n=e[2]/360*2*Math.PI;return[t,r*Math.cos(n),r*Math.sin(n)]},DT.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=null===t?DT.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===s&&(o+=60),o},DT.hsv.ansi16=function(e){return DT.rgb.ansi16(DT.hsv.rgb(e),e[2])},DT.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},DT.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},DT.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},DT.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},DT.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map(e=>e+e).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},DT.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,c;return a=o<1?s/(1-o):0,c=o<=0?0:i===t?(r-n)/o%6:i===r?2+(n-t)/o:4+(t-r)/o,c/=6,c%=1,[360*c,100*o,100*a]},DT.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},DT.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},DT.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let c=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[255*(r*i[0]+c),255*(r*i[1]+c),255*(r*i[2]+c)]},DT.hcg.hsv=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);let n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},DT.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},DT.hcg.hwb=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},DT.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,n=r-t;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},DT.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},DT.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},DT.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},DT.gray.hsl=function(e){return[0,0,e[0]]},DT.gray.hsv=DT.gray.hsl,DT.gray.hwb=function(e){return[0,100,e[0]]},DT.gray.cmyk=function(e){return[0,0,0,e[0]]},DT.gray.lab=function(e){return[e[0],0,0]},DT.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},DT.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}()),MT}var jT,FT,$T=!1;function BT(e){const t=function(){const e={},t=Object.keys(FT);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;){const e=r.pop(),n=Object.keys(FT[e]);for(let i=n.length,s=0;s<i;s++){const i=n[s],o=t[i];-1===o.distance&&(o.distance=t[e].distance+1,o.parent=e,r.unshift(i))}}return t}function UT(e,t){return function(r){return t(e(r))}}function HT(e,t){const r=[t[e].parent,e];let n=FT[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=UT(FT[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}function WT(){return $T||($T=!0,jT={},FT=qT(),jT=function(e){const t=BT(e),r={},n=Object.keys(t);for(let e=n.length,i=0;i<e;i++){const e=n[i];null!==t[e].parent&&(r[e]=HT(e,t))}return r}),jT}var GT,VT,zT,QT,KT=!1;function JT(){GT={},VT=qT(),zT=WT(),QT={},Object.keys(VT).forEach(e=>{QT[e]={},Object.defineProperty(QT[e],"channels",{value:VT[e].channels}),Object.defineProperty(QT[e],"labels",{value:VT[e].labels});const t=zT(e);Object.keys(t).forEach(r=>{const n=t[r];QT[e][r]=function(e){const t=function(...t){const r=t[0];if(null==r)return r;r.length>1&&(t=r);const n=e(t);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(n),QT[e][r].raw=function(e){const t=function(...t){const r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)})}),GT=QT}var YT,XT=!1;function ZT(){YT=function(){var e={exports:this};const t=(e,t)=>(...r)=>`[${e(...r)+t}m`,r=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},n=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},i=e=>e,s=(e,t,r)=>[e,t,r],o=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let a;const c=(e,t,r,n)=>{void 0===a&&(KT||(KT=!0,JT()),a=GT);const i=n?10:0,s={};for(const[n,o]of Object.entries(a)){const a="ansi16"===n?"ansi":n;n===t?s[a]=e(r,i):"object"==typeof o&&(s[a]=e(o[t],i))}return s};return Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[t,r]of Object.entries(a)){for(const[t,n]of Object.entries(r))a[t]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[t]=a[t],e.set(n[0],n[1]);Object.defineProperty(a,t,{value:r,enumerable:!1})}return Object.defineProperty(a,"codes",{value:e,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",o(a.color,"ansi",()=>c(t,"ansi16",i,!1)),o(a.color,"ansi256",()=>c(r,"ansi256",i,!1)),o(a.color,"ansi16m",()=>c(n,"rgb",s,!1)),o(a.bgColor,"ansi",()=>c(t,"ansi16",i,!0)),o(a.bgColor,"ansi256",()=>c(r,"ansi256",i,!0)),o(a.bgColor,"ansi16m",()=>c(n,"rgb",s,!0)),a}}),e.exports}.call({})}var eR,tR=!1;function rR(){return tR||(tR=!0,eR={},eR=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)}),eR}var nR,iR,sR,oR,aR,cR,uR=!1;function lR(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function hR(e,t){if(0===cR)return 0;if(oR("color=16m")||oR("color=full")||oR("color=truecolor"))return 3;if(oR("color=256"))return 2;if(e&&!t&&void 0===cR)return 0;const r=cR||0;if("dumb"===aR.TERM)return r;if("win32"===process.platform){const e=iR.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in aR)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in aR)||"codeship"===aR.CI_NAME?1:r;if("TEAMCITY_VERSION"in aR)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(aR.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in aR)return 1;if("truecolor"===aR.COLORTERM)return 3;if("TERM_PROGRAM"in aR){const e=parseInt((aR.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(aR.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(aR.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(aR.TERM)||"COLORTERM"in aR?1:r}function fR(e){return lR(hR(e,e&&e.isTTY))}function dR(){return uR||(uR=!0,nR={},iR=i,sR=t,oR=rR(),({env:aR}=process),oR("no-color")||oR("no-colors")||oR("color=false")||oR("color=never")?cR=0:(oR("color")||oR("colors")||oR("color=true")||oR("color=always"))&&(cR=1),"FORCE_COLOR"in aR&&(cR="true"===aR.FORCE_COLOR?1:"false"===aR.FORCE_COLOR?0:0===aR.FORCE_COLOR.length?1:Math.min(parseInt(aR.FORCE_COLOR,10),3)),nR={supportsColor:fR,stdout:lR(hR(!0,sR.isatty(1))),stderr:lR(hR(!0,sR.isatty(2)))}),nR}var pR,mR=!1;function gR(){return mR||(mR=!0,pR={},pR={stringReplaceAll:(e,t,r)=>{let n=e.indexOf(t);if(-1===n)return e;const i=t.length;let s=0,o="";do{o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s)}while(-1!==n);return o+=e.substr(s),o},stringEncaseCRLFWithFirstIndex:(e,t,r,n)=>{let i=0,s="";do{const o="\r"===e[n-1];s+=e.substr(i,(o?n-1:n)-i)+t+(o?"\r\n":"\n")+r,i=n+1,n=e.indexOf("\n",i)}while(-1!==n);return s+=e.substr(i),s}}),pR}var yR,vR,_R,bR,ER,wR,TR=!1;function RR(e){const t="u"===e[0],r="{"===e[1];return t&&!r&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):wR.get(e)||e}function SR(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const t of n){const n=Number(t);if(Number.isNaN(n)){if(!(i=t.match(bR)))throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`);r.push(i[2].replace(ER,(e,t,r)=>t?RR(t):r))}else r.push(n)}return r}function CR(e){_R.lastIndex=0;const t=[];let r;for(;null!==(r=_R.exec(e));){const e=r[1];if(r[2]){const n=SR(e,r[2]);t.push([e].concat(n))}else t.push([e])}return t}function OR(e,t){const r={};for(const e of t)for(const t of e.styles)r[t[0]]=e.inverse?null:t.slice(1);let n=e;for(const[e,t]of Object.entries(r))if(Array.isArray(t)){if(!(e in n))throw new Error("Unknown Chalk style: "+e);n=t.length>0?n[e](...t):n[e]}return n}function kR(){return TR||(TR=!0,yR={},vR=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,_R=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,bR=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ER=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,wR=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]),yR=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(vR,(t,s,o,a,c,u)=>{if(s)i.push(RR(s));else if(a){const t=i.join("");i=[],n.push(0===r.length?t:OR(e,r)(t)),r.push({inverse:o,styles:CR(a)})}else if(c){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");n.push(OR(e,r)(i.join(""))),i=[],r.pop()}else i.push(u)}),n.push(i.join("")),r.length>0){const e=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(e)}return n.join("")}),yR}var NR,AR,PR,MR,IR,LR,DR,xR,qR,jR,FR,$R,BR,UR,HR,WR,GR,VR,zR,QR,KR=!1;function JR(e){return $R(e)}function YR(){NR={},XT||(XT=!0,ZT()),AR=YT,({stdout:PR,stderr:MR}=dR()),({stringReplaceAll:IR,stringEncaseCRLFWithFirstIndex:LR}=gR()),({isArray:DR}=Array),xR=["ansi","ansi","ansi256","ansi16m"],qR=Object.create(null),jR=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=PR?PR.level:0;e.level=void 0===t.level?r:t.level},FR=class{constructor(e){return $R(e)}},$R=e=>{const t={};return jR(t,e),t.template=(...e)=>zR(t.template,...e),Object.setPrototypeOf(t,JR.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=FR,t.template};for(const[e,t]of Object.entries(AR))qR[e]={get(){const r=WR(this,HR(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};qR.visible={get(){const e=WR(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}},BR=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of BR)qR[e]={get(){const{level:t}=this;return function(...r){const n=HR(AR.color[xR[t]][e](...r),AR.color.close,this._styler);return WR(this,n,this._isEmpty)}}};for(const e of BR){const t="bg"+e[0].toUpperCase()+e.slice(1);qR[t]={get(){const{level:t}=this;return function(...r){const n=HR(AR.bgColor[xR[t]][e](...r),AR.bgColor.close,this._styler);return WR(this,n,this._isEmpty)}}}}UR=Object.defineProperties(()=>{},{...qR,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),HR=(e,t,r)=>{let n,i;return void 0===r?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},WR=(e,t,r)=>{const n=(...e)=>DR(e[0])&&DR(e[0].raw)?GR(n,zR(n,...e)):GR(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,UR),n._generator=e,n._styler=t,n._isEmpty=r,n},GR=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(void 0===r)return t;const{openAll:n,closeAll:i}=r;if(-1!==t.indexOf(""))for(;void 0!==r;)t=IR(t,r.close,r.open),r=r.parent;const s=t.indexOf("\n");return-1!==s&&(t=LR(t,i,n,s)),n+t+i},zR=(e,...t)=>{const[r]=t;if(!DR(r)||!DR(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let e=1;e<r.length;e++)i.push(String(n[e-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[e]));return void 0===VR&&(VR=kR()),VR(e,i.join(""))},Object.defineProperties(JR.prototype,qR),(QR=JR()).supportsColor=PR,QR.stderr=JR({level:MR?MR.level:0}),QR.stderr.supportsColor=MR,NR=QR}function XR(){return KR||(KR=!0,YR()),NR}var ZR,eS=!1;function tS(){!function(e){function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e,i){if(e===i)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(i))return!1;if(!0===t(e)){if(e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(!1===n(e[s],i[s]))return!1;return!0}if(!0===r(e)){var o={};for(var a in e)if(hasOwnProperty.call(e,a)){if(!1===n(e[a],i[a]))return!1;o[a]=!0}for(var c in i)if(hasOwnProperty.call(i,c)&&!0!==o[c])return!1;return!0}return!1}function i(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(r(e)){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}return!1}var s;s="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var o=0,a=2,c={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},u={"<":!0,">":!0,"=":!0,"!":!0},l={" ":!0,"\t":!0,"\n":!0};function h(e){return e>="0"&&e<="9"||"-"===e}function f(){}f.prototype={tokenize:function(e){var t,r,n,i,s=[];for(this._current=0;this._current<e.length;)if((i=e[this._current])>="a"&&i<="z"||i>="A"&&i<="Z"||"_"===i)t=this._current,r=this._consumeUnquotedIdentifier(e),s.push({type:"UnquotedIdentifier",value:r,start:t});else if(void 0!==c[e[this._current]])s.push({type:c[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(h(e[this._current]))n=this._consumeNumber(e),s.push(n);else if("["===e[this._current])n=this._consumeLBracket(e),s.push(n);else if('"'===e[this._current])t=this._current,r=this._consumeQuotedIdentifier(e),s.push({type:"QuotedIdentifier",value:r,start:t});else if("'"===e[this._current])t=this._current,r=this._consumeRawStringLiteral(e),s.push({type:"Literal",value:r,start:t});else if("`"===e[this._current]){t=this._current;var o=this._consumeLiteral(e);s.push({type:"Literal",value:o,start:t})}else if(void 0!==u[e[this._current]])s.push(this._consumeOperator(e));else if(void 0!==l[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,s.push({type:"And",value:"&&",start:t})):s.push({type:"Expref",value:"&",start:t});else{if("|"!==e[this._current]){var a=new Error("Unknown character:"+e[this._current]);throw a.name="LexerError",a}t=this._current,this._current++,"|"===e[this._current]?(this._current++,s.push({type:"Or",value:"||",start:t})):s.push({type:"Pipe",value:"|",start:t})}return s},_consumeUnquotedIdentifier:function(e){var t,r=this._current;for(this._current++;this._current<e.length&&((t=e[this._current])>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"===t);)this._current++;return e.slice(r,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var r=e.length;'"'!==e[this._current]&&this._current<r;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&'"'!==e[n+1]?n++:n+=2,this._current=n}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var r=e.length;"'"!==e[this._current]&&this._current<r;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&"'"!==e[n+1]?n++:n+=2,this._current=n}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var r=e.length;h(e[this._current])&&this._current<r;)this._current++;return{type:"Number",value:parseInt(e.slice(t,this._current)),start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:"Filter",value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:"Flatten",value:"[]",start:t}):{type:"Lbracket",value:"[",start:t}},_consumeOperator:function(e){var t=this._current,r=e[t];return this._current++,"!"===r?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===r?"="===e[this._current]?(this._current++,{type:"LTE",value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===r?"="===e[this._current]?(this._current++,{type:"GTE",value:">=",start:t}):{type:"GT",value:">",start:t}:"="===r&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,r=this._current,n=e.length;"`"!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var o=s(e.slice(r,this._current));return o=o.replace("\\`","`"),t=this._looksLikeJSON(o)?JSON.parse(o):JSON.parse('"'+o+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var d={};function p(){}function m(e){this.runtime=e}function g(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[o]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[o]}]},contains:{_func:this._functionContains,_signature:[{types:[a,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[a]},{types:[a]}]},floor:{_func:this._functionFloor,_signature:[{types:[o]}]},length:{_func:this._functionLength,_signature:[{types:[a,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[a]},{types:[a]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[a]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[a,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}d.EOF=0,d.UnquotedIdentifier=0,d.QuotedIdentifier=0,d.Rbracket=0,d.Rparen=0,d.Comma=0,d.Rbrace=0,d.Number=0,d.Current=0,d.Expref=0,d.Pipe=1,d.Or=2,d.And=3,d.EQ=5,d.GT=5,d.LT=5,d.GTE=5,d.LTE=5,d.NE=5,d.Flatten=9,d.Star=20,d.Filter=21,d.Dot=40,d.Not=45,d.Lbrace=50,d.Lbracket=55,d.Lparen=60,p.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"!==this._lookahead(0)){var r=this._lookaheadToken(0),n=new Error("Unexpected token type: "+r.type+", value: "+r.value);throw n.name="ParserError",n}return t},_loadTokens:function(e){var t=(new f).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var r=this.nud(t),n=this._lookahead(0);e<d[n];)this._advance(),r=this.led(n,r),n=this._lookahead(0);return r},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,r;switch(e.type){case"Literal":return{type:"Literal",value:e.value};case"UnquotedIdentifier":return{type:"Field",name:e.value};case"QuotedIdentifier":var n={type:"Field",name:e.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return n;case"Not":return{type:"NotExpression",children:[t=this.expression(d.Not)]};case"Star":return t=null,{type:"ValueProjection",children:[{type:"Identity"},t="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(d.Star)]};case"Filter":return this.led(e.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},t=this._parseProjectionRHS(d.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(d.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[r=this.expression(d.Expref)]};case"Lparen":for(var i=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(r={type:"Current"},this._advance()):r=this.expression(0),i.push(r);return this._match("Rparen"),i[0];default:this._errorToken(e)}},led:function(e,t){var r;switch(e){case"Dot":var n=d.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[t,r=this._parseDotRHS(n)]}:(this._advance(),{type:"ValueProjection",children:[t,r=this._parseProjectionRHS(n)]});case"Pipe":return{type:"Pipe",children:[t,r=this.expression(d.Pipe)]};case"Or":return{type:"OrExpression",children:[t,r=this.expression(d.Or)]};case"And":return{type:"AndExpression",children:[t,r=this.expression(d.And)]};case"Lparen":for(var i,s=t.name,o=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(i={type:"Current"},this._advance()):i=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),o.push(i);return this._match("Rparen"),{type:"Function",name:s,children:o};case"Filter":var a=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[t,r="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(d.Filter),a]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[t]},this._parseProjectionRHS(d.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(t,e);case"Lbracket":var c=this._lookaheadToken(0);return"Number"===c.type||"Colon"===c.type?(r=this._parseIndexExpression(),this._projectIfSlice(t,r)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[t,r=this._parseProjectionRHS(d.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),r=new Error("Expected "+e+", got: "+t.type);throw r.name="ParserError",r}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),e},_projectIfSlice:function(e,t){var r={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[r,this._parseProjectionRHS(d.Star)]}:r},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,r=this._lookahead(0);"Rbracket"!==r&&t<3;){if("Colon"===r)t++,this._advance();else{if("Number"!==r){var n=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+n.value+"("+n.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}r=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(d[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(t)>=0?this.expression(e):"Lbracket"===t?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===t?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(d[this._lookahead(0)]<10)t={type:"Identity"};else if("Lbracket"===this._lookahead(0))t=this.expression(e);else if("Filter"===this._lookahead(0))t=this.expression(e);else{if("Dot"!==this._lookahead(0)){var r=this._lookaheadToken(0),n=new Error("Sytanx error, unexpected token: "+r.value+"("+r.type+")");throw n.name="ParserError",n}this._match("Dot"),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];"Rbracket"!==this._lookahead(0);){var t=this.expression(0);if(e.push(t),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,r,n=[],i=["UnquotedIdentifier","QuotedIdentifier"];;){if(e=this._lookaheadToken(0),i.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match("Colon"),r={type:"KeyValuePair",name:t,value:this.expression(0)},n.push(r),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:n}}},m.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,s){var o,a,c,u,l,h,f,d,p;switch(e.type){case"Field":return null===s?null:r(s)?void 0===(h=s[e.name])?null:h:null;case"Subexpression":for(c=this.visit(e.children[0],s),p=1;p<e.children.length;p++)if(null===(c=this.visit(e.children[1],c)))return null;return c;case"IndexExpression":return f=this.visit(e.children[0],s),this.visit(e.children[1],f);case"Index":if(!t(s))return null;var m=e.value;return m<0&&(m=s.length+m),void 0===(c=s[m])&&(c=null),c;case"Slice":if(!t(s))return null;var g=e.children.slice(0),y=this.computeSliceParams(s.length,g),v=y[0],_=y[1],b=y[2];if(c=[],b>0)for(p=v;p<_;p+=b)c.push(s[p]);else for(p=v;p>_;p+=b)c.push(s[p]);return c;case"Projection":var E=this.visit(e.children[0],s);if(!t(E))return null;for(d=[],p=0;p<E.length;p++)null!==(a=this.visit(e.children[1],E[p]))&&d.push(a);return d;case"ValueProjection":if(!r(E=this.visit(e.children[0],s)))return null;d=[];var w=function(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}(E);for(p=0;p<w.length;p++)null!==(a=this.visit(e.children[1],w[p]))&&d.push(a);return d;case"FilterProjection":if(!t(E=this.visit(e.children[0],s)))return null;var T=[],R=[];for(p=0;p<E.length;p++)i(o=this.visit(e.children[2],E[p]))||T.push(E[p]);for(var S=0;S<T.length;S++)null!==(a=this.visit(e.children[1],T[S]))&&R.push(a);return R;case"Comparator":switch(u=this.visit(e.children[0],s),l=this.visit(e.children[1],s),e.name){case"EQ":c=n(u,l);break;case"NE":c=!n(u,l);break;case"GT":c=u>l;break;case"GTE":c=u>=l;break;case"LT":c=u<l;break;case"LTE":c=u<=l;break;default:throw new Error("Unknown comparator: "+e.name)}return c;case"Flatten":var C=this.visit(e.children[0],s);if(!t(C))return null;var O=[];for(p=0;p<C.length;p++)t(a=C[p])?O.push.apply(O,a):O.push(a);return O;case"Identity":return s;case"MultiSelectList":if(null===s)return null;for(d=[],p=0;p<e.children.length;p++)d.push(this.visit(e.children[p],s));return d;case"MultiSelectHash":if(null===s)return null;var k;for(d={},p=0;p<e.children.length;p++)d[(k=e.children[p]).name]=this.visit(k.value,s);return d;case"OrExpression":return i(o=this.visit(e.children[0],s))&&(o=this.visit(e.children[1],s)),o;case"AndExpression":return!0===i(u=this.visit(e.children[0],s))?u:this.visit(e.children[1],s);case"NotExpression":return i(u=this.visit(e.children[0],s));case"Literal":return e.value;case"Pipe":return f=this.visit(e.children[0],s),this.visit(e.children[1],f);case"Current":return s;case"Function":var N=[];for(p=0;p<e.children.length;p++)N.push(this.visit(e.children[p],s));return this.runtime.callFunction(e.name,N);case"ExpressionReference":var A=e.children[0];return A.jmespathType="Expref",A;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var r=t[0],n=t[1],i=t[2],s=[null,null,null];if(null===i)i=1;else if(0===i){var o=new Error("Invalid slice, step cannot be 0");throw o.name="RuntimeError",o}var a=i<0;return r=null===r?a?e-1:0:this.capSliceRange(e,r,i),n=null===n?a?-1:e:this.capSliceRange(e,n,i),s[0]=r,s[1]=n,s[2]=i,s},capSliceRange:function(e,t,r){return t<0?(t+=e)<0&&(t=r<0?-1:0):t>=e&&(t=r<0?e-1:e),t}},g.prototype={callFunction:function(e,t){var r=this.functionTable[e];if(void 0===r)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,r._signature),r._func.call(this,t)},_validateArgs:function(e,t,r){var n,i,s,o;if(r[r.length-1].variadic){if(t.length<r.length)throw n=1===r.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+r.length+n+" but received "+t.length)}else if(t.length!==r.length)throw n=1===r.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+r.length+n+" but received "+t.length);for(var a=0;a<r.length;a++){o=!1,i=r[a].types,s=this._getTypeName(t[a]);for(var c=0;c<i.length;c++)if(this._typeMatches(s,i[c],t[a])){o=!0;break}if(!o)throw new Error("TypeError: "+e+"() expected argument "+(a+1)+" to be type "+i+" but received type "+s+" instead.")}},_typeMatches:function(e,t,r){if(1===t)return!0;if(9!==t&&8!==t&&3!==t)return e===t;if(3===t)return 3===e;if(3===e){var n;8===t?n=o:9===t&&(n=a);for(var i=0;i<r.length;i++)if(!this._typeMatches(this._getTypeName(r[i]),n,r[i]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return a;case"[object Number]":return o;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===e.jmespathType?6:4}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],r=e[1];return-1!==t.indexOf(r,t.length-r.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===a){for(var t=e[0],r="",n=t.length-1;n>=0;n--)r+=t[n];return r}var i=e[0].slice(0);return i.reverse(),i},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,r=e[0],n=0;n<r.length;n++)t+=r[n];return t/r.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return r(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],r=this._interpreter,n=e[0],i=e[1],s=0;s<i.length;s++)t.push(r.visit(n,i[s]));return t},_functionMerge:function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];for(var i in n)t[i]=n[i]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===o)return Math.max.apply(Math,e[0]);for(var t=e[0],r=t[0],n=1;n<t.length;n++)r.localeCompare(t[n])<0&&(r=t[n]);return r}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===o)return Math.min.apply(Math,e[0]);for(var t=e[0],r=t[0],n=1;n<t.length;n++)t[n].localeCompare(r)<0&&(r=t[n]);return r}return null},_functionSum:function(e){for(var t=0,r=e[0],n=0;n<r.length;n++)t+=r[n];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case o:return"number";case a:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],r=Object.keys(t),n=[],i=0;i<r.length;i++)n.push(t[r[i]]);return n},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return 3===this._getTypeName(e[0])?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===a?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,r=this._getTypeName(e[0]);return r===o?e[0]:r!==a||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var r=this._interpreter,n=e[1],i=this._getTypeName(r.visit(n,t[0]));if([o,a].indexOf(i)<0)throw new Error("TypeError");for(var s=this,c=[],u=0;u<t.length;u++)c.push([u,t[u]]);c.sort((function(e,t){var o=r.visit(n,e[1]),a=r.visit(n,t[1]);if(s._getTypeName(o)!==i)throw new Error("TypeError: expected "+i+", received "+s._getTypeName(o));if(s._getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+s._getTypeName(a));return o>a?1:o<a?-1:e[0]-t[0]}));for(var l=0;l<c.length;l++)t[l]=c[l][1];return t},_functionMaxBy:function(e){for(var t,r,n=e[1],i=e[0],s=this.createKeyFunction(n,[o,a]),c=-1/0,u=0;u<i.length;u++)(r=s(i[u]))>c&&(c=r,t=i[u]);return t},_functionMinBy:function(e){for(var t,r,n=e[1],i=e[0],s=this.createKeyFunction(n,[o,a]),c=1/0,u=0;u<i.length;u++)(r=s(i[u]))<c&&(c=r,t=i[u]);return t},createKeyFunction:function(e,t){var r=this,n=this._interpreter;return function(i){var s=n.visit(e,i);if(t.indexOf(r._getTypeName(s))<0){var o="TypeError: expected one of "+t+", received "+r._getTypeName(s);throw new Error(o)}return s}}},e.tokenize=function(e){return(new f).tokenize(e)},e.compile=function(e){return(new p).parse(e)},e.search=function(e,t){var r=new p,n=new g,i=new m(n);n._interpreter=i;var s=r.parse(t);return i.search(s,e)},e.strictDeepEqual=n}(void 0===(ZR={})?ZR.jmespath={}:ZR)}var rS,nS=!1;function iS(){return nS||(nS=!0,rS={},rS={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN ",30:"INFO ",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","v","caller"]}),rS}var sS,oS,aS,cS,uS,lS,hS,fS,dS=!1;function pS(e,t){if(Number.isInteger(+e))return Object.prototype.hasOwnProperty.call(oS,e)?t[e](oS[e]):t.default(oS.default);const r=aS[e.toLowerCase()]||"default";return t[r](oS[r])}function mS(e){return pS(e,uS)}function gS(e){return pS(e,fS)}function yS(){return dS||(dS=!0,sS={},({LEVELS:oS,LEVEL_NAMES:aS}=iS()),uS={default:cS=e=>e,60:cS,50:cS,40:cS,30:cS,20:cS,10:cS,message:cS},lS=XR(),hS=new lS.Instance({level:3}),fS={default:hS.white,60:hS.bgRed,50:hS.red,40:hS.yellow,30:hS.green,20:hS.blue,10:hS.grey,message:hS.cyan},mS.message=uS.message,gS.message=fS.message,sS=function(e=!1){return e?gS:mS}),sS}var vS,_S=!1;function bS(){return _S||(_S=!0,function(e){var t,r,n,i=(t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,function(e,u,l,h){if(1!==arguments.length||"string"!==c(e)||/\d/.test(e)||(u=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var f=(u=String(i.masks[u]||u||i.masks.default)).slice(0,4);"UTC:"!==f&&"GMT:"!==f||(u=u.slice(4),l=!0,"GMT:"===f&&(h=!0));var d=l?"getUTC":"get",p=e[d+"Date"](),m=e[d+"Day"](),g=e[d+"Month"](),y=e[d+"FullYear"](),v=e[d+"Hours"](),_=e[d+"Minutes"](),b=e[d+"Seconds"](),E=e[d+"Milliseconds"](),w=l?0:e.getTimezoneOffset(),T=o(e),R=a(e),S={d:p,dd:s(p),ddd:i.i18n.dayNames[m],dddd:i.i18n.dayNames[m+7],m:g+1,mm:s(g+1),mmm:i.i18n.monthNames[g],mmmm:i.i18n.monthNames[g+12],yy:String(y).slice(2),yyyy:y,h:v%12||12,hh:s(v%12||12),H:v,HH:s(v),M:_,MM:s(_),s:b,ss:s(b),l:s(E,3),L:s(Math.round(E/10)),t:v<12?i.i18n.timeNames[0]:i.i18n.timeNames[1],tt:v<12?i.i18n.timeNames[2]:i.i18n.timeNames[3],T:v<12?i.i18n.timeNames[4]:i.i18n.timeNames[5],TT:v<12?i.i18n.timeNames[6]:i.i18n.timeNames[7],Z:h?"GMT":l?"UTC":(String(e).match(r)||[""]).pop().replace(n,""),o:(w>0?"-":"+")+s(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:T,N:R};return u.replace(t,(function(e){return e in S?S[e]:e.slice(1,e.length-1)}))});function s(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function o(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var r=new Date(t.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=t.getTimezoneOffset()-r.getTimezoneOffset();t.setHours(t.getHours()-n);var i=(t-r)/6048e5;return 1+Math.floor(i)}function a(e){var t=e.getDay();return 0===t&&(t=7),t}function c(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}i.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},"function"==typeof define&&define.amd?define((function(){return i})):"object"==typeof vS?vS=i:e.dateFormat=i}(vS={})),vS}var ES,wS,TS,RS,SS,CS,OS,kS,NS,AS,PS=!1;function MS(e,t=!1){if(!1===t)return e;const r=new Date(e);if(!0===t)return wS(r,"UTC:"+SS);const n=t.toUpperCase();if("SYS:STANDARD"===n)return wS(r,SS);const i=n.substr(0,4);return wS(r,"SYS:"===i||"UTC:"===i?"UTC:"===i?t:t.slice(4):"UTC:"+t)}function IS(e){return"[object Object]"===Object.prototype.toString.apply(e)}function LS({input:e,ident:t="    ",eol:r="\n"}){const n=e.split(/\r?\n/);for(var i=1;i<n.length;i+=1)n[i]=t+n[i];return n.join(r)}function DS({log:e,messageKey:t=OS,ident:r="    ",eol:n="\n",errorLikeKeys:i=CS,errorProperties:s=[]}){let o=`${r}${LS({input:e.stack,ident:r,eol:n})}${n}`;if(s.length>0){const c=AS.concat(t,"type","stack");let u;u="*"===s[0]?Object.keys(e).filter(e=>!1===c.includes(e)):s.filter(e=>!1===c.includes(e));for(var a=0;a<u.length;a+=1){const t=u[a];if(t in e!=!1)if(IS(e[t])){o=`${o}${t}: {${n}${FS({input:e[t],errorLikeKeys:i,excludeLoggerKeys:!1,eol:n,ident:r})}}${n}`}else o=`${o}${t}: ${e[t]}${n}`}}return o}function xS({log:e,colorizer:t=RS,levelKey:r=kS}){if(r in e!=!1)return t(e[r])}function qS({log:e,messageFormat:t,messageKey:r=OS,colorizer:n=RS}){if(t){const r=String(t).replace(/{([^{}]+)}/g,(function(t,r){return r&&e[r]?e[r]:""}));return n.message(r)}if(r in e!=!1&&"string"==typeof e[r])return n.message(e[r])}function jS({log:e}){let t="";return(e.name||e.pid||e.hostname)&&(t+="(",e.name&&(t+=e.name),e.name&&e.pid?t+="/"+e.pid:e.pid&&(t+=e.pid),e.hostname&&(t+=`${"("===t?"on":" on"} ${e.hostname}`),t+=")"),e.caller&&(t+=`${""===t?"":" "}<${e.caller}>`),""===t?void 0:t}function FS({input:e,ident:t="    ",eol:r="\n",skipKeys:n=[],customPrettifiers:i={},errorLikeKeys:s=CS,excludeLoggerKeys:o=!0}){const a=Object.keys(e),c=[].concat(n);!0===o&&Array.prototype.push.apply(c,AS);let u="";const l=a.filter(e=>!1===c.includes(e));for(var h=0;h<a.length;h+=1){const n=l[h],o=e[n];if(void 0===o)continue;let a;if(a="function"==typeof i[n]?i[n](o,n,e):TS(o,null,2),void 0===a)continue;const c=LS({input:a,ident:t,eol:r});if(!0===s.includes(n)){const e=`${t}${n}: ${c}${r}`.split(r);for(var f=0;f<e.length;f+=1){0!==f&&(u+=r);const t=e[f];if(/^\s*"stack"/.test(t)){const e=/^(\s*"stack":)\s*(".*"),?$/.exec(t);if(e&&3===e.length){const n=/^\s*/.exec(t)[0].length+4,i=" ".repeat(n),s=e[2];u+=e[1]+r+i+JSON.parse(s).replace(/\n/g,r+i)}}else u+=t}}else u+=`${t}${n}: ${c}${r}`}return u}function $S({log:e,timestampKey:t=NS,translateFormat:r}){let n=null;if(t in e?n=e[t]:"timestamp"in e&&(n=e.timestamp),null!==n)return r?"["+MS(n,r)+"]":`[${n}]`}function BS(){return PS||(PS=!0,ES={},wS=bS(),TS=kT(),RS=yS()(),({DATE_FORMAT:SS,ERROR_LIKE_KEYS:CS,MESSAGE_KEY:OS,LEVEL_KEY:kS,TIMESTAMP_KEY:NS,LOGGER_KEYS:AS}=iS()),(ES={isObject:IS,prettifyErrorLog:DS,prettifyLevel:xS,prettifyMessage:qS,prettifyMetadata:jS,prettifyObject:FS,prettifyTime:$S}).internals={formatTime:MS,joinLinesWithIndentation:LS}),ES}var US,HS,WS,GS,VS,zS=!1;function QS(){return zS||(zS=!0,HS={suspectRx:/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/},(US={}).parse=WS=function(e,...t){const r="object"==typeof t[0]&&t[0],n=t.length>1||!r?t[0]:void 0,i=t.length>1&&t[1]||r||{},s=JSON.parse(e,n);return"ignore"===i.protoAction?s:s&&"object"==typeof s&&e.match(HS.suspectRx)?(GS(s,i),s):s},GS=function(e,t={}){let r=[e];for(;r.length;){const e=r;r=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__")){if("remove"!==t.protoAction)throw new SyntaxError("Object contains forbidden prototype property");delete n.__proto__}for(const e in n){const t=n[e];t&&"object"==typeof t&&r.push(n[e])}}}},US.scan=GS,VS=function(e,t){try{return WS(e,t)}catch(e){return null}},US.safeParse=VS),US}var KS,JS,YS,XS,ZS,eC,tC,rC,nC,iC,sC,oC,aC,cC,uC,lC,hC,fC=!1;function dC(){KS={},JS=XR(),eS||(eS=!0,tS()),YS=ZR,XS=yS(),({ERROR_LIKE_KEYS:ZS,MESSAGE_KEY:eC,TIMESTAMP_KEY:tC}=iS()),({isObject:rC,prettifyErrorLog:nC,prettifyLevel:iC,prettifyMessage:sC,prettifyMetadata:oC,prettifyObject:aC,prettifyTime:cC}=BS()),uC=QS(),lC=e=>{try{return{value:uC.parse(e,{protoAction:"remove"})}}catch(e){return{err:e}}},hC={colorize:JS.supportsColor,crlf:!1,errorLikeObjectKeys:ZS,errorProps:"",levelFirst:!1,messageKey:eC,messageFormat:!1,timestampKey:tC,translateTime:!1,useMetadata:!1,outputStream:process.stdout,customPrettifiers:{}},KS=function(e){const t=Object.assign({},hC,e),r=t.crlf?"\r\n":"\n",n=t.messageKey,i=t.levelKey,s=t.messageFormat,o=t.timestampKey,a=t.errorLikeObjectKeys,c=t.errorProps.split(","),u=t.customPrettifiers,l=t.ignore?new Set(t.ignore.split(",")):void 0,h=XS(t.colorize),f=t.search;return function(e){let d;if(rC(e))d=e;else{const t=lC(e);if(t.err||!rC(t.value))return e+r;d=t.value}if(f&&!YS.search(d,f))return;const p=sC({log:d,messageKey:n,colorizer:h,messageFormat:s});l&&(d=Object.keys(d).filter(e=>!l.has(e)).reduce((e,t)=>(e[t]=d[t],e),{}));const m=iC({log:d,colorizer:h,levelKey:i}),g=oC({log:d}),y=cC({log:d,translateFormat:t.translateTime,timestampKey:o});let v="";t.levelFirst&&m&&(v=""+m);y&&""===v?v=""+y:y&&(v=`${v} ${y}`);!t.levelFirst&&m&&(v=v.length>0?`${v} ${m}`:m);g&&(v=`${v} ${g}:`);!1===v.endsWith(":")&&""!==v&&(v+=":");p&&(v=`${v} ${p}`);v.length>0&&(v+=r);if("Error"===d.type&&d.stack){const e=nC({log:d,errorLikeKeys:a,errorProperties:c,ident:"    ",eol:r});v+=e}else{const e=[n,i,o].filter(e=>"string"==typeof d[e]||"number"==typeof d[e]),t=aC({input:d,skipKeys:e,customPrettifiers:u,errorLikeKeys:a,eol:r,ident:"    "});v+=t}return v}}}var pC,mC,gC,yC,vC,_C,bC,EC,wC,TC,RC,SC,CC,OC,kC,NC,AC,PC,MC,IC,LC,DC,xC=!1;function qC(){}function jC(e,t){return t?function(...e){t.call(this,e,r)}:r;function r(t,...r){if("object"==typeof t){var n,i=t;null!==t&&(t.method&&t.headers&&t.socket?t=gC(t):"function"==typeof t.setHeader&&(t=yC(t))),this[IC]&&(t={[this[IC]]:t}),null===i&&0===r.length?n=[null]:(i=r.shift(),n=r),this[TC](t,mC(i,n,this[SC]),e)}else this[TC](null,mC(t,r,this[SC]),e)}}function FC(e){var t="",r=0,n=!1,i=255;const s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)34!==(i=e.charCodeAt(o))&&92!==i||(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function $C(e,t,r,n){const i=this[kC],s=this[OC],o=this[CC],a=this[EC],c=this[RC],u=this[LC],l=this[DC];var h,f=this[bC][r]+n;f+=a;var d=void 0===e.hasOwnProperty;u.log&&(e=u.log(e)),void 0!==t&&(e[l]=t);const p=s[NC];for(var m in e)if(h=e[m],(d||e.hasOwnProperty(m))&&void 0!==h){h=c[m]?c[m](h):h;const e=s[m]||p;switch(typeof h){case"undefined":case"function":continue;case"number":!1===Number.isFinite(h)&&(h=null);case"boolean":e&&(h=e(h));break;case"string":h=(e||FC)(h);break;default:h=(e||i)(h)}if(void 0===h)continue;f+=',"'+m+'":'+h}return f+o}function BC(e,t){var r,n,i=e[EC];const s=e[kC],o=e[OC],a=o[NC],c=e[RC],u=e[LC].bindings;for(r in t=u(t)){n=t[r];if(!0===("level"!==r&&"serializers"!==r&&"formatters"!==r&&"customLevels"!==r&&t.hasOwnProperty(r)&&void 0!==n)){if(n=c[r]?c[r](n):n,void 0===(n=(o[r]||a||s)(n)))continue;i+=',"'+r+'":'+n}}return i}function UC(e,t,r,n){if(t&&"function"==typeof t)return HC((t=t.bind(n))(e),r,e);try{var i=(fC||(fC=!0,dC()),KS);return i.asMetaWrapper=HC,HC(i(e),r,e)}catch(e){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function HC(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);var n=!1;return{[AC]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){r.suppressFlushSyncWarning||n||(n=!0,KC(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){const e=this.lastLogger;var t=null;return e?(e.hasOwnProperty(wC)?t=e[wC]:(t=JSON.parse("{"+e[EC].substr(1)+"}"),e[wC]=t),t):null},write(r){const n=this.lastLogger,i=this.chindings();var s=this.lastTime;s.match(/^\d+/)&&(s=parseInt(s));var o=this.lastObj,a=this.lastMsg;const c=n[LC],u=c.log?c.log(o):o,l=n[DC];a&&u&&!u.hasOwnProperty(l)&&(u[l]=a);const h=Object.assign({level:this.lastLevel,time:s},u,null),f=n[RC],d=Object.keys(f);for(var p,m=0;m<d.length;m++)void 0!==h[p=d[m]]&&(h[p]=f[p](h[p]));for(p in i)h.hasOwnProperty(p)||(h[p]=i[p]);const g=n[OC][PC],y=e("function"==typeof g?g(h):h);void 0!==y&&(KC(t,this),t.write(y))}}}function WC(e){const t=new vC(e);return t.on("error",(function e(r){if("EPIPE"===r.code)return t.write=qC,t.end=qC,t.flushSync=qC,void(t.destroy=qC);t.removeListener("error",e),t.emit("error",r)})),t}function GC(e){return function(t,r={},n){if("string"==typeof r?(n=WC({dest:r,sync:!0}),r={}):"string"==typeof n?n=WC({dest:n,sync:!0}):(r instanceof vC||r.writable||r._writableState)&&(n=r,r=null),"extreme"in(r=Object.assign({},e,r)))throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in r)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in r&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),r.levelKey=r.changeLevelName,delete r.changeLevelName);const{enabled:i,prettyPrint:s,prettifier:o,messageKey:a}=r;if(!1===i&&(r.level="silent"),(n=n||process.stdout)===process.stdout&&n.fd>=0&&!function(e){return e.write!==e.constructor.prototype.write}(n)&&(n=WC({fd:n.fd,sync:!0})),s){n=UC(Object.assign({messageKey:a},s),o,n,t)}return{opts:r,stream:n}}}function VC(e,t){if(void 0===e||"function"!=typeof e.child)throw Error("expected a pino logger instance");const r=void 0!==t;if(r&&"function"!=typeof t)throw Error("if supplied, the handler parameter should be a function");const n=e[MC];if("function"!=typeof n.flushSync)throw Error("final requires a stream that has a flushSync method, such as pino.destination");const i=new Proxy(e,{get:(e,t)=>t in e.levels.values?(...r)=>{e[t](...r),n.flushSync()}:e[t]});return r?(e=null,...r)=>{try{n.flushSync()}catch(e){}return t(e,i,...r)}:i}function zC(e){try{return JSON.stringify(e)}catch(t){return _C(e)}}function QC(e,t,r){return{level:e,bindings:t,log:r}}function KC(e,t){!0===e[AC]&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}function JC(){return xC||(xC=!0,pC={},mC=_T(),({mapHttpRequest:gC,mapHttpResponse:yC}=rE()),vC=pT(),_C=kT(),({lsCacheSym:bC,chindingsSym:EC,parsedChindingsSym:wC,writeSym:TC,serializersSym:RC,formatOptsSym:SC,endSym:CC,stringifiersSym:OC,stringifySym:kC,wildcardFirstSym:NC,needsMetadataGsym:AC,redactFmtSym:PC,streamSym:MC,nestedKeySym:IC,formattersSym:LC,messageKeySym:DC}=Aw()),pC={noop:qC,buildSafeSonicBoom:WC,getPrettyStream:UC,asChindings:BC,asJson:$C,genLog:jC,createArgsNormalizer:GC,final:VC,stringify:zC,buildFormatters:QC}),pC}var YC,XC,ZC,eO,tO,rO,nO,iO,sO,oO,aO,cO,uO,lO,hO=!1;function fO(e){const t=e[nO].level,{labels:r}=e.levels,n={};for(const e in r){const i=t(r[e],Number(e));n[e]=JSON.stringify(i).slice(0,-1)}return e[ZC]=n,e}function dO(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function pO(e){const{labels:t,values:r}=this.levels;if("number"==typeof e){if(void 0===t[e])throw Error("unknown level value"+e);e=t[e]}if(void 0===r[e])throw Error("unknown level "+e);const n=this[eO],i=this[eO]=r[e],s=this[tO],o=this[iO].logMethod;for(var a in r)i>r[a]?this[a]=sO:this[a]=dO(a,s)?cO[a](o):oO(r[a],o);this.emit("level-change",e,i,t[n],n)}function mO(e){const{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function gO(e){const{values:t}=this.levels,r=t[e];return void 0!==r&&r>=this[eO]}function yO(e=null,t=!1){const r=e?Object.keys(e).reduce((t,r)=>(t[e[r]]=r,t),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:uO,r),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:aO,e)}}function vO(e,t,r){if("number"==typeof e){if(![].concat(Object.keys(t||{}).map(e=>t[e]),r?[]:Object.keys(uO).map(e=>+e),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}if(!(e in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:aO,t)))throw Error(`default level:${e} must be included in custom levels`)}function _O(e,t){const{labels:r,values:n}=e;for(const e in t){if(e in n)throw Error("levels cannot be overridden");if(t[e]in r)throw Error("pre-existing level values cannot be used for new levels")}}function bO(){return hO||(hO=!0,YC={},XC=Kw(),({lsCacheSym:ZC,levelValSym:eO,useOnlyCustomLevelsSym:tO,streamSym:rO,formattersSym:nO,hooksSym:iO}=Aw()),({noop:sO,genLog:oO}=JC()),aO={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},cO={fatal:e=>{const t=oO(aO.fatal,e);return function(...e){const r=this[rO];if(t.call(this,...e),"function"==typeof r.flushSync)try{r.flushSync()}catch(e){}}},error:e=>oO(aO.error,e),warn:e=>oO(aO.warn,e),info:e=>oO(aO.info,e),debug:e=>oO(aO.debug,e),trace:e=>oO(aO.trace,e)},uO=Object.keys(aO).reduce((e,t)=>(e[aO[t]]=t,e),{}),lO=Object.keys(uO).reduce((e,t)=>(e[t]=XC('{"level":'+Number(t)),e),{}),YC={initialLsCache:lO,genLsCache:fO,levelMethods:cO,getLevel:mO,setLevel:pO,isLevelEnabled:gO,mappings:yO,assertNoLevelCollisions:_O,assertDefaultLevelFound:vO}),YC}var EO,wO=!1;function TO(){return wO||(wO=!0,EO={},EO=JSON.parse('{"name":"pino","version":"6.5.0","description":"super fast, all natural json logger","main":"pino.js","browser":"./browser.js","files":["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],"scripts":{"docs":"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js","test":"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js","bench":"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},"bin":{"pino":"./bin.js"},"precommit":"test","repository":{"type":"git","url":"git+https://github.com/pinojs/pino.git"},"keywords":["fast","logger","stream","json"],"author":"Matteo Collina <hello@matteocollina.com>","contributors":["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],"license":"MIT","bugs":{"url":"https://github.com/pinojs/pino/issues"},"homepage":"http://getpino.io","devDependencies":{"airtap":"2.0.2","benchmark":"^2.1.4","bole":"^3.0.2","bunyan":"^1.8.12","docsify-cli":"^4.4.0","execa":"^1.0.0","fastbench":"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1","log":"^5.0.0","loglevel":"^1.6.7","pino-pretty":"^4.0.0","pre-commit":"^1.2.2","proxyquire":"^2.1.3","pump":"^3.0.0","semver":"^6.3.0","snazzy":"^8.0.0","split2":"^3.1.1","standard":"^14.3.3","steed":"^1.1.3","strip-ansi":"^6.0.0","tap":"^14.10.7","tape":"^4.13.2","through2":"^3.0.1","winston":"^3.2.1"},"dependencies":{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7","flatstr":"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.0"}}')),EO}var RO,SO,CO=!1;function OO(){return CO||(CO=!0,RO={},({version:SO}=TO()),RO={version:SO}),RO}var kO,NO,AO,PO,MO,IO,LO,DO,xO,qO,jO,FO,$O,BO,UO,HO,WO,GO,VO,zO,QO,KO,JO,YO,XO,ZO,ek,tk,rk,nk,ik,sk,ok=!1;function ak(e){if(!e)throw Error("missing bindings for child Pino");const t=this[HO],r=this[WO],n=Object.create(this);if(!0===e.hasOwnProperty("serializers")){for(var i in n[HO]=Object.create(null),t)n[HO][i]=t[i];const r=Object.getOwnPropertySymbols(t);for(var s=0;s<r.length;s++){const e=r[s];n[HO][e]=t[e]}for(var o in e.serializers)n[HO][o]=e.serializers[o];const c=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<c.length;a++){const t=c[a];n[HO][t]=e.serializers[t]}}else n[HO]=t;if(e.hasOwnProperty("formatters")){const{level:t,bindings:i,log:s}=e.formatters;n[WO]=rk(t||r.level,i||sk,s||r.log)}else n[WO]=rk(r.level,sk,r.log);!0===e.hasOwnProperty("customLevels")&&(ZO(this.levels,e.customLevels),n.levels=JO(e.customLevels,n[GO]),XO(n)),n[xO]=ek(n,e);const c=e.level||this.level;return n[LO](c),n}function ck(){var e=`{${this[xO].substr(1)}}`,t=JSON.parse(e);return delete t.pid,delete t.hostname,t}function uk(e){const t=ek(this,e);this[xO]=t}function lk(e,t,r){const n=this[$O](),i=this[qO],s=e instanceof Error;var o;null==e?o=i?i():{}:(o=Object.assign(i?i():{},e),!t&&s&&(t=e.message),s&&(o.stack=e.stack,o.type||(o.type="Error")));const a=this[jO](o,t,r,n),c=this[UO];!0===c[VO]&&(c.lastLevel=r,c.lastObj=o,c.lastMsg=t,c.lastTime=n.slice(this[BO]),c.lastLogger=this),c instanceof AO?c.write(a):c.write(PO(a))}function hk(){const e=this[UO];"flush"in e&&e.flush()}function fk(){return ok||(ok=!0,kO={},({EventEmitter:NO}=b),AO=pT(),PO=Kw(),({lsCacheSym:MO,levelValSym:IO,setLevelSym:LO,getLevelSym:DO,chindingsSym:xO,mixinSym:qO,asJsonSym:jO,writeSym:FO,timeSym:$O,timeSliceIndexSym:BO,streamSym:UO,serializersSym:HO,formattersSym:WO,useOnlyCustomLevelsSym:GO,needsMetadataGsym:VO}=Aw()),({getLevel:zO,setLevel:QO,isLevelEnabled:KO,mappings:JO,initialLsCache:YO,genLsCache:XO,assertNoLevelCollisions:ZO}=bO()),({asChindings:ek,asJson:tk,buildFormatters:rk}=JC()),({version:nk}=OO()),ik={constructor:class{},child:ak,bindings:ck,setBindings:uk,flush:hk,isLevelEnabled:KO,version:nk,get level(){return this[DO]()},set level(e){this[LO](e)},get levelVal(){return this[IO]},set levelVal(e){throw Error("levelVal is read-only")},[MO]:YO,[FO]:lk,[jO]:tk,[DO]:zO,[LO]:QO},Object.setPrototypeOf(ik,NO.prototype),kO=function(){return Object.create(ik)},sk=e=>e),kO}var dk,pk,mk,gk,yk,vk,_k,bk,Ek,wk,Tk,Rk,Sk,Ck,Ok,kk,Nk,Ak,Pk,Mk,Ik,Lk,Dk,xk,qk,jk,Fk,$k,Bk,Uk,Hk,Wk,Gk,Vk,zk,Qk,Kk,Jk,Yk,Xk,Zk,eN,tN,rN=!1;function nN(...e){const t={},{opts:r,stream:n}=eN(t,...e),{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:c,nestedKey:u,base:l,name:h,level:f,customLevels:d,useLevelLabels:p,changeLevelName:m,levelKey:g,mixin:y,useOnlyCustomLevels:v,formatters:_,hooks:b}=r,E=kk(_.level,_.bindings,_.log);!p||m||g?!m&&!g||p?(m||g)&&p&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),E.level=function(e){return function(t,r){return{[e]:t}}}(m||g)):(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),E.level=function(e){return function(t,r){return{[e]:r}}}(m||g)):(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),E.level=iN),o[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),E.log=o[Symbol.for("pino.*")]),E.bindings||(E.bindings=Zk.formatters.bindings),E.level||(E.level=Zk.formatters.level);const w=i?gk(i,Ck):{},T=i?{stringify:w[Mk]}:{stringify:Ck},R="}"+(s?"\r\n":"\n"),S=Rk.bind(null,{[Pk]:"",[Ik]:o,[jk]:w,[qk]:Ck,[Vk]:E}),C=null===l?"":S(void 0===h?l:Object.assign({},l,{name:h})),O=a instanceof Function?a:a?Qk:Kk,k=O().indexOf(":")+1;if(v&&!d)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(y&&"function"!=typeof y)throw Error(`Unknown mixin type "${typeof y}" - expected "function"`);bk(f,d,v);const N=Ek(d,v);return Object.assign(t,{levels:N,[Gk]:v,[xk]:n,[Lk]:O,[Dk]:k,[qk]:Ck,[jk]:w,[$k]:R,[Bk]:T,[Uk]:c,[Hk]:u,[Ik]:o,[Wk]:y,[Pk]:C,[Vk]:E,[zk]:b,silent:Nk}),Object.setPrototypeOf(t,vk()),wk(t),t[Fk](f),t}function iN(e,t){return{level:e}}function sN(){return rN||(rN=!0,dk={},pk=i,mk=rE(),gk=Uw(),yk=Gw(),vk=fk(),_k=Aw(),({assertDefaultLevelFound:bk,mappings:Ek,genLsCache:wk}=bO()),({createArgsNormalizer:Tk,asChindings:Rk,final:Sk,stringify:Ck,buildSafeSonicBoom:Ok,buildFormatters:kk,noop:Nk}=JC()),({version:Ak}=OO()),({chindingsSym:Pk,redactFmtSym:Mk,serializersSym:Ik,timeSym:Lk,timeSliceIndexSym:Dk,streamSym:xk,stringifySym:qk,stringifiersSym:jk,setLevelSym:Fk,endSym:$k,formatOptsSym:Bk,messageKeySym:Uk,nestedKeySym:Hk,mixinSym:Wk,useOnlyCustomLevelsSym:Gk,formattersSym:Vk,hooksSym:zk}=_k),({epochTime:Qk,nullTime:Kk}=yk),({pid:Jk}=process),Yk=pk.hostname(),Xk=mk.err,Zk={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:Jk,hostname:Yk},serializers:Object.assign(Object.create(null),{err:Xk}),formatters:Object.assign(Object.create(null),{bindings:e=>e,level:(e,t)=>({level:t})}),hooks:{logMethod:void 0},timestamp:Qk,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},eN=Tk(Zk),tN=Object.assign(Object.create(null),mk),nN.extreme=(e=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),Ok({dest:e,minLength:4096,sync:!1})),nN.destination=(e=process.stdout.fd)=>"object"==typeof e?(e.dest=e.dest||process.stdout.fd,Ok(e)):Ok({dest:e,minLength:0,sync:!0}),nN.final=Sk,nN.levels=Ek(),nN.stdSerializers=tN,nN.stdTimeFunctions=Object.assign({},yk),nN.symbols=_k,nN.version=Ak,dk=nN),dk}var oN,aN,cN,uN,lN,hN=!1;function fN(e,t){void 0===e&&(e={});var r=uN.default(aN({name:process.env.PRODUCT||"UNINDENTIFIED",base:{},level:"development"===process.env.NODE_ENV?"debug":"info",formatters:{level:function(e){return{level:e}}},prettyPrint:!0},e),t);return r.show=function(){},r}function dN(){return hN||(hN=!0,aN=(oN={})&&oN.__assign||function(){return(aN=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},cN=oN&&oN.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},!0,oN.__esModule=!0,uN=cN(sN()),lN=fN,oN.default=lN),oN}var pN,mN,gN,yN,vN,_N,bN,EN,wN,TN=!1;var RN,SN,CN,ON,kN=!1;var NN={},AN=NN&&NN.__assign||function(){return(AN=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};NN.__esModule=!0;var PN,MN=void 0;NN.createLogger=MN;PN="ext"===process.env.PRODUCT&&function(){try{return require.resolve("vscode"),!0}catch(e){return!1}}()?(TN||(TN=!0,function(){if(mN=(pN={})&&pN.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},!0,pN.__esModule=!0,"ext"!==process.env.PRODUCT)throw"Cant use outputchannels outside of VSCode context";gN=m,yN=e,vN=mN(dN()),_N=yN.window.createOutputChannel(process.env.DISPLAY_NAME||"SQLTools"),bN=new gN.Writable({write:function(e,t,r){_N.append(e.toString(e.encoding||"utf8")),r()},writev:function(e,t){e.forEach((function(e){return _N.append(e.chunk.toString(e.encoding||"utf8"))})),t()}}),(EN=vN.default({},bN)).clear=_N.clear.bind(_N),EN.outputChannel=_N,EN.show=function(){return _N.show()},wN=EN,pN.default=wN}()),pN).default:(kN||(kN=!0,SN=(RN={})&&RN.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},!0,RN.__esModule=!0,CN=SN(dN()),ON=CN.default(),RN.default=ON),RN).default,MN=function(e,t){return void 0===t&&(t={}),e?PN.child(AN(AN({},t),{ns:e})):PN},NN.createLogger=MN;var IN=PN;NN.default=IN;const LN=Ao(d),DN=Ao(h);class xN{constructor(e,t){this.credentials=e,this.getWorkspaceFolders=t,this.deps=[],this.queryResults=(e,t)=>No(this,void 0,void 0,(function*(){const r=yield this.singleQuery(e,t);if(r.error)throw r.rawError;return r.results})),this.requireDep=e=>Nb.default(e),this.resolveDep=e=>Nb.sqltoolsResolve(e),this.log=NN.createLogger(e.driver.toLowerCase())}getId(){return this.credentials.id}singleQuery(e,t){return this.query(e,t).then(([e])=>e)}describeTable(e,t){return No(this,void 0,void 0,(function*(){const r=yield this.singleQuery(this.queries.describeTable(e),t);return r.baseQuery=this.queries.describeTable.raw,[r]}))}showRecords(e,t){return No(this,void 0,void 0,(function*(){const{limit:r,page:n=0}=t,i=Object.assign(Object.assign({},t),{limit:r,table:e,offset:n*r});if("function"==typeof this.queries.fetchRecords&&"function"==typeof this.queries.countRecords){const[s,o]=yield Promise.all([this.singleQuery(this.queries.fetchRecords(i),t),this.singleQuery(this.queries.countRecords(i),t)]);return s.baseQuery=this.queries.fetchRecords.raw,s.pageSize=r,s.page=n,s.total=Number(o.results[0].total),s.queryType="showRecords",s.queryParams=e,[s]}return this.query(this.queries.fetchRecords(i),t)}))}checkDependencies(){return No(this,void 0,void 0,(function*(){if(this.deps&&0!==this.deps.length){if(1!==Number(process.env.IS_NODE_RUNTIME||"0"))throw new By.default;this.deps.forEach(e=>{let t=!1;switch(e.type){case xN.CONSTANTS.DEPENDENCY_PACKAGE:try{const{version:r}=JSON.parse(DN.default.readFileSync(this.resolveDep(e.name+"/package.json")).toString());if(e.version&&r!==e.version)throw t=!0,new Error("Version not matching. We need to upgrade "+e.name);this.requireDep(e.name)}catch(e){throw new Qy.default(this.deps,this.credentials,t)}}})}}))}getChildrenForItem(e){return this.log.error(`###### Attention ######getChildrenForItem not implemented for ${this.credentials.driver}\n####################`),Promise.resolve([])}searchItems(e,t,r){return this.log.error(`###### Attention ######searchItems not implemented for ${this.credentials.driver}\n####################`),Promise.resolve([])}toAbsolutePath(e){return No(this,void 0,void 0,(function*(){if(!LN.default.isAbsolute(e)&&/\$\{workspaceFolder:(.+)}/g.test(e)){const t=e.match(/\$\{workspaceFolder:(.+)}/)[1];if(t){const r=(yield this.getWorkspaceFolders()).find(e=>e.name===t);e=LN.default.resolve(r.uri.replace(/^(\w+):\/\//,""),e.replace(/\$\{workspaceFolder:(.+)}/g,"./"))}}return e}))}prepareMessage(e){return{message:e.toString(),date:new Date}}}var qN=xN;So.default=qN,xN.CONSTANTS={DEPENDENCY_PACKAGE:"package",DEPENDENCY_NPM_SCRIPT:"npmscript"};var jN,FN,$N,BN,UN,HN={},WN={},GN={},VN={},zN={},QN={};UN="object"==typeof T&&T&&T.Object===Object&&T;var KN="object"==typeof self&&self&&self.Object===Object&&self;$N=(BN=UN||KN||Function("return this")()).Symbol;var JN={},YN=Object.prototype,XN=YN.hasOwnProperty,ZN=YN.toString,eA=$N?$N.toStringTag:void 0;JN=function(e){var t=XN.call(e,eA),r=e[eA];try{e[eA]=void 0;var n=!0}catch(e){}var i=ZN.call(e);return n&&(t?e[eA]=r:delete e[eA]),i};var tA={},rA=Object.prototype.toString;tA=function(e){return rA.call(e)};var nA=$N?$N.toStringTag:void 0;QN=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":nA&&nA in Object(e)?JN(e):tA(e)};var iA={};iA=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};zN=function(e){if(!iA(e))return!1;var t=QN(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var sA,oA,aA={},cA=BN["__core-js_shared__"],uA=(oA=/[^.]+$/.exec((sA=cA)&&sA.keys&&sA.keys.IE_PROTO||""))?"Symbol(src)_1."+oA:"";aA=function(e){return!!uA&&uA in e};var lA={},hA=Function.prototype.toString;lA=function(e){if(null!=e){try{return hA.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var fA=/^\[object .+?Constructor\]$/,dA=Function.prototype,pA=Object.prototype,mA=dA.toString,gA=pA.hasOwnProperty,yA=RegExp("^"+mA.call(gA).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");VN=function(e){return!(!iA(e)||aA(e))&&(zN(e)?yA:fA).test(lA(e))};var vA={};vA=function(e,t){return null==e?void 0:e[t]},GN=function(e,t){var r=vA(e,t);return VN(r)?r:void 0};var _A=function(){try{var e=GN(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();WN=_A,HN=function(e,t,r){"__proto__"==t&&WN?WN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var bA={};bA=function(e,t){return e===t||e!=e&&t!=t};var EA=Object.prototype.hasOwnProperty;FN=function(e,t,r){var n=e[t];EA.call(e,t)&&bA(n,r)&&(void 0!==r||t in e)||HN(e,t,r)};var wA={};wA=function(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var a=n<s?t[n]:void 0;r(o,e[n],a)}return o},jN=function(e,t){return wA(e||[],t||[],FN)};RegExp(/[\\^$.*+?()[\]{}|]/g.source);let TA;var RA;(RA=TA||(TA={})).WHITESPACE="whitespace",RA.WORD="word",RA.STRING="string",RA.RESERVED="reserved",RA.RESERVED_TOP_LEVEL="reserved-top-level",RA.RESERVED_TOP_LEVEL_NO_INDENT="reserved-top-level-no-indent",RA.RESERVED_NEWLINE="reserved-newline",RA.OPERATOR="operator",RA.NO_SPACE_OPERATOR="no-space-operator",RA.OPEN_PAREN="open-paren",RA.CLOSE_PAREN="close-paren",RA.LINE_COMMENT="line-comment",RA.BLOCK_COMMENT="block-comment",RA.NUMBER="number",RA.PLACEHOLDER="placeholder",RA.SERVERVARIABLE="servervariable";class SA{static parse(e,t="mysql"){"mssql"===t&&(e=e.replace(/^[ \t]*GO;?[ \t]*$/gim,""));for(var r=[];;){null==s&&(s=e);var n=SA.getStatements(s,t,";"),i=n[0];null!=i&&""!=i.trim()&&r.push(i);var s=n[1];if(null==s||""==s.trim())break}return r}static getStatements(e,t,r){for(var n=Array.from(e),i=null,s=null,o=!1,a=null,c=!1,u=null,l=!1,h=null,f=[],d=0;d<n.length;d++){var p=n[d];if(d>0&&(i=n[d-1]),d<n.length&&(s=n[d+1]),"\\"==i||"'"!=p&&'"'!=p||0!=c||0!=o)if(("#"==p&&" "==s||"-"==p&&"-"==s||"/"==p&&"*"==s)&&0==c)o=!0,a=p;else if(1!=o||("#"!=a&&"-"!=a||"\n"!=p)&&("/"!=a||"*"!=p||"/"!=s))if("\\"==i||p!=u||1!=c){if("d"==p.toLowerCase()&&0==o&&0==c){var m=SA.getDelimiter(d,e,t);if(null!=m){var g=m[0],y=m[1];e=e.substring(y),f=SA.getStatements(e,t,g);break}}if("$"==p&&0==o&&0==c){var v,_=e.substring(d);if(0==l)null!=(v=SA.getTag(_,t))&&(l=!0,h=v[0]);else if(null!=(v=SA.getTag(_,t)))v[0]==h&&(l=!1)}if("mssql"===t&&"g"===p.toLowerCase()&&"o"===(""+(n[d+1]||"")).toLowerCase()&&void 0!==n[d+2]&&/go\b/gi.test(`${p}${n[d+1]}${n[d+2]}`)&&(p=`${p}${n[d+1]}`),(p.toLowerCase()===r.toLowerCase()||"go"===p.toLowerCase())&&0==c&&0==o&&0==l){var b=d+1;if("mssql"===t&&"go"===p.toLowerCase()){b=d,f=SA.getQueryParts(e,b,2);break}f=SA.getQueryParts(e,b,0);break}}else c=!1,u=null;else o=!1,a=null;else c=!0,u=p}return 0==f.length&&(null!=e&&(e=e.trim()),f.push(e,null)),f}static getQueryParts(e,t,r=1){var n=e.substring(0,t),i=e.substring(t+r),s=[];return null!=n&&(n=n.trim()),s.push(n),s.push(i),s}static getDelimiter(e,t,r){if("mysql"==r){var n="delimiter ".length,i=t.substring(e);if(0==i.toLowerCase().indexOf("delimiter ")){var s=t.substring(e),o=s.indexOf("\n");-1==o&&(o=t.length);var a=(s=(s=s.substring(0,o)).substring(n)).trim();if(null!=(a=SA.clearTextUntilComment(a))){a=a.trim();var c=i.indexOf(a)+e+a.length,u=[];return u.push(a),u.push(c),u}return null}return null}}static getTag(e,t){if("pg"==t){var r=e.match(/^(\$[a-zA-Z]*\$)/i);if(null!=r&&r.length>1){var n=[],i=r[1].trim(),s=e.indexOf(i);return n.push(i),n.push(s),n}return null}}static isGoDelimiter(e,t,r){if("mssql"==e){var n=/(?:\bgo\b\s*)/i.exec(t);return null!=n&&n.index==r}}static clearTextUntilComment(e){for(var t=null,r=Array.from(e),n=null,i=0;i<r.length;i++){var s=r[i];if(i<r.length&&(t=r[i+1]),"#"==s&&" "==t||"-"==s&&"-"==t||"/"==s&&"*"==t)break;null==n&&(n=""),n+=s}return n}}var CA=SA.parse;const OA=new Uint8Array(16);function kA(){return v.randomFillSync(OA)}var NA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const AA=[];for(let e=0;e<256;++e)AA.push((e+256).toString(16).substr(1));function PA(e,t=0){const r=(AA[e[t+0]]+AA[e[t+1]]+AA[e[t+2]]+AA[e[t+3]]+"-"+AA[e[t+4]]+AA[e[t+5]]+"-"+AA[e[t+6]]+AA[e[t+7]]+"-"+AA[e[t+8]]+AA[e[t+9]]+"-"+AA[e[t+10]]+AA[e[t+11]]+AA[e[t+12]]+AA[e[t+13]]+AA[e[t+14]]+AA[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&NA.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r}function MA(e,t,r){const n=(e=e||{}).random||(e.rng||kA)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return PA(n)}function IA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const LA=e=>e;Js.types.setTypeParser(Js.types.builtins.TIMESTAMP||1114,LA),Js.types.setTypeParser(Js.types.builtins.TIMESTAMPTZ||1184,LA),Js.types.setTypeParser(Js.types.builtins.DATE||1082,LA);var DA=E(jN),xA=E(So);class qA extends xA{constructor(...e){super(...e),IA(this,"queries",Ro),IA(this,"query",(e,t={})=>{const r=[];let n;const{requestId:i}=t;return this.open().then(async t=>{n=await t.connect(),n.on("notice",e=>r.push(this.prepareMessage(`${e.name.toUpperCase()}: ${e.message}`)));const i=await n.query({text:e.toString(),rowMode:"array"});return n.release(),i}).then(t=>{const n=function(e,t="mysql"){return CA(e,t)}(e.toString(),"pg");return Array.isArray(t)||(t=[t]),t.map((e,t)=>{const s=this.getColumnNames(e.fields||[]);return{requestId:i,resultId:MA(),connId:this.getId(),cols:s,messages:r.concat([this.prepareMessage(`${e.command} successfully executed.${"select"!==e.command.toLowerCase()&&"number"==typeof e.rowCount?` ${e.rowCount} rows were affected.`:""}`)]),query:n[t],results:this.mapRows(e.rows,s)}})}).catch(t=>(n&&n.release(),[{connId:this.getId(),requestId:i,resultId:MA(),cols:[],messages:r.concat([this.prepareMessage([t&&t.message||t,t&&"scanner_yyerror"===t.routine&&t.position?"at character "+t.position:void 0].filter(Boolean).join(" "))]),error:!0,rawError:t,query:e,results:[]}]))}),IA(this,"completionsCache",null),IA(this,"getStaticCompletions",async()=>{if(this.completionsCache)return this.completionsCache;this.completionsCache={};return(await this.queryResults("SELECT UPPER(word) AS label, UPPER(catdesc) AS desc FROM pg_get_keywords();")).forEach(e=>{this.completionsCache[e.label]={label:e.label,detail:e.label,filterText:e.label,sortText:(["SELECT","CREATE","UPDATE","DELETE"].includes(e.label)?"2:":"")+e.label,documentation:{value:`\`\`\`yaml\nWORD: ${e.label}\nTYPE: ${e.desc}\n\`\`\``,kind:"markdown"}}}),this.completionsCache})}async open(){if(this.connection)return this.connection;try{const{ssl:e,...t}=this.credentials.pgOptions||{};let r={connectionTimeoutMillis:1e3*Number(""+(this.credentials.connectionTimeout||0)),...t};if(r=this.credentials.connectString?{connectionString:this.credentials.connectString,...r}:{database:this.credentials.database,host:this.credentials.server,password:this.credentials.password,port:this.credentials.port,user:this.credentials.username,...r},e)if("object"==typeof e){const t={...e};["ca","key","cert","pfx"].forEach(e=>{t[e]?(this.log.info("Reading file "+t[e].replace(/^file:\/\//,"")),t[e]=f.readFileSync(t[e].replace(/^file:\/\//,"")).toString()):delete t[e]}),Object.keys(t).length>0&&(r.ssl=t)}else r.ssl=e||!1;const n=new Js.Pool(r);return(await n.connect()).release(),this.connection=Promise.resolve(n),this.connection}catch(e){return Promise.reject(e)}}async close(){if(!this.connection)return Promise.resolve();const e=await this.connection;this.connection=null,e.end()}getColumnNames(e){return e.reduce((e,{name:t})=>{const r=e.filter(e=>e===t).length;return e.concat(r>0?`${t} (${r})`:t)},[])}mapRows(e,t){return e.map(e=>DA(t,e))}async getColumns(e){return(await this.queryResults(this.queries.fetchColumns(e))).map(t=>({...t,iconName:t.isPk?"pk":t.isFk?"fk":null,childType:uo.ContextValue.NO_CHILD,table:e}))}async testConnection(){const e=await this.open(),t=await e.connect();await t.query("SELECT 1"),t.release()}async getChildrenForItem({item:e,parent:t}){switch(e.type){case uo.ContextValue.CONNECTION:case uo.ContextValue.CONNECTED_CONNECTION:return this.queryResults(this.queries.fetchDatabases());case uo.ContextValue.TABLE:case uo.ContextValue.VIEW:case uo.ContextValue.MATERIALIZED_VIEW:return this.getColumns(e);case uo.ContextValue.DATABASE:return[{label:"Schemas",type:uo.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:uo.ContextValue.SCHEMA}];case uo.ContextValue.RESOURCE_GROUP:return this.getChildrenForGroup({item:e,parent:t});case uo.ContextValue.SCHEMA:return[{label:"Tables",type:uo.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:uo.ContextValue.TABLE},{label:"Views",type:uo.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:uo.ContextValue.VIEW},{label:"Materialized Views",type:uo.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:uo.ContextValue.MATERIALIZED_VIEW},{label:"Functions",type:uo.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:uo.ContextValue.FUNCTION}]}return[]}async getChildrenForGroup({parent:e,item:t}){switch(t.childType){case uo.ContextValue.SCHEMA:return this.queryResults(this.queries.fetchSchemas(e));case uo.ContextValue.TABLE:return this.queryResults(this.queries.fetchTables(e));case uo.ContextValue.VIEW:return this.queryResults(this.queries.fetchViews(e));case uo.ContextValue.MATERIALIZED_VIEW:return this.queryResults(this.queries.fetchMaterializedViews(e));case uo.ContextValue.FUNCTION:return this.queryResults(this.queries.fetchFunctions(e))}return[]}searchItems(e,t,r={}){switch(e){case uo.ContextValue.TABLE:return this.queryResults(this.queries.searchTables({search:t}));case uo.ContextValue.COLUMN:return this.queryResults(this.queries.searchColumns({search:t,...r}))}}}const jA=[{displayName:"PostgreSQL",value:"PostgreSQL"},{displayName:"AWS Redshift",value:"AWS Redshift"}],FA={register(e){jA.forEach(({value:t})=>{e.getContext().drivers.set(t,qA)})}};exports.default=FA;
//# sourceMappingURL=plugin.js.map
